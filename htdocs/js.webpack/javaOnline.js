!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(11),n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),e.exports=n(10)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function i(e,t,n,i){r(!0),$.ajax({type:"POST",async:!0,data:JSON.stringify(t),contentType:"application/json",url:e,success:function(e){if(r(!1),null!=e.success&&0==e.success||"string"==typeof e&&""==e){var t="Fehler bei der Bearbeitung der Anfrage";null!=e.message&&(t=e.message),"Not logged in"==t&&location.reload(),i&&i(t)}else n(e)},error:function(e,t){if(r(!1),i){var n="Server nicht erreichbar.";return 0!=e.status&&(n=""+e.status),void i(t+": "+n)}}})}function r(e){e?jQuery(".jo_network-busy").show():jQuery(".jo_network-busy").hide()}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var a,s,l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$updateTimerDiv=n,this.ownUpdateFrequencyInSeconds=20,this.teacherUpdateFrequencyInSeconds=5,this.updateFrequencyInSeconds=20,this.forcedUpdateEvery=2,this.secondsTillNextUpdate=this.updateFrequencyInSeconds,this.errorHappened=!1}var t,n,r;return t=e,(n=[{key:"initializeTimer",value:function(){var e=this,t=this;this.$updateTimerDiv.find("svg").attr("width",t.updateFrequencyInSeconds),null!=this.interval&&clearInterval(this.interval);var n=this.forcedUpdateEvery;this.interval=setInterval((function(){if(null!=t.main.user){if(t.secondsTillNextUpdate--,t.secondsTillNextUpdate<0){t.secondsTillNextUpdate=t.updateFrequencyInSeconds;var i=0==--n;i&&(n=e.forcedUpdateEvery),t.sendUpdates((function(){}),i)}var r=e.$updateTimerDiv.find(".jo_updateTimerRect");r.attr("width",t.secondsTillNextUpdate+"px"),t.errorHappened?(r.css("fill","#c00000"),e.$updateTimerDiv.attr("title","Fehler beim letzten Speichervorgang -> Werd's wieder versuchen")):(r.css("fill","#008000"),e.$updateTimerDiv.attr("title",t.secondsTillNextUpdate+" Sekunden bis zum nÃ¤chsten Speichern"))}}),1e3)}},{key:"sendUpdates",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.main.user){this.main.projectExplorer.writeEditorTextToFile();var r=null===(t=this.main.rightDiv)||void 0===t?void 0:t.classDiagram,o=this.main.user.settings;((null==r?void 0:r.dirty)||this.main.userDataDirty)&&(this.main.userDataDirty=!1,o.classDiagram=null==r?void 0:r.serialize(),this.sendUpdateUserSettings((function(){}))),r.dirty=!1;var a=[],s=[],l=!0,u=!1,c=void 0;try{for(var d,h=this.main.workspaceList[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;p.saved||(a.push(p.getWorkspaceData(!1)),p.saved=!0);var f=!0,y=!1,m=void 0;try{for(var v,g=p.moduleStore.getModules(!1)[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;b.file.saved||(b.file.text=b.getProgramTextFromMonacoModel(),s.push(b.getFileData(p)),b.file.saved=!0)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var w={workspacesWithoutFiles:a,files:s,owner_id:this.main.workspacesOwnerId,userId:this.main.user.id},k=this;if(a.length>0||s.length>0||n)i("sendUpdates",w,(function(t){k.errorHappened=!t.success,k.errorHappened||(k.updateWorkspaces(w,t),null==e)||e()}),(function(){k.errorHappened=!0}));else if(null!=e)return void e()}}},{key:"sendCreateWorkspace",value:function(e,t,n){i("createOrDeleteFileOrWorkspace",{type:"create",entity:"workspace",data:e.getWorkspaceData(!1),owner_id:t,userId:this.main.user.id},(function(t){e.id=t.id,n(null)}),n)}},{key:"sendCreateFile",value:function(e,t,n,r){i("createOrDeleteFileOrWorkspace",{type:"create",entity:"file",data:e.getFileData(t),owner_id:n,userId:this.main.user.id},(function(t){e.file.id=t.id,r(null)}),r)}},{key:"sendDuplicateWorkspace",value:function(e,t){i("duplicateWorkspace",{workspace_id:e.id},(function(e){t(e.message,e.workspace)}),t)}},{key:"sendDistributeWorkspace",value:function(e,t,n,r){this.sendUpdates((function(){i("distributeWorkspace",{workspace_id:e.id,class_id:null==t?void 0:t.id,student_ids:n},(function(e){r(e.message)}),r)}),!1)}},{key:"sendCreateRepository",value:function(e,t,n,r,o){this.sendUpdates((function(){i("createRepository",{workspace_id:e.id,publish_to:t,name:n,description:r},(function(t){e.moduleStore.getModules(!1).forEach((function(e){e.file.is_copy_of_id=e.file.id,e.file.repository_file_version=1})),e.repository_id=t.repository_id,e.has_write_permission_to_repository=!0,o(t.message,t.repository_id)}),o)}),!0)}},{key:"sendDeleteWorkspaceOrFile",value:function(e,t,n){i("createOrDeleteFileOrWorkspace",{type:"delete",entity:e,id:t,userId:this.main.user.id},(function(e){e.success?n(null):n("Netzwerkfehler!")}),n)}},{key:"sendUpdateUserSettings",value:function(e){i("updateUserSettings",{settings:this.main.user.settings,userId:this.main.user.id},(function(t){t.success?e(null):e("Netzwerkfehler!")}),e)}},{key:"updateWorkspaces",value:function(e,t){var n=this,i=new Map,r=[];e.files.forEach((function(e){return r.push(e.id)})),t.workspaces.workspaces.forEach((function(e){return i.set(e.id,e)}));var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value;0==n.main.workspaceList.filter((function(t){return t.id==e.id})).length&&(o.push(e.name),n.createNewWorkspaceFromWorkspaceData(e))},d=t.workspaces.workspaces[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)c()}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}var h=!0,p=!1,f=void 0;try{for(var y,m=this.main.workspaceList[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var v=y.value,g=i.get(v.id);null!=g&&function(){var e=new Map;g.files.forEach((function(t){return e.set(t.id,t)}));var t=new Map,i=!0,o=!1,a=void 0;try{for(var s,l=v.moduleStore.getModules(!1)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=u.file.id;t.set(c,u);var d=e.get(c);null==d?(n.main.projectExplorer.fileListPanel.removeElement(u),n.main.currentWorkspace.moduleStore.removeModule(u)):d.version>u.file.version&&((r.indexOf(c)<0||d.forceUpdate)&&(u.file.text=d.text,u.model.setValue(d.text),u.file.saved=!0,u.lastSavedVersionId=u.model.getAlternativeVersionId()),u.file.version=d.version)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var h=!0,p=!1,f=void 0;try{for(var y,m=g.files[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var b=y.value;null==t.get(b.id)&&n.createFile(v,b)}}catch(e){p=!0,f=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw f}}}()}}catch(e){p=!0,f=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw f}}if(o.length>0){var b=o.length>1?"Folgende Workspaces hat Deine Lehrkraft Dir gesendet: ":"Folgenden Workspace hat Deine Lehrkraft Dir gesendet: ";b+=o.join(", "),alert(b)}}},{key:"createNewWorkspaceFromWorkspaceData",value:function(e){var t=this.main.createNewWorkspace(e.name,e.owner_id);t.id=e.id,t.repository_id=e.repository_id,t.has_write_permission_to_repository=e.has_write_permission_to_repository,this.main.workspaceList.push(t),this.main.projectExplorer.workspaceListPanel.addElement({name:e.name,externalElement:t,iconClass:null==e.repository_id?"workspace":"repository"});var n=!0,i=!1,r=void 0;try{for(var o,a=e.files[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.createFile(t,s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"createFile",value:function(e,t){var n=null;e==this.main.currentWorkspace&&(n={name:t.name,externalElement:null},this.main.projectExplorer.fileListPanel.addElement(n));var i={id:t.id,name:t.name,dirty:!1,saved:!0,text:t.text,version:t.version,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:!0,workspace_id:e.id,panelElement:n},r=this.main.projectExplorer.getNewModule(i);null!=n&&(n.externalElement=r),e.moduleStore.putModule(r)}}])&&o(t.prototype,n),r&&o(t,r),e}();function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.identifier=0]="identifier",e[e.integerConstant=1]="integerConstant",e[e.floatingPointConstant=2]="floatingPointConstant",e[e.booleanConstant=3]="booleanConstant",e[e.stringConstant=4]="stringConstant",e[e.charConstant=5]="charConstant",e[e.true=6]="true",e[e.false=7]="false",e[e.keywordPrint=8]="keywordPrint",e[e.keywordPrintln=9]="keywordPrintln",e[e.keywordClass=10]="keywordClass",e[e.keywordThis=11]="keywordThis",e[e.keywordSuper=12]="keywordSuper",e[e.keywordNew=13]="keywordNew",e[e.keywordInterface=14]="keywordInterface",e[e.keywordEnum=15]="keywordEnum",e[e.keywordVoid=16]="keywordVoid",e[e.keywordAbstract=17]="keywordAbstract",e[e.keywordPublic=18]="keywordPublic",e[e.keywordProtected=19]="keywordProtected",e[e.keywordPrivate=20]="keywordPrivate",e[e.keywordTransient=21]="keywordTransient",e[e.keywordStatic=22]="keywordStatic",e[e.keywordExtends=23]="keywordExtends",e[e.keywordImplements=24]="keywordImplements",e[e.keywordWhile=25]="keywordWhile",e[e.keywordDo=26]="keywordDo",e[e.keywordFor=27]="keywordFor",e[e.keywordSwitch=28]="keywordSwitch",e[e.keywordCase=29]="keywordCase",e[e.keywordDefault=30]="keywordDefault",e[e.keywordIf=31]="keywordIf",e[e.keywordThen=32]="keywordThen",e[e.keywordElse=33]="keywordElse",e[e.keywordReturn=34]="keywordReturn",e[e.keywordBreak=35]="keywordBreak",e[e.keywordContinue=36]="keywordContinue",e[e.keywordNull=37]="keywordNull",e[e.keywordFinal=38]="keywordFinal",e[e.keywordInstanceof=39]="keywordInstanceof",e[e.leftBracket=40]="leftBracket",e[e.rightBracket=41]="rightBracket",e[e.leftSquareBracket=42]="leftSquareBracket",e[e.rightSquareBracket=43]="rightSquareBracket",e[e.leftCurlyBracket=44]="leftCurlyBracket",e[e.rightCurlyBracket=45]="rightCurlyBracket",e[e.leftRightSquareBracket=46]="leftRightSquareBracket",e[e.doubleMinus=47]="doubleMinus",e[e.doublePlus=48]="doublePlus",e[e.dot=49]="dot",e[e.modulo=50]="modulo",e[e.minus=51]="minus",e[e.plus=52]="plus",e[e.multiplication=53]="multiplication",e[e.division=54]="division",e[e.singleQuote=55]="singleQuote",e[e.doubleQuote=56]="doubleQuote",e[e.lower=57]="lower",e[e.greater=58]="greater",e[e.lowerOrEqual=59]="lowerOrEqual",e[e.greaterOrEqual=60]="greaterOrEqual",e[e.equal=61]="equal",e[e.notEqual=62]="notEqual",e[e.assignment=63]="assignment",e[e.plusAssignment=64]="plusAssignment",e[e.minusAssignment=65]="minusAssignment",e[e.multiplicationAssignment=66]="multiplicationAssignment",e[e.divisionAssignment=67]="divisionAssignment",e[e.moduloAssignment=68]="moduloAssignment",e[e.and=69]="and",e[e.or=70]="or",e[e.ampersand=71]="ampersand",e[e.ternaryOperator=72]="ternaryOperator",e[e.colon=73]="colon",e[e.ellipsis=74]="ellipsis",e[e.not=75]="not",e[e.semicolon=76]="semicolon",e[e.comma=77]="comma",e[e.backslash=78]="backslash",e[e.at=79]="at",e[e.space=80]="space",e[e.tab=81]="tab",e[e.newline=82]="newline",e[e.linefeed=83]="linefeed",e[e.identifierChar=84]="identifierChar",e[e.comment=85]="comment",e[e.negation=86]="negation",e[e.referenceElement=87]="referenceElement",e[e.endofSourcecode=88]="endofSourcecode",e[e.binaryOp=89]="binaryOp",e[e.unaryOp=90]="unaryOp",e[e.localVariableDeclaration=91]="localVariableDeclaration",e[e.heapVariableDeclaration=92]="heapVariableDeclaration",e[e.pushLocalVariableToStack=93]="pushLocalVariableToStack",e[e.popAndStoreIntoVariable=94]="popAndStoreIntoVariable",e[e.pushFromHeapToStack=95]="pushFromHeapToStack",e[e.pushAttribute=96]="pushAttribute",e[e.pushArrayLength=97]="pushArrayLength",e[e.pushConstant=98]="pushConstant",e[e.pushStaticClassObject=99]="pushStaticClassObject",e[e.pushStaticAttribute=100]="pushStaticAttribute",e[e.pushStaticAttributeIntrinsic=101]="pushStaticAttributeIntrinsic",e[e.checkCast=102]="checkCast",e[e.castValue=103]="castValue",e[e.selectArrayElement=104]="selectArrayElement",e[e.callMethod=105]="callMethod",e[e.callMainMethod=106]="callMainMethod",e[e.processPostConstructorCallbacks=107]="processPostConstructorCallbacks",e[e.callInputMethod=108]="callInputMethod",e[e.makeEllipsisArray=109]="makeEllipsisArray",e[e.decreaseStackpointer=110]="decreaseStackpointer",e[e.initStackframe=111]="initStackframe",e[e.closeStackframe=112]="closeStackframe",e[e.increaseSpaceForLocalVariables=113]="increaseSpaceForLocalVariables",e[e.return=114]="return",e[e.newObject=115]="newObject",e[e.jumpIfFalse=116]="jumpIfFalse",e[e.jumpIfTrue=117]="jumpIfTrue",e[e.jumpIfFalseAndLeaveOnStack=118]="jumpIfFalseAndLeaveOnStack",e[e.jumpIfTrueAndLeaveOnStack=119]="jumpIfTrueAndLeaveOnStack",e[e.jumpAlways=120]="jumpAlways",e[e.noOp=121]="noOp",e[e.incrementDecrementBefore=122]="incrementDecrementBefore",e[e.incrementDecrementAfter=123]="incrementDecrementAfter",e[e.programEnd=124]="programEnd",e[e.beginArray=125]="beginArray",e[e.addToArray=126]="addToArray",e[e.pushEmptyArray=127]="pushEmptyArray",e[e.forLoopOverCollection=128]="forLoopOverCollection",e[e.type=129]="type",e[e.typeParameter=130]="typeParameter",e[e.attributeDeclaration=131]="attributeDeclaration",e[e.methodDeclaration=132]="methodDeclaration",e[e.parameterDeclaration=133]="parameterDeclaration",e[e.superConstructorCall=134]="superConstructorCall",e[e.newArray=135]="newArray",e[e.arrayInitialization=136]="arrayInitialization",e[e.print=137]="print",e[e.println=138]="println",e[e.pushEnumValue=139]="pushEnumValue",e[e.initializeEnumValue=140]="initializeEnumValue",e[e.scopeNode=141]="scopeNode",e[e.returnIfDestroyed=142]="returnIfDestroyed",e[e.extendedForLoopInit=143]="extendedForLoopInit",e[e.extendedForLoopCheckCounterAndGetElement=144]="extendedForLoopCheckCounterAndGetElement"}(s||(s={}));var c,d=(u(a={},s.identifier,"ein Bezeichner"),u(a,s.integerConstant,"eine Integer-Konstante"),u(a,s.floatingPointConstant,"eine FlieÃkomma-Konstante"),u(a,s.booleanConstant,"eine boolesche Konstante"),u(a,s.stringConstant,"eine Zeichenketten-Konstante"),u(a,s.charConstant,"eine char-Konstante"),u(a,s.true,"true"),u(a,s.false,"false"),u(a,s.keywordClass,"class"),u(a,s.keywordThis,"this"),u(a,s.keywordSuper,"super"),u(a,s.keywordNew,"new"),u(a,s.keywordInterface,"interface"),u(a,s.keywordEnum,"enum"),u(a,s.keywordVoid,"void"),u(a,s.keywordAbstract,"abstract"),u(a,s.keywordPublic,"public"),u(a,s.keywordProtected,"protected"),u(a,s.keywordPrivate,"private"),u(a,s.keywordTransient,"transient"),u(a,s.keywordStatic,"static"),u(a,s.keywordExtends,"extends"),u(a,s.keywordImplements,"implements"),u(a,s.keywordWhile,"while"),u(a,s.keywordDo,"do"),u(a,s.keywordFor,"for"),u(a,s.keywordSwitch,"switch"),u(a,s.keywordCase,"case"),u(a,s.keywordDefault,"default"),u(a,s.keywordIf,"if"),u(a,s.keywordThen,"then"),u(a,s.keywordElse,"else"),u(a,s.keywordReturn,"return"),u(a,s.keywordBreak,"break"),u(a,s.keywordContinue,"continue"),u(a,s.keywordNull,"null"),u(a,s.keywordFinal,"final"),u(a,s.keywordInstanceof,"instanceof"),u(a,s.keywordPrint,"print"),u(a,s.keywordPrintln,"println"),u(a,s.leftBracket,"("),u(a,s.rightBracket,")"),u(a,s.leftSquareBracket,"["),u(a,s.rightSquareBracket,"]"),u(a,s.leftCurlyBracket,"{"),u(a,s.rightCurlyBracket,"}"),u(a,s.leftRightSquareBracket,"[]"),u(a,s.dot,"."),u(a,s.minus,"-"),u(a,s.modulo,"%"),u(a,s.plus,"+"),u(a,s.multiplication,"*"),u(a,s.division,"/"),u(a,s.singleQuote,"'"),u(a,s.doubleQuote,'"'),u(a,s.doubleMinus,"--"),u(a,s.doublePlus,"++"),u(a,s.lower,"<"),u(a,s.greater,">"),u(a,s.lowerOrEqual,"<="),u(a,s.greaterOrEqual,">="),u(a,s.equal,"=="),u(a,s.notEqual,"!="),u(a,s.assignment,"="),u(a,s.plusAssignment,"+="),u(a,s.minusAssignment,"-="),u(a,s.multiplicationAssignment,"*="),u(a,s.divisionAssignment,"/="),u(a,s.moduloAssignment,"%="),u(a,s.ampersand,"&"),u(a,s.and,"&&"),u(a,s.or,"||"),u(a,s.not,"!"),u(a,s.ternaryOperator,"?"),u(a,s.semicolon,";"),u(a,s.colon,":"),u(a,s.ellipsis,"..."),u(a,s.comma,","),u(a,s.backslash,"\\"),u(a,s.at,"@"),u(a,s.space,"ein Leerzeichen"),u(a,s.tab,"ein Tabulatorzeichen"),u(a,s.newline,"ein Zeilenumbruch"),u(a,s.identifierChar,"eines der Zeichen a..z, A..Z, _"),u(a,s.comment,"ein Kommentar"),u(a,s.endofSourcecode,"das Ende des Programmes"),a),h={"(":s.leftBracket,")":s.rightBracket,"[":s.leftSquareBracket,"]":s.rightSquareBracket,"{":s.leftCurlyBracket,"}":s.rightCurlyBracket,".":s.dot,",":s.comma,"-":s.minus,"%":s.modulo,"+":s.plus,"*":s.multiplication,"/":s.division,"\\":s.backslash,"@":s.at,"'":s.singleQuote,'"':s.doubleQuote,"<":s.lower,">":s.greater,"=":s.assignment,"&":s.and,"|":s.or,"!":s.not,"?":s.ternaryOperator,";":s.semicolon,":":s.colon,"...":s.ellipsis," ":s.space,"\t":s.tab,"\n":s.newline,"\r":s.linefeed},p={class:s.keywordClass,this:s.keywordThis,super:s.keywordSuper,new:s.keywordNew,interface:s.keywordInterface,enum:s.keywordEnum,void:s.keywordVoid,abstract:s.keywordAbstract,public:s.keywordPublic,protected:s.keywordProtected,private:s.keywordPrivate,transient:s.keywordTransient,static:s.keywordStatic,extends:s.keywordExtends,implements:s.keywordImplements,while:s.keywordWhile,do:s.keywordDo,for:s.keywordFor,switch:s.keywordSwitch,case:s.keywordCase,default:s.keywordDefault,if:s.keywordIf,then:s.keywordThen,else:s.keywordElse,return:s.keywordReturn,break:s.keywordBreak,continue:s.keywordContinue,null:s.keywordNull,final:s.keywordFinal,instanceof:s.keywordInstanceof,true:s.true,false:s.false,print:s.keywordPrint,println:s.keywordPrintln},f={n:"\n",r:"\r",t:"\t",'"':'"',"'":"'","\\":"\\"};function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.number=0]="number",e[e.identifier=1]="identifier",e[e.stringConstant=2]="stringConstant",e[e.characterConstant=3]="characterConstant",e[e.multilineComment=4]="multilineComment",e[e.EndoflineComment=5]="EndoflineComment"}(c||(c={}));var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spaceTokens=[s.space,s.tab,s.newline],this.correspondingBracket={},this.correspondingBracket[s.leftBracket]=s.rightBracket,this.correspondingBracket[s.leftCurlyBracket]=s.rightCurlyBracket,this.correspondingBracket[s.leftSquareBracket]=s.rightSquareBracket,this.correspondingBracket[s.rightBracket]=s.leftBracket,this.correspondingBracket[s.rightCurlyBracket]=s.leftCurlyBracket,this.correspondingBracket[s.rightSquareBracket]=s.leftSquareBracket}var t,n,i;return t=e,(n=[{key:"lex",value:function(e){if(this.input=e.replace("Â "," "),this.tokenList=[],this.errorList=[],this.bracketError=null,this.bracketStack=[],this.pos=0,this.line=1,this.column=1,this.nonSpaceLastTokenType=null,0==e.length)return{tokens:this.tokenList,errors:this.errorList,bracketError:null};for(this.currentChar=e.charAt(0),this.nextChar=e.length>1?e.charAt(1):"âº";"âº"!=this.currentChar;)this.mainState();if(this.bracketStack.length>0){var t=this.bracketStack.pop(),n=this.correspondingBracket[t];this.setBracketError(d[t]+" "+d[n])}return{tokens:this.tokenList,errors:this.errorList,bracketError:this.bracketError}}},{key:"checkClosingBracket",value:function(e){if(0!=this.bracketStack.length){var t=this.bracketStack.pop(),n=this.correspondingBracket[t];e!=n&&this.setBracketError(d[t]+" "+d[n])}else{var i=this.correspondingBracket[e];this.setBracketError(d[i]+" "+d[e])}}},{key:"setBracketError",value:function(e){null==this.bracketError&&(this.bracketError=e)}},{key:"next",value:function(){this.pos++,this.currentChar=this.nextChar,this.pos+1<this.input.length?this.nextChar=this.input.charAt(this.pos+1):this.nextChar="âº",this.column++}},{key:"mainState",value:function(){var e=this.currentChar,t=h[e];if(null!=t){switch(t){case s.leftSquareBracket:return"]"==this.nextChar?(this.pushToken(s.leftRightSquareBracket,"[]"),this.next(),void this.next()):(this.pushToken(s.leftSquareBracket,"["),this.bracketStack.push(t),void this.next());case s.rightSquareBracket:this.checkClosingBracket(t);break;case s.leftBracket:this.bracketStack.push(t);break;case s.rightBracket:this.checkClosingBracket(t);break;case s.leftCurlyBracket:this.bracketStack.push(t);break;case s.rightCurlyBracket:this.checkClosingBracket(t);break;case s.and:return"&"==this.nextChar?(this.pushToken(s.and,"&&"),this.next(),void this.next()):(this.pushToken(s.ampersand,"&"),void this.next());case s.or:return"|"==this.nextChar?(this.pushToken(s.or,"||"),this.next(),void this.next()):(this.pushError("| gefunden. Gemeint ist wohl || (Oder-Operator)?",1),this.pushToken(s.or,"||"),void this.next());case s.multiplication:return"="==this.nextChar?(this.pushToken(s.multiplicationAssignment,"*="),this.next(),void this.next()):(this.pushToken(s.multiplication,"*"),void this.next());case s.not:return"="==this.nextChar?(this.pushToken(s.notEqual,"!="),this.next(),void this.next()):(this.pushToken(s.not,"!"),void this.next());case s.division:return"="==this.nextChar?(this.pushToken(s.divisionAssignment,"/="),this.next(),void this.next()):"*"==this.nextChar?void this.lexMultilineComment():"/"==this.nextChar?void this.lexEndofLineComment():(this.pushToken(s.division,"/"),void this.next());case s.modulo:return"="==this.nextChar?(this.pushToken(s.moduloAssignment,"%="),this.next(),void this.next()):(this.pushToken(s.modulo,"/"),void this.next());case s.plus:return"+"==this.nextChar?(this.pushToken(s.doublePlus,"++"),this.next(),void this.next()):"="==this.nextChar?(this.pushToken(s.plusAssignment,"+="),this.next(),void this.next()):(this.pushToken(s.plus,"+"),void this.next());case s.lower:return"="==this.nextChar?(this.pushToken(s.lowerOrEqual,"<="),this.next(),void this.next()):(this.pushToken(s.lower,"<"),void this.next());case s.greater:return"="==this.nextChar?(this.pushToken(s.greaterOrEqual,">="),this.next(),void this.next()):(this.pushToken(s.greater,">"),void this.next());case s.dot:return"."==this.nextChar&&this.pos+2<this.input.length&&"."==this.input[this.pos+2]?(this.pushToken(s.ellipsis,"..."),this.next(),this.next(),void this.next()):(this.pushToken(s.dot,"."),void this.next());case s.assignment:return"="==this.nextChar?(this.pushToken(s.equal,"=="),this.next(),void this.next()):(this.pushToken(s.assignment,"="),void this.next());case s.minus:return"-"==this.nextChar?(this.pushToken(s.doubleMinus,"--"),this.next(),void this.next()):!this.isDigit(this.nextChar,10)||[s.identifier,s.integerConstant,s.floatingPointConstant,s.rightBracket].indexOf(this.nonSpaceLastTokenType)>=0?"="==this.nextChar?(this.pushToken(s.minusAssignment,"-="),this.next(),void this.next()):(this.pushToken(s.minus,"-"),void this.next()):void this.lexNumber();case s.singleQuote:return void this.lexCharacterConstant();case s.doubleQuote:return void this.lexStringConstant();case s.newline:return this.pushToken(s.newline,"\n"),this.line++,this.column=0,void this.next();case s.space:case s.tab:return void this.lexSpace();case s.linefeed:return void this.next();case s.at:return void this.lexAnnotation()}return this.pushToken(t,e),void this.next()}this.isDigit(e,10)?this.lexNumber():this.lexIdentifierOrKeyword()}},{key:"pushToken",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.line,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.column,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(""+t).length,o={tt:e,value:t,position:{column:i,line:n,length:r}};this.spaceTokens.indexOf(e)>=0||(this.nonSpaceLastTokenType=e),this.tokenList.push(o)}},{key:"pushError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.line,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.column;this.errorList.push({text:e,position:{line:i,column:r,length:t},level:n})}},{key:"isDigit",value:function(e,t){var n=e.charCodeAt(0);return 10==t?n>=48&&n<=57:2==t?n>=48&&n<=49:8==t?n>=48&&n<=55:16==t?n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70:void 0}},{key:"lexSpace",value:function(){for(var e=this.column,t=this.line,n=this.pos;" "==this.currentChar||"\t"==this.currentChar;)this.next();var i=this.pos;this.pushToken(s.space,this.input.substring(n,i),t,e)}},{key:"lexCharacterConstant",value:function(){var e=this.column,t=this.line;this.next();var n=this.currentChar;if("\\"==n){var i=f[this.nextChar];null==i?(this.pushError("Die Escape-Sequenz \\"+this.nextChar+" gibt es nicht.",2),"'"!=this.nextChar&&(n=this.nextChar,this.next())):(n=i,this.next())}this.next(),"'"!=this.currentChar?this.pushError("Das Ende der char-Konstante wird erwartet (').",1):this.next(),this.pushToken(s.charConstant,n,t,e)}},{key:"lexStringConstant",value:function(){var e=this.line,t=this.column,n="";for(this.next();;){var i=this.currentChar;if("\\"==i)if("u"==this.nextChar)this.next();else{var r=f[this.nextChar];null==r?this.pushError("Die Escape-Sequenz \\"+this.nextChar+" gibt es nicht.",2):(i=r,this.next())}else{if('"'==i){this.next();break}if("\n"==i||"âº"==i){this.pushError("Innerhalb einer String-Konstante wurde das Zeilenende erreicht.",n.length+1,"error",e,t);break}}n+=i,this.next()}this.pushToken(s.stringConstant,n,e,t,n.length+2)}},{key:"lexMultilineComment",value:function(){var e=this.line,t=this.column,n=!1,i="/*";for(this.next(),this.next();;){var r=this.currentChar;if("*"==r&&"/"==this.nextChar){this.next(),this.next(),i+="*/";break}if("âº"==r){this.pushError("Innerhalb eines Mehrzeilenkommentars (/*... */) wurde das Dateiende erreicht.",1);break}"\n"==r?(this.line++,this.column=0,n=!0,i+=r):n&&" "==r||(i+=r,n=!1),this.next()}this.pushToken(s.comment,i,e,t)}},{key:"lexEndofLineComment",value:function(){var e=this.line,t=this.column,n="//";for(this.next(),this.next();;){var i=this.currentChar;if("\n"==i)break;if("âº"==i)break;n+=i,this.next()}this.pushToken(s.comment,n,e,t)}},{key:"lexNumber",value:function(){var e=this.line,t=this.column,n=1;"-"==this.currentChar&&(n=-1,this.next());var i=this.pos,r=this.currentChar;this.next();var o=10;for("0"==r&&["b","x","0","1","2","3","4","5","6","7"].indexOf(this.currentChar)>=0&&("x"==this.currentChar?(o=16,this.next()):"b"==this.currentChar?(o=2,this.next()):o=8,i=this.pos);this.isDigit(this.currentChar,o);)this.next();var a=s.integerConstant;if("."==this.currentChar){for(a=s.floatingPointConstant,this.next();this.isDigit(this.currentChar,10);)this.next();10!=o&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i))}var l=this.input.substring(i,this.pos);i=this.pos;var u=0;if("e"==this.currentChar){this.next();var c=this.pos;for("-"==this.currentChar&&this.next();this.isDigit(this.currentChar,10);)this.next();10!=o&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i));var d=this.input.substring(c,this.pos);u=Number.parseInt(d)}"d"!=this.currentChar&&"f"!=this.currentChar||(s.floatingPointConstant,this.next(),10!=o&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i)));var h=a==s.integerConstant?Number.parseInt(l,o):Number.parseFloat(l);h*=n,0!=u&&(h*=Math.pow(10,u)),this.pushToken(a,h,e,t)}},{key:"lexAnnotation",value:function(){for(var e=this.line,t=this.column-1,n=this.pos,i=this.currentChar;null==h[i]&&!this.isSpace(i)&&"âº"!=i;)this.next(),i=this.currentChar;var r=this.pos,o=this.input.substring(n,r);this.pushToken(s.at,o,e,t,o.length+1)}},{key:"lexIdentifierOrKeyword",value:function(){for(var e=this.line,t=this.column,n=this.pos,i=this.currentChar;null==h[i]&&!this.isSpace(i)&&"âº"!=i;)this.next(),i=this.currentChar;var r=this.pos,o=this.input.substring(n,r),a=p[o];if(null==a||"number"!=typeof a)this.pushToken(s.identifier,o,e,t);else switch(a){case s.true:this.pushToken(s.booleanConstant,!0,e,t);break;case s.false:this.pushToken(s.booleanConstant,!1,e,t);break;case s.keywordPrint:case s.keywordPrintln:this.nonSpaceLastTokenType==s.dot?this.pushToken(s.identifier,o,e,t):this.pushToken(a,o,e,t);break;default:this.pushToken(a,o,e,t)}}},{key:"isSpace",value:function(e){return" "==e||"\n"==e}}])&&y(t.prototype,n),i&&y(t,i),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}var T=function(){function e(){P(this,e),this.onlyFirstPass=!1,this.usagePositions=new Map,this.documentation=""}return C(e,[{key:"toTokenType",value:function(){return null}},{key:"clearUsagePositions",value:function(){this.usagePositions=new Map}}]),e}(),M=function(e){function t(){var e;return P(this,t),(e=g(this,w(t).apply(this,arguments))).initialValue=null,e.description="",e}return k(t,e),C(t,[{key:"equals",value:function(e){return e==this}},{key:"getResultType",value:function(e,t){var n=this.operationTable[e];return null==n?null:null!=t?n[t.identifier]:n.none}},{key:"canCastTo",value:function(e){return null!=this.canCastToMap[e.identifier]}},{key:"getCastInformation",value:function(e){return this.canCastToMap[e.identifier]}}]),t}(T),j=function e(t,n,i,r,o,a,s){P(this,e),this.onlyFirstPass=!1,this.identifier=t,this.type=n,this.updateValue=i,this.isStatic=r,this.visibility=o,this.isFinal=a,this.usagePositions=new Map,this.documentation=s},E=function(e){function t(e,n,i,r,o,a,s){var l,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];P(this,t),(l=g(this,w(t).call(this))).onlyFirstPass=!1,l.isConstructor=!1,l.isVirtual=!1,l.reserveStackForLocalVariables=0,l.genericTypeMap=null,l.identifier=e,l.parameterlist=n,l.returnType=i,l.isAbstract=o,l.isStatic=a,l.visibility=0,l.documentation=s,l.isConstructor=u,null!=r&&("function"==typeof r?l.invoke=r:(l.program=r,r.method=b(l))),l.signature=e+n.id;var c=!0,d=!1,h=void 0;try{for(var p,f=n.parameters[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;if(1==y.isTypeVariable){l.hasGenericTypes=!0;break}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return l.hasGenericTypes=l.hasGenericTypes||null!=l.returnType&&1==l.returnType.isTypeVariable,l}return k(t,e),C(t,[{key:"hasEllipsis",value:function(){return 0!=this.parameterlist.parameters.length&&this.parameterlist.parameters[this.parameterlist.parameters.length-1].isEllipsis}},{key:"getParameterType",value:function(e){return this.parameterlist.parameters[e].type}},{key:"getParameter",value:function(e){return this.parameterlist.parameters[e]}},{key:"getReturnType",value:function(){return this.returnType}},{key:"getParameterCount",value:function(){return this.parameterlist.parameters.length}},{key:"getParameterList",value:function(){return this.parameterlist}},{key:"getSignatureWithReturnParameter",value:function(){return null!=this.returnType?this.returnType.identifier+" "+this.signature:"void "+this.signature}},{key:"getCompletionLabel",value:function(){var e="";null!=this.returnType&&"void"!=this.returnType.identifier&&(e+=D(this.returnType)+" "),e+=this.identifier+"(";for(var t=this.parameterlist.parameters,n=0;n<t.length;n++){var i=t[n];if(i.isEllipsis)e+=D(i.type.arrayOfType)+"... "+i.identifier;else e+=D(i.type)+" "+i.identifier;n<t.length-1&&(e+=", ")}return e+=")"}},{key:"getCompletionSnippet",value:function(e){if(e)return this.identifier+"($0";var t="";t+=this.identifier+"(";for(var n=this.parameterlist.parameters,i=0;i<n.length;i++){var r=n[i];t+="${"+(i+1)%n.length+":"+r.identifier+"}",i<n.length-1&&(t+=", ")}return t+=")"}},{key:"debugOutput",value:function(e){return""}},{key:"equals",value:function(e){return e==this}},{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return!1}},{key:"castTo",value:function(e,t){return e}}]),t}(T),O=function(){function e(t){P(this,e),this.parameters=t,this.computeId()}return C(e,[{key:"computeId",value:function(){this.id="(";for(var e=0;e<this.parameters.length;)this.id+=this.parameters[e].type.identifier,e<this.parameters.length-1&&(this.id+=", "),e++;this.id+=")"}}]),e}();function D(e){var t,n;if(e.typeVariables&&e.typeVariables.length>0){var i=(e.isTypeVariable?e.identifier+" extends "+(null===(t=e.isGenericVariantFrom)||void 0===t?void 0:t.identifier):e.identifier)+"<";return(i+=e.typeVariables.map((function(e){return D(e.type)})).join(", "))+">"}return e.isTypeVariable?e.identifier+" extends "+(null===(n=e.isGenericVariantFrom)||void 0===n?void 0:n.identifier):e.identifier}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.intrinsicData={},this.attributeValues=new Map,this.class=t}var t,n,i;return t=e,(n=[{key:"getValue",value:function(e){for(var t=this.class;null!=t;){var n=this.attributeValues.get(t.identifier).get(e);if(null!=n)return null!=n.updateValue&&n.updateValue(n),n;t=t.baseClass}return null}},{key:"initializeAttributeValues",value:function(){this.attributeValues=new Map;for(var e=this.class;null!=e;){var t=new Map;this.attributeValues.set(e.identifier,t);var n=!0,i=!1,r=void 0;try{for(var o,a=e.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=null;s.type instanceof M&&(l=s.type.initialValue);var u={type:s.type,value:l};null!=s.updateValue&&(u.updateValue=s.updateValue,u.object=this),t.set(s.identifier,u)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}e=e.baseClass}}}])&&_(t.prototype,n),i&&_(t,i),e}();function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I,z,L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxLabelIndex=0,this.labeledNodes=[],this.labelMap=new Map,this.jumpNodesToResolve=[],this.switchStatements=[],this.program=t}var t,n,i;return t=e,(n=[{key:"registerSwitchStatement",value:function(e){this.switchStatements.push(e)}},{key:"insertJumpNode",value:function(e,t,n,i){var r=this.program.statements;null==t&&r.length>0&&(t=r[r.length-1].position);var o={type:e,position:t,stepFinished:!0};return n.pushStatements(o),this.registerJumpNode(o,i)}},{key:"markJumpDestination",value:function(e,t){var n=this.program.statements.length-1+e;null==t&&(t=this.maxLabelIndex++);var i={position:n,labelIndex:t};return this.labeledNodes.push(i),this.labelMap.set(t,i),t}},{key:"removeNode",value:function(e){for(var t=0;t<this.labeledNodes.length;t++){var n=this.labeledNodes[t];if(n.node==e){var i=this.program.statements.indexOf(e);if(i<this.program.statements.length-1){var r=this.program.statements[i+1];n.node=r}}else t++}}},{key:"registerJumpDestination",value:function(e,t){null==t&&(t=this.maxLabelIndex++);var n={node:e,labelIndex:t};return this.labeledNodes.push(n),this.labelMap.set(t,n),t}},{key:"registerJumpNode",value:function(e,t){null==t&&(t=this.maxLabelIndex++);var n={labelIndex:t,node:e};return this.jumpNodesToResolve.push(n),t}},{key:"resolveNodes",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.labeledNodes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(null==o.position)o.position=this.program.statements.indexOf(o.node);else{for(;o.position>this.program.statements.length-1;)this.program.statements.push({type:s.noOp,position:null});o.node=this.program.statements[this.program.statements.length-1]}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var a=!0,l=!1,u=void 0;try{for(var c,d=this.jumpNodesToResolve[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,p=this.labelMap.get(h.labelIndex);null!=p&&(h.node.destination=p.position)}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}var f=!0,y=!1,m=void 0;try{for(var v,g=this.switchStatements[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value,w=!0,k=!1,S=void 0;try{for(var P,x=b.destinationLabels[Symbol.iterator]();!(w=(P=x.next()).done);w=!0){var C=P.value;b.destinationMap[C.constant]=this.labelMap.get(C.label).position}}catch(e){k=!0,S=e}finally{try{w||null==x.return||x.return()}finally{if(k)throw S}}b.destinationLabels=null,null!=b.defaultDestination&&(b.defaultDestination=this.labelMap.get(b.defaultDestination).position)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}}])&&F(t.prototype,n),i&&F(t,i),e}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function N(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e[e.public=0]="public",e[e.protected=1]="protected",e[e.private=2]="private"}(I||(I={}));var Z=function(e){function t(e,n,i){var r;return R(this,t),(r=N(this,Q(t).call(this))).typeVariables=[],r.isTypeVariable=!1,r.typeVariablesReady=!0,r.implements=[],r.firstPassImplements=[],r.isAbstract=!1,r.postConstructorCallbacks=null,r.methods=[],r.methodMap=new Map,r.attributes=[],r.attributeMap=new Map,r.documentation=i,r.identifier=e,r.module=n,r.visibility=I.public,r.staticClass=new q(G(r)),r.attributeInitializationProgram={method:null,module:r.module,statements:[],labelManager:null},r.attributeInitializationProgram.labelManager=new L(r.attributeInitializationProgram),r}return K(t,e),V(t,[{key:"getNonGenericClass",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e}},{key:"getNonGenericIdentifier",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e.identifier}},{key:"implementsInterface",value:function(e){for(var t=this;null!=t;){var n=!0,i=!1,r=void 0;try{for(var o,a=t.implements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(null!=o.value.getThisOrExtendedInterface(e.getNonGenericIdentifier()))return!0}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}t=t.baseClass}return!1}},{key:"getImplementedInterface",value:function(e){for(var t=this;null!=t;){var n=!0,i=!1,r=void 0;try{for(var o,a=t.implements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getThisOrExtendedInterface(e);if(null!=s)return s}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}t=t.baseClass}return null}},{key:"registerUsedSystemClasses",value:function(e){null!=this.baseClass&&null!=this.baseClass.module&&this.baseClass.module.isSystemModule&&e.indexOf(this.baseClass)<0&&e.push(this.baseClass);var t=!0,n=!1,i=void 0;try{for(var r,o=this.getCompositeData()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;null!=a.klass&&null!=a.klass.module&&a.klass.module.isSystemModule&&e.indexOf(a.klass)<0&&e.push(a.klass)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var s=!0,l=!1,u=void 0;try{for(var c,d=this.implements[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null!=h&&h.module.isSystemModule&&e.indexOf(h)<0&&e.push(h)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}},{key:"getCompositeData",value:function(){var e=[],n=new Map,i=!0,r=!1,o=void 0;try{for(var a,s=this.attributes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.type instanceof t||l.type instanceof X){var u=n.get(l.type);null==u?(u={klass:l.type,multiples:!1,identifier:l.identifier},n.set(l.type,u),e.push(u)):u.identifier+=", "+l.identifier}else{for(var c=l.type;c instanceof jt;)c=c.arrayOfType;if(c instanceof t||c instanceof X){var d=n.get(c);null==d?(d={klass:c,multiples:!0,identifier:l.identifier},n.set(c,d),e.push(d)):(d.identifier+=", "+l.identifier,d.multiples=!0)}}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return e}},{key:"clearUsagePositions",value:function(){H(Q(t.prototype),"clearUsagePositions",this).call(this);var e=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.clearUsagePositions()}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.attributes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.usagePositions=new Map}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}null!=this.staticClass&&this.staticClass.clearUsagePositions()}},{key:"getPostConstructorCallbacks",value:function(){for(var e=this,t=null;null!=e;)null!=e.postConstructorCallbacks&&(t=null==t?e.postConstructorCallbacks:t.concat(e.postConstructorCallbacks)),e=e.baseClass;return t}},{key:"getCompletionItems",value:function(e,t,n,i){var r=[],o=!0,a=!1,s=void 0;try{for(var l,u=this.getAttributes(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push({label:c.identifier+"",kind:monaco.languages.CompletionItemKind.Field,insertText:c.identifier,range:i,documentation:null==c.documentation?void 0:{value:c.documentation}})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d=!0,h=!1,p=void 0;try{for(var f,y=this.getMethods(e)[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;m.isConstructor||r.push({label:m.getCompletionLabel(),filterText:m.identifier,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},kind:monaco.languages.CompletionItemKind.Method,insertText:m.getCompletionSnippet(t),range:i,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==m.documentation?void 0:{value:m.documentation}})}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}return r=r.concat(this.staticClass.getCompletionItems(e,t,n,i))}},{key:"pushStaticInitializationPrograms",value:function(e){this.staticClass.attributeInitializationProgram.statements.length>0&&e.push({program:this.staticClass.attributeInitializationProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Initialisierung statischer Variablen der Klasse "+this.staticClass.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung statischer Attribute"})}},{key:"getMethodBySignature",value:function(e){for(var t=this;null!=t;){var n=t.methodMap.get(e);if(null!=n)return n;t=t.baseClass}return null}},{key:"equals",value:function(e){return e==this}},{key:"setBaseClass",value:function(e){this.baseClass=e,this.staticClass.baseClass=e.staticClass}},{key:"addMethod",value:function(e){e.isStatic?this.staticClass.addMethod(e):(this.methods.push(e),this.methodMap.set(e.signature,e))}},{key:"addAttribute",value:function(e){e.isStatic?this.staticClass.addAttribute(e):(this.attributes.push(e),this.attributeMap.set(e.identifier,e))}},{key:"getResultType",value:function(e,n){return e!=s.equal&&e!=s.notEqual||!(n instanceof t||n==yt)?e==s.keywordInstanceof&&(n instanceof q||n instanceof X)?z:null:z}},{key:"compute",value:function(e,t,n){if(e==s.equal)return t.value==n.value;if(e==s.notEqual)return t.value!=n.value;if(e==s.keywordInstanceof){var i=t.value.class,r=n.type;if(r instanceof q){for(;null!=i;){if(i===r.Klass)return!0;i=i.baseClass}return!1}if(r instanceof X)for(;null!=i;){var o=!0,a=!1,l=void 0;try{for(var u,c=i.implements[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){if(u.value===r)return!0}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}i=i.baseClass}return!1}return null}},{key:"getMethods",value:function(e,t){var n=this.methods.filter((function(n){return n.visibility<=e&&(null==t||n.identifier==t)}));if(null!=this.baseClass&&(null==t||t!=this.identifier||0==n.length)){var i=e==I.public?e:I.protected,r=!0,o=!1,a=void 0;try{for(var s,l=this.baseClass.getMethods(i,t==this.identifier?this.baseClass.identifier:t)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=!1,d=!0,h=!1,p=void 0;try{for(var f,y=n[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){if(f.value.signature==u.signature){c=!0;break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c||n.push(u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}return n}},{key:"getAttributes",value:function(e){var t=[],n=!0,i=!1,r=void 0;try{for(var o,a=this.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.visibility<=e&&t.push(s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}if(null!=this.baseClass){var l=e==I.public?e:I.protected,u=!0,c=!1,d=void 0;try{for(var h,p=this.baseClass.getAttributes(l)[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=!1;if(!(f.visibility>l)){var m=!0,v=!1,g=void 0;try{for(var b,w=t[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){if(b.value.identifier==f.identifier){y=!0;break}}}catch(e){v=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(v)throw g}}y||t.push(f)}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}return t}},{key:"hasConstructor",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.methods[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.isConstructor)return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return null!=this.baseClass&&this.baseClass.hasConstructor()}},{key:"getConstructor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.identifier,i=this.methods.filter((function(e){return e.isConstructor}));return 0==i.length&&null!=this.baseClass?this.baseClass.getConstructor(e,t,n):J(i,this.identifier,e,n,!0)}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n,i){var r=J(this.getMethods(i),e,t,this.identifier,n);if(0==r.methodList.length&&!n){var o=this.staticClass.getMethodsThatFitWithCasting(e,t,!1,i);return null==o.error?o:r}return r}},{key:"getMethod",value:function(e,t){var n=this.methodMap.get(e+t.id);return null==n&&null!=this.baseClass?this.baseClass.getMethod(e,t):n}},{key:"getAttribute",value:function(e,t){var n=null,i=!1,r=this.attributeMap.get(e),o=null==r;if(null==r?n="Das Attribut "+e+" kann nicht gefunden werden.":r.visibility>t&&(n="Das Attribut "+e+" hat die Sichtbarkeit "+I[r.visibility]+" und ist daher hier nicht sichtbar.",r=null,i=!0),null==r&&null!=this.baseClass){var a=t==I.public?t:I.protected,s=this.baseClass.getAttribute(e,a);if(null!=s.attribute||o)return s}return{attribute:r,error:n,foundButInvisible:i}}},{key:"canCastTo",value:function(e){if(e==pt)return!0;if(e instanceof t)for(var n=this;null!=n;){if(e.getNonGenericIdentifier()==n.getNonGenericIdentifier()){if(e.typeVariables.length>0){for(var i=Math.min(e.typeVariables.length,n.typeVariables.length),r=0;r<i;r++)if(!n.typeVariables[r].type.canCastTo(e.typeVariables[r].type))return!1;return!0}return!0}n=n.baseClass}if(e instanceof X)for(var o=this;null!=o;){var a=!0,s=!1,l=void 0;try{for(var u,c=o.implements[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(e.getNonGenericIdentifier()==d.getNonGenericIdentifier())return!0}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}o=o.baseClass}return!1}},{key:"castTo",value:function(e,t){return e}},{key:"checkInheritance",value:function(){if(null!=this.baseClass&&t.dontInheritFrom.indexOf(this.baseClass.identifier)>=0)return{message:"Aus PerformancegrÃ¼nden ist es leider nicht mÃ¶glich, Unterklassen der Klassen String, Boolean, Character, Integer, Float und Double zu bilden.",missingMethods:[]};for(var e="",n=[],i=[],r=[],o=this,a=[o.identifier];null!=o.baseClass;){if(o=o.baseClass,a.indexOf(o.identifier)>=0){o.baseClass=null,a=[o.identifier].concat(a),e="Die Klasse "+o.identifier+" erbt von sich selbst: ",e+="("+a.join(" extends ")+")";break}a=[o.identifier].concat(a)}if(""==e){if(null!=this.baseClass&&!this.isAbstract){for(var s=[],l=this;null!=l;){var u=!0,c=!1,d=void 0;try{for(var h,p=l.methods[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;f.isAbstract?s.push(f):i.push(f.getSignatureWithReturnParameter())}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}l=l.baseClass}for(var y=0,m=s;y<m.length;y++){var v=m[y];i.indexOf(v.getSignatureWithReturnParameter())<0&&n.push(v)}}n.length>0&&(e="Die Klasse "+this.identifier+" muss noch folgende Methoden ihrer abstrakten Basisklassen implementieren: ",e+=n.map((function(e){return e.getSignatureWithReturnParameter()})).join(", "));var g=!0,b=!1,w=void 0;try{for(var k,S=this.implements[Symbol.iterator]();!(g=(k=S.next()).done);g=!0){var P=k.value,x=!0,C=!1,T=void 0;try{for(var M,j=P.getMethods()[Symbol.iterator]();!(x=(M=j.next()).done);x=!0){var E=M.value;i.indexOf(E.getSignatureWithReturnParameter())<0&&r.push(E)}}catch(e){C=!0,T=e}finally{try{x||null==j.return||j.return()}finally{if(C)throw T}}}}catch(e){b=!0,w=e}finally{try{g||null==S.return||S.return()}finally{if(b)throw w}}r.length>0&&(""!=e&&(e+="\n"),e+="Die Klasse "+this.identifier+" muss noch folgende Methoden der von ihr implementierten Interfaces implementieren: ",e+=r.map((function(e){return e.signature})).join(", "))}return{message:e,missingMethods:n.concat(r)}}},{key:"hasAncestorOrIs",value:function(e){var n=this,i=e.identifier;for(e instanceof t&&(i=e.getNonGenericIdentifier());null!=n;){if(n.getNonGenericIdentifier()==i)return!0;n=n.baseClass}return!1}},{key:"debugOutput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n="{",i=this.getAttributes(I.private),r=e.value;if(null==r)return"null";for(var o=0;o<i.length;o++){var a=i[o],s=r.getValue(a.identifier);a.type instanceof M?n+=a.identifier+":&nbsp;"+a.type.debugOutput(s,t/2):n+=a.identifier+":&nbsp; {...}",o<i.length-1&&(n+=",&nbsp;")}return n+"}"}},{key:"clone",value:function(){var e=Object.create(this);return e.implements=this.implements.slice(0),e.usagePositions=new Map,e.isGenericVariantFrom=this,e}}]),t}(T);Z.dontInheritFrom=["Integer","Float","Double","Boolean","Character","String"];var q=function(e){function t(e){var n;return R(this,t),(n=N(this,Q(t).call(this))).methods=[],n.methodMap=new Map,n.attributes=[],n.attributeMap=new Map,n.Klass=e,n.identifier=e.identifier,null!=e.baseClass&&(n.baseClass=e.baseClass.staticClass),n.attributeInitializationProgram={method:null,module:n.Klass.module,statements:[],labelManager:null},n.attributeInitializationProgram.labelManager=new L(n.attributeInitializationProgram),n}return K(t,e),V(t,[{key:"clearUsagePositions",value:function(){H(Q(t.prototype),"clearUsagePositions",this).call(this);var e=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.clearUsagePositions()}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.attributes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.usagePositions=new Map}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"debugOutput",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n="{",i=this.getAttributes(I.private),r=this.classObject,o=0;o<i.length;o++){var a=i[o];n+=a.identifier+": "+r==null?"---":a.type.debugOutput(r.getValue(a.identifier),t/2),o<i.length-1&&(n+=", ")}return n+"}"}},{key:"getCompletionItems",value:function(e,t,n,i){var r=[],o=!0,a=!1,s=void 0;try{for(var l,u=this.getAttributes(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push({label:c.identifier,kind:monaco.languages.CompletionItemKind.Field,insertText:c.identifier,range:i,documentation:null==c.documentation?void 0:{value:c.documentation}})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d=!0,h=!1,p=void 0;try{for(var f,y=this.getMethods(e)[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;r.push({label:m.getCompletionLabel(),filterText:m.identifier,kind:monaco.languages.CompletionItemKind.Method,insertText:m.getCompletionSnippet(t),range:i,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==m.documentation?void 0:{value:m.documentation}})}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}return r}},{key:"equals",value:function(e){return e==this}},{key:"addMethod",value:function(e){this.methods.push(e),this.methodMap.set(e.signature,e)}},{key:"addAttribute",value:function(e){this.attributes.push(e),this.attributeMap.set(e.identifier,e)}},{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n,i){return J(this.getMethods(i),e,t,this.Klass.identifier,n)}},{key:"getMethods",value:function(e,t){var n=this.methods.slice().filter((function(n){return n.visibility<=e&&(null==t||t==n.identifier)}));if(null!=this.baseClass){var i=e==I.public?I.public:I.protected,r=!0,o=!1,a=void 0;try{for(var s,l=this.baseClass.getMethods(i,t)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=!1,d=!0,h=!1,p=void 0;try{for(var f,y=n[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){if(f.value.signature==u.signature){c=!0;break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c||n.push(u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}return n}},{key:"getAttributes",value:function(e){var t=this.attributes.filter((function(t){return t.visibility<=e}));if(null!=this.baseClass){var n=e==I.public?e:I.protected,i=!0,r=!1,o=void 0;try{for(var a,s=this.baseClass.getAttributes(n)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=!1,c=!0,d=!1,h=void 0;try{for(var p,f=t[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){if(p.value.identifier==l.identifier){u=!0;break}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}u||t.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return t}},{key:"getMethod",value:function(e,t){var n=this.methodMap.get(e+t.id);return null==n&&null!=this.baseClass?this.baseClass.getMethod(e,t):n}},{key:"getAttribute",value:function(e,t){var n="",i=!1,r=this.attributeMap.get(e);if(null==r?(i=!0,n="Das Attribut "+e+" konnte nicht gefunden werden."):r.visibility>t&&(n="Das Attribut "+e+" hat die Sichtbarkeit "+I[r.visibility]+" und ist hier daher nicht sichtbar.",r=null),null==r&&null!=this.baseClass){var o=t==I.public?t:I.protected,a=this.baseClass.getAttribute(e,o);if(i)return a}return{attribute:r,error:n,foundButInvisible:!i}}},{key:"canCastTo",value:function(e){return!1}},{key:"castTo",value:function(e,t){return e}},{key:"hasAncestorOrIs",value:function(e){for(var t=this;null!=t;){if(t==e)return!0;t=t.baseClass}return!1}}]),t}(T),X=function(e){function t(e,n,i){var r;return R(this,t),(r=N(this,Q(t).call(this))).typeVariables=[],r.typeVariablesReady=!0,r.extends=[],r.methods=[],r.methodMap=new Map,r.documentation=i,r.identifier=e,r.module=n,r}return K(t,e),V(t,[{key:"getNonGenericIdentifier",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e.identifier}},{key:"getThisOrExtendedInterface",value:function(e){if(this.getNonGenericIdentifier()==e)return this;var t=!0,n=!1,i=void 0;try{for(var r,o=this.extends[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value.getThisOrExtendedInterface(e);if(null!=a)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"clone",value:function(){var e=Object.create(this);return e.usagePositions=new Map,e.isGenericVariantFrom=this,e}},{key:"clearUsagePositions",value:function(){H(Q(t.prototype),"clearUsagePositions",this).call(this);var e=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.clearUsagePositions()}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"getCompletionItems",value:function(e,t,n){var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=this.getMethods()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i.push({label:u.getCompletionLabel(),filterText:u.identifier,kind:monaco.languages.CompletionItemKind.Method,insertText:u.getCompletionSnippet(e),range:n,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==u.documentation?void 0:{value:u.documentation}})}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i}},{key:"debugOutput",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e.value?"null":e.value instanceof A?e.value.class.debugOutput(e):"{...}"}},{key:"equals",value:function(e){return e==this}},{key:"addMethod",value:function(e){this.methods.push(e),this.methodMap.set(e.signature,e)}},{key:"getResultType",value:function(e,n){return e==s.equal||e==s.notEqual||e==s.keywordInstanceof&&(n instanceof q||n instanceof t)?z:null}},{key:"compute",value:function(e,t,n){return e==s.equal?t.value==n.value:e==s.notEqual?t.value!=n.value:null}},{key:"getMethods",value:function(){return this.methods}},{key:"getMethod",value:function(e,t){return this.methodMap.get(e+t.id)}},{key:"canCastTo",value:function(e){if(e instanceof t){if(e.getNonGenericIdentifier()==this.getNonGenericIdentifier()){if(!0,0==this.typeVariables.length)return!0;var n=e;if(this.typeVariables.length!=n.typeVariables.length)return!1;for(var i=0;i<this.typeVariables.length;i++){var r=this.typeVariables[i];if(!n.typeVariables[i].type.canCastTo(r.type))return!1}return!1}var o=!0,a=!1,s=void 0;try{for(var l,u=this.extends[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){if(l.value.canCastTo(e))return!0}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return!1}return e instanceof Z&&e.getNonGenericIdentifier(),!1}},{key:"castTo",value:function(e,t){return e}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n){return J(this.getMethods(),e,t,this.identifier,n)}}]),t}(T);function J(e,t,n,i,r){var o=[],a=1e4,s=null,l=!1,u=!0,c=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=0;if(f.identifier==t||f.isConstructor&&r){l=!0;var m=f.hasEllipsis();if(f.getParameterCount()==n.length||m&&f.getParameterCount()<=n.length){var v=!0,g=0;for(g=0;g<f.getParameterCount()-(m?1:0);g++){var b=f.getParameterType(g),w=n[g];if(null==w){v=!1;break}if(b!=w){if(!w.canCastTo(b)){v=!1;break}y++}}if(v&&m)for(var k=f.getParameter(g).type.arrayOfType,S=g;S<n.length;S++){var P=n[g];if(null==P){v=!1;break}if(k!=P){if(!P.canCastTo(k)){v=!1;break}y++}}v&&y<=a&&(y<a&&(o=[]),o.push(f),a=y)}}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}if(0==o.length)if(l)if(0==n.length)s=r?"Es gibt keinen parameterlosen Konstruktor der Klasse "+i:"Die vorhandenen Methoden mit dem Bezeichner "+t+" haben alle mindestens einen Parameter. Hier wird aber kein Parameterwert Ã¼bergeben.";else{var x=n.map((function(e){return e.identifier})).join(", ");s=r?"Die Parametertypen (".concat(x,") passen zu keinem Konstruktor der Klasse ").concat(i):"Die Parametertypen (".concat(x,") passen zu keiner der vorhandenen Methoden mit dem Bezeichner ").concat(t,".")}else s="Der Typ "+i+" besitzt keine Methode mit dem Bezeichner "+t+".";return o.length>1&&(o=o.slice(0,1)),{error:s,methodList:o}}function Y(e,t){return null==t?I.public:(e instanceof q&&(e=e.Klass),t instanceof q&&(t=t.Klass),e==t?I.private:t.hasAncestorOrIs(e)?I.protected:I.public)}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=te(this,ne(t).call(this,"Object",e,"Basisklasse aller Klassen"))).addMethod(new E("toString",new O([]),pt,(function(e){return"("+e[0].value.class.identifier+")"}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),t}(Z);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function se(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e,t,n){return(le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ue(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=se(this,ue(t).call(this,"Integer",null,"Wrapper-Klasse, um int-Werte in Collections verenden zu kÃ¶nnen."))).unboxableAs=[],n.baseClass=e,n.addAttribute(new j("MAX_VALUE",lt,(function(e){e.value=Number.MAX_SAFE_INTEGER}),!0,I.public,!0,"Der grÃ¶Ãte Wert, den eine Variable vom Typ int annehmen kann")),n.addAttribute(new j("MIN_VALUE",lt,(function(e){e.value=Number.MIN_SAFE_INTEGER}),!0,I.public,!0,"Der kleinste Wert, den eine Variable vom Typ int annehmen kann")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||le(ue(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[lt,ut,ct],this.addMethod(new E("Integer",new O([{identifier:"int-wert",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Integer-Objekt",!0)),this.addMethod(new E("Integer",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseInt(e[1].value)}),!1,!1,"Instanziert ein neues Integer-Objekt, indem die Ã¼bergebene Zeichenkette in einen int-Wert umgewandelt wird.",!0)),this.addMethod(new E("doubleValue",new O([]),ct,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen double-Wert um")),this.addMethod(new E("floatValue",new O([]),ut,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen float-Wert um")),this.addMethod(new E("intValue",new O([]),lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen int-Wert um")),this.addMethod(new E("compareTo",new O([{identifier:"anotherInteger",type:this,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert grÃ¶Ãer als der Ã¼bergebene Wert, so wird +1 zurÃ¼ckgegeben. Ist er kleiner, so wird -1 zurÃ¼ckgegeben. Sind die Werte gleich, so wird 0 zurÃ¼ckgegeben.")),this.addMethod(new E("equals",new O([{identifier:"anotherInteger",type:this,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Wert gleich dem Ã¼bergebenen Wert ist.")),this.addMethod(new E("toString",new O([]),pt,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur Basis 10 zurÃ¼ck.")),this.addMethod(new E("hashCode",new O([]),lt,(function(e){return e[0].value}),!1,!1,"Gibt den hashCode des Objekts zurÃ¼ck.")),this.addMethod(new E("parseInt",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Number.parseInt(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen int-Wert um")),this.addMethod(new E("parseInt",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Wandelt die Zeichenkette s in einen int-Wert um. Dabei wird s als Zahl im Zahlensystem mit der Basis radix interpretiert.")),this.addMethod(new E("signum",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.sign(e[1].value)}),!1,!0,"Gibt das Signum der Ã¼bergebenen Zahl zurÃ¼ck, also -1 falls negativ, 0 falls 0 und +1 falls positiv.")),this.addMethod(new E("toBinary",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return(e[1].value>>>0).toString(2)}),!1,!0,"Gibt die Ã¼bergebene Zahl als BinÃ¤rreprÃ¤sentation zurÃ¼ck.")),this.addMethod(new E("toHex",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return(e[1].value>>>0).toString(16)}),!1,!0,"Gibt die Ã¼bergebene Zahl als HexadezimalreprÃ¤sentation zurÃ¼ck.")),this.addMethod(new E("toOctal",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return(e[1].value>>>0).toString(8)}),!1,!0,"Gibt die Ã¼bergebene Zahl als OktalreprÃ¤sentation zurÃ¼ck.")),this.addMethod(new E("toString",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return e[1].value.toString()}),!1,!0,"Gibt die Ã¼bergebene Zahl als String-Wert zur Basis 10 zurÃ¼ck.")),this.addMethod(new E("toString",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return(e[1].value>>>0).toString(e[1].value)}),!1,!0,"Gibt die Ã¼bergebene Zahl als String-Wert zur Basis radix zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"i",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die Ã¼bergebene Zahl als Integer-Objekt zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseInt(e[1].value)}),!1,!0,"Interpretiert die Ã¼bergebene Zeichenkette als Dezimalzahl und gib sie als Integer-Objekt zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Interpretiert die Ã¼bergebene Zeichenkette als Zahl zur Basis radix und gib sie als Integer-Objekt zurÃ¼ck."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&ae(n.prototype,i),r&&ae(n,r),t}(Z);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fe(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e,t,n){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=fe(this,me(t).call(this,"Float",null,"Wrapper-Klasse, um float-Werte in Collections verenden zu kÃ¶nnen."))).unboxableAs=[],n.baseClass=e,n.addAttribute(new j("MAX_VALUE",ut,(function(e){e.value=Number.MAX_VALUE}),!0,I.public,!0,"Der grÃ¶Ãte Wert, den eine Variable vom Typ float annehmen kann")),n.addAttribute(new j("MIN_VALUE",ut,(function(e){e.value=Number.MIN_VALUE}),!0,I.public,!0,"Der kleinste Wert, den eine Variable vom Typ float annehmen kann")),n.addAttribute(new j("NaN_VALUE",ut,(function(e){e.value=Number.NaN}),!0,I.public,!0,'Der "Not a Number"-Wert vom Typ float')),n.addAttribute(new j("NEGATIVE_INFINITY",ut,(function(e){e.value=Number.NEGATIVE_INFINITY}),!0,I.public,!0,'Der "negative infinity"-Wert vom Typ float')),n.addAttribute(new j("POSITIVE_INFINITY",ut,(function(e){e.value=Number.POSITIVE_INFINITY}),!0,I.public,!0,'Der "positive infinity"-Wert vom Typ float')),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||ye(me(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[ut,ct],this.addMethod(new E("Float",new O([{identifier:"double-value",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Float-Objekt",!0)),this.addMethod(new E("Float",new O([{identifier:"int-value",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Float-Objekt",!0)),this.addMethod(new E("Float",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseFloat(e[1].value)}),!1,!1,"Instanziert ein neues Float-Objekt, indem die Ã¼bergebene Zeichenkette in einen float-Wert umgewandelt wird.",!0)),this.addMethod(new E("doubleValue",new O([]),ct,(function(e){return e[0].value}),!1,!1,"Wandelt das Float-Objekt in einen double-Wert um.")),this.addMethod(new E("floatValue",new O([]),ut,(function(e){return e[0].value}),!1,!1,"Wandelt das Float-Objekt in einen float-Wert um.")),this.addMethod(new E("intValue",new O([]),lt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Wandelt das Float-Objekt durch Abrunden in einen int-Wert um.")),this.addMethod(new E("compareTo",new O([{identifier:"anotherFloat",type:this,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert grÃ¶Ãer als der Ã¼bergebene Wert, so wird +1 zurÃ¼ckgegeben. Ist er kleiner, so wird -1 zurÃ¼ckgegeben. Sind die Werte gleich, so wird 0 zurÃ¼ckgegeben.")),this.addMethod(new E("equals",new O([{identifier:"anotherFloat",type:this,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Wert gleich dem Ã¼bergebenen Wert ist.")),this.addMethod(new E("toString",new O([]),pt,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurÃ¼ck.")),this.addMethod(new E("hashCode",new O([]),lt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Gibt den hashCode des Objekts zurÃ¼ck.")),this.addMethod(new E("parseFloat",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen float-Wert um")),this.addMethod(new E("toString",new O([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return""+e[1].value}),!1,!0,"Gibt die Ã¼bergebene Zahl als String-Wert zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die Ã¼bergebene Zahl als Float-Objekt zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Interpretiert die Ã¼bergebene Zeichenkette als Dezimalzahl und gib sie als Float-Objekt zurÃ¼ck.")),this.addMethod(new E("isNaN",new O([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return NaN==e[1].value}),!1,!0,"Gibt genau dann true zurÃ¼ck, falls die Ã¼bergebene float-Zahl NaN (not a Number) ist.")),this.addMethod(new E("isNaN",new O([]),dt,(function(e){return NaN==e[0].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, falls das Objekt NaN (not a Number) ist.")),this.addMethod(new E("isInfinite",new O([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[1].value==1/0}),!1,!0,"Gibt genau dann true zurÃ¼ck, falls die Ã¼bergebene float-Zahl INFINTITY ist.")),this.addMethod(new E("isInfinite",new O([]),dt,(function(e){return e[0].value==1/0}),!1,!1,"Gibt genau dann true zurÃ¼ck, falls das Objekt INFINITY ist."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&pe(n.prototype,i),r&&pe(n,r),t}(Z);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ke(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e,t,n){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ke(this,Pe(t).call(this,"Character",null,"Wrapper-Klasse, um char-Werte in Collections verenden zu kÃ¶nnen."))).unboxableAs=[],n.baseClass=e,n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||Se(Pe(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[ft,pt],this.addMethod(new E("Character",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Character-Objekt",!0)),this.addMethod(new E("charValue",new O([]),ft,(function(e){return e[0].value}),!1,!1,"Wandelt das Character-Objekt in einen char-Wert um")),this.addMethod(new E("compareTo",new O([{identifier:"anotherCharacter",type:this,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert grÃ¶Ãer als der Ã¼bergebene Wert, so wird +1 zurÃ¼ckgegeben. Ist er kleiner, so wird -1 zurÃ¼ckgegeben. Sind die Werte gleich, so wird 0 zurÃ¼ckgegeben.")),this.addMethod(new E("equals",new O([{identifier:"anotherCharacter",type:this,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Wert gleich dem Ã¼bergebenen Wert ist.")),this.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurÃ¼ck.")),this.addMethod(new E("hashCode",new O([]),lt,(function(e){return e[0].value.charCodeAt(0)}),!1,!1,"Gibt den hashCode des Objekts zurÃ¼ck.")),this.addMethod(new E("charValue",new O([]),ft,(function(e){return e[0].value}),!1,!1,"Gibt den char-Wert des Objekts zurÃ¼ck.")),this.addMethod(new E("digit",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Gibt den numerischen Wert des Zeichens zur Basis radix zurÃ¼ck.")),this.addMethod(new E("forDigit",new O([{identifier:"int-value",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),ft,(function(e){return e[1].value.toString(e[2].value).charAt(0)}),!1,!0,"Gibt den Ã¼bergebenen Wert als Ziffer im Zahlensystem zur Basis radix zurÃ¼ck.")),this.addMethod(new E("getNumericValue",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return e[1].value.charCodeAt(0)}),!1,!0,"Wandelt das Zeichen in einen numerischen Wert (Unicode-Wert) um.")),this.addMethod(new E("isLetter",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null!=e[1].value.match(/[a-zÃ¤Ã¶Ã¼Ã]/i)}),!1,!0,"Gibt genau dann true zurÃ¼ck, wenn das Zeichen ein deutsches Alphabet-Zeichen ist.")),this.addMethod(new E("isLetterOrDigit",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null!=e[1].value.match(/[a-zÃ¤Ã¶Ã¼Ã0-9]/i)}),!1,!0,"Gibt genau dann true zurÃ¼ck, wenn das Zeichen ein deutsches Alphabet-Zeichen oder eine Ziffer ist.")),this.addMethod(new E("isDigit",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null!=e[1].value.match(/[0-9]/i)}),!1,!0,"Gibt genau dann true zurÃ¼ck, wenn das Zeichen eine Ziffer ist.")),this.addMethod(new E("isWhitespace",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null!=e[1].value.match(/[ \r\n\t]/i)}),!1,!0,"Gibt genau dann true zurÃ¼ck, wenn das Zeichen ein Leerzeichen, Tabulatorzeichen oder Zeilenumbruch ist.")),this.addMethod(new E("toUpperCase",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),ft,(function(e){return e[1].value.toLocaleUpperCase()}),!1,!0,"Wandelt das Zeichen in GroÃschreibung um.")),this.addMethod(new E("toLowerCase",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),ft,(function(e){return e[1].value.toLocaleLowerCase()}),!1,!0,"Wandelt das Zeichen in Kleinschreibung um.")),this.addMethod(new E("valueOf",new O([{identifier:"char-value",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Wandelt den char-Wert in ein Character-Objekt um."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&we(n.prototype,i),r&&we(n,r),t}(Z);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t,n){return(Ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=Oe(t).call(this,"Boolean",null,"Wrapper-Klasse, um boolean-Werte in Collections verenden zu kÃ¶nnen."))||"object"!==Te(r)&&"function"!=typeof r?je(i):r).unboxableAs=[],n.baseClass=e,n.addAttribute(new j("TRUE",je(n),(function(e){e.value=!0}),!0,I.public,!0,"das Boolean-Objekt, das TRUE reprÃ¤sentiert")),n.addAttribute(new j("FALSE",je(n),(function(e){e.value=!1}),!0,I.public,!0,"das Boolean-Objekt, das FALSE reprÃ¤sentiert")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||Ee(Oe(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[dt],this.addMethod(new E("Boolean",new O([{identifier:"boolean-value",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Boolean-Objekt",!0)),this.addMethod(new E("Boolean",new O([{identifier:"string-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=null!=e[1]&&"true"==e[1].value.toLowerCase()}),!1,!1,'Instanziert ein neues Boolean-Objekt: Es nimmt genau dann den Wert true an, wenn die Ã¼bergebene Zeichenkette ohne BerÃ¼cksichtigung von Klein-/GroÃschreibung den Wert "true" hat.',!0)),this.addMethod(new E("booleanValue",new O([]),dt,(function(e){return e[0].value}),!1,!1,"Wandelt das Boolean-Objekt in einen boolean-Wert um")),this.addMethod(new E("compareTo",new O([{identifier:"anotherBoolean",type:this,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return e[0].value==e[1].value?0:1}),!1,!1,"Gibt genau dann 0 zurÃ¼ck, wenn der Wert des Objekts gleich dem Ã¼bergebenen Wert ist, ansonsten 1.")),this.addMethod(new E("equals",new O([{identifier:"anotherBoolean",type:this,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Wert gleich dem Ã¼bergebenen Wert ist.")),this.addMethod(new E("toString",new O([]),pt,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurÃ¼ck.")),this.addMethod(new E("hashCode",new O([]),lt,(function(e){return e[0].value?0:1}),!1,!1,"Gibt den hashCode des Objekts zurÃ¼ck.")),this.addMethod(new E("booleanValue",new O([]),dt,(function(e){return e[0].value}),!1,!1,"Gibt den boolean-Wert des Objekts zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"boolean-value",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Wandelt den boolean-Wert in ein Boolean-Objekt um.")),this.addMethod(new E("valueOf",new O([{identifier:"string-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null!=e[1].value&&"true"==e[1].value.toLowerCase()}),!1,!0,'Wandelt die Zeichenkette in einen boolean-Wert um. Er ergibt true genau dann, wenn die Zeichenkette != null ist und - ohne BerÃ¼cksichtigung von Klein-/GroÃschreibung - den Wert "true" hat.')),this.addMethod(new E("parseBoolean",new O([{identifier:"string-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null!=e[1].value&&"true"==e[1].value.toLowerCase()}),!1,!0,'Wandelt die Zeichenkette in einen boolean-Wert um. Er ergibt true genau dann, wenn die Zeichenkette != null ist und - ohne BerÃ¼cksichtigung von Klein-/GroÃschreibung - den Wert "true" hat.'))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Me(n.prototype,i),r&&Me(n,r),t}(Z);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ie(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e,t,n){return(ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re,We=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ie(this,Le(t).call(this,"Double",null,"Wrapper-Klasse, um double-Werte in Collections verenden zu kÃ¶nnen."))).unboxableAs=[],n.baseClass=e,n.addAttribute(new j("MAX_VALUE",ct,(function(e){e.value=Number.MAX_VALUE}),!0,I.public,!0,"Der grÃ¶Ãte Wert, den eine Variable vom Typ double annehmen kann")),n.addAttribute(new j("MIN_VALUE",ct,(function(e){e.value=Number.MIN_VALUE}),!0,I.public,!0,"Der kleinste Wert, den eine Variable vom Typ double annehmen kann")),n.addAttribute(new j("NaN_VALUE",ct,(function(e){e.value=Number.NaN}),!0,I.public,!0,'Der "Not a Number"-Wert vom Typ double')),n.addAttribute(new j("NEGATIVE_INFINITY",ct,(function(e){e.value=Number.NEGATIVE_INFINITY}),!0,I.public,!0,'Der "negative infinity"-Wert vom Typ double')),n.addAttribute(new j("POSITIVE_INFINITY",ct,(function(e){e.value=Number.POSITIVE_INFINITY}),!0,I.public,!0,'Der "positive infinity"-Wert vom Typ double')),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||ze(Le(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[ct],this.addMethod(new E("Double",new O([{identifier:"double-value",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Double-Objekt",!0)),this.addMethod(new E("Double",new O([{identifier:"int-value",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Double-Objekt",!0)),this.addMethod(new E("Double",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseFloat(e[1].value)}),!1,!1,"Instanziert ein neues Double-Objekt, indem die Ã¼bergebene Zeichenkette in einen double-Wert umgewandelt wird.",!0)),this.addMethod(new E("doubleValue",new O([]),ct,(function(e){return e[0].value}),!1,!1,"Wandelt das Double-Objekt in einen double-Wert um.")),this.addMethod(new E("floatValue",new O([]),ut,(function(e){return e[0].value}),!1,!1,"Wandelt das Double-Objekt in einen float-Wert um.")),this.addMethod(new E("intValue",new O([]),lt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Wandelt das Double-Objekt durch Abrunden in einen int-Wert um.")),this.addMethod(new E("compareTo",new O([{identifier:"anotherDouble",type:this,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert grÃ¶Ãer als der Ã¼bergebene Wert, so wird +1 zurÃ¼ckgegeben. Ist er kleiner, so wird -1 zurÃ¼ckgegeben. Sind die Werte gleich, so wird 0 zurÃ¼ckgegeben.")),this.addMethod(new E("equals",new O([{identifier:"anotherDouble",type:this,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Wert gleich dem Ã¼bergebenen Wert ist.")),this.addMethod(new E("toString",new O([]),pt,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurÃ¼ck.")),this.addMethod(new E("hashCode",new O([]),lt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Gibt den hashCode des Objekts zurÃ¼ck.")),this.addMethod(new E("parseDouble",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen double-Wert um")),this.addMethod(new E("toString",new O([{identifier:"f",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return""+e[1].value}),!1,!0,"Gibt die Ã¼bergebene Zahl als String-Wert zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"f",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die Ã¼bergebene Zahl als Double-Objekt zurÃ¼ck.")),this.addMethod(new E("valueOf",new O([{identifier:"s",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Interpretiert die Ã¼bergebene Zeichenkette als Dezimalzahl und gib sie als Double-Objekt zurÃ¼ck.")),this.addMethod(new E("isNaN",new O([{identifier:"f",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return NaN==e[1].value}),!1,!0,"Gibt genau dann true zurÃ¼ck, falls die Ã¼bergebene double-Zahl NaN (not a Number) ist.")),this.addMethod(new E("isNaN",new O([]),dt,(function(e){return NaN==e[0].value}),!1,!1,"Gibt genau dann true zurÃ¼ck, falls das Objekt NaN (not a Number) ist.")),this.addMethod(new E("isInfinite",new O([{identifier:"f",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return e[1].value==1/0}),!1,!0,"Gibt genau dann true zurÃ¼ck, falls die Ã¼bergebene double-Zahl INFINTITY ist.")),this.addMethod(new E("isInfinite",new O([]),dt,(function(e){return e[0].value==1/0}),!1,!1,"Gibt genau dann true zurÃ¼ck, falls das Objekt INFINITY ist."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Fe(n.prototype,i),r&&Fe(n,r),t}(Z);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t,n){return(Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qe(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}function Ke(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?Ue(e):t}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(){var e;return Ge(this,t),(e=Ke(this,Ze(t).call(this))).identifier="null",e}return qe(t,e),Qe(t,[{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return e instanceof Z||e instanceof X}},{key:"castTo",value:function(e,t){return e}},{key:"equals",value:function(e){return e instanceof Z||e instanceof X}},{key:"debugOutput",value:function(e){return"null"}}]),t}(T),Ye=function(e){function t(){var e;return Ge(this,t),(e=Ke(this,Ze(t).call(this))).identifier="var",e}return qe(t,e),Qe(t,[{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return e instanceof Z||e instanceof X}},{key:"castTo",value:function(e,t){return e}},{key:"equals",value:function(e){return e instanceof Z||e instanceof X}},{key:"debugOutput",value:function(e){return"var"}}]),t}(T),et=function(e){function t(){return Ge(this,t),Ke(this,Ze(t).apply(this,arguments))}return qe(t,e),Qe(t,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="int",this.description="ganze Zahl",this.operationTable=(Ne(e={},s.plus,{int:lt,Integer:lt,float:ut,Float:ut,double:ct,Double:ct,String:pt}),Ne(e,s.minus,{none:lt,int:lt,Integer:lt,float:ut,Float:ut,double:ct,Double:ct}),Ne(e,s.multiplication,{int:lt,Integer:lt,float:ut,Float:ut,double:ct,Double:ct}),Ne(e,s.modulo,{int:lt,Integer:lt}),Ne(e,s.division,{int:lt,Integer:lt,float:ut,Float:ut,double:ct,Double:ct}),Ne(e,s.doublePlus,{none:lt}),Ne(e,s.doubleMinus,{none:lt}),Ne(e,s.negation,{none:lt}),Ne(e,s.lower,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.greater,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.lowerOrEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.greaterOrEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.equal,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.notEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),e),this.canCastToMap={float:{automatic:!0,needsStatement:!1},double:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},char:{automatic:!0,needsStatement:!0},int:{automatic:!0,needsStatement:!1},Integer:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return s.integerConstant}},{key:"castTo",value:function(e,t){return t==ut||t==ct?{type:t,value:e.value}:t==pt?{type:t,value:""+e.value}:t==ft?{type:t,value:String.fromCharCode(e.value)}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case s.plus:return n.type,i+n.value;case s.minus:return null==n?-i:i-n.value;case s.multiplication:return i*n.value;case s.division:return n.type==lt?Math.trunc(i/n.value):i/n.value;case s.modulo:return n.type==lt?Math.trunc(i%n.value):1;case s.doublePlus:return i++;case s.doubleMinus:return i--;case s.negation:return-i;case s.lower:return i<n.value;case s.greater:return i>n.value;case s.lowerOrEqual:return i<=n.value;case s.greaterOrEqual:return i>=n.value;case s.equal:return i==n.value;case s.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(M),tt=function(e){function t(){return Ge(this,t),Ke(this,Ze(t).apply(this,arguments))}return qe(t,e),Qe(t,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="float",this.description="FlieÃkommazahl mit einfacher Genauigkeit",this.operationTable=(Ne(e={},s.plus,{Integer:ut,int:ut,float:ut,Float:ut,double:ct,Double:ct,String:pt}),Ne(e,s.minus,{none:ut,Integer:ut,int:ut,float:ut,Float:ut,double:ct,Double:ct}),Ne(e,s.multiplication,{Integer:ut,int:ut,float:ut,Float:ut,double:ct,Double:ct}),Ne(e,s.division,{Integer:ut,int:ut,float:ut,Float:ut,double:ct,Double:ct}),Ne(e,s.doublePlus,{none:ut}),Ne(e,s.doubleMinus,{none:ut}),Ne(e,s.negation,{none:ut}),Ne(e,s.lower,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.greater,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.lowerOrEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.greaterOrEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.equal,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.notEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),e),this.canCastToMap={int:{automatic:!1,needsStatement:!0},double:{automatic:!0,needsStatement:!1},float:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},Float:{automatic:!0,needsStatement:!1},Double:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return s.floatingPointConstant}},{key:"castTo",value:function(e,t){return t==pt?{type:t,value:""+e.value}:t==lt?{type:t,value:Math.trunc(e.value)}:t==ct?{type:t,value:e.value}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case s.plus:return n.type,i+n.value;case s.minus:return null==n?-i:i-n.value;case s.multiplication:return i*n.value;case s.division:return i/n.value;case s.doublePlus:return i++;case s.doubleMinus:return i--;case s.negation:return-i;case s.lower:return i<n.value;case s.greater:return i>n.value;case s.lowerOrEqual:return i<=n.value;case s.greaterOrEqual:return i>=n.value;case s.equal:return i==n.value;case s.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(M),nt=function(e){function t(){return Ge(this,t),Ke(this,Ze(t).apply(this,arguments))}return qe(t,e),Qe(t,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="double",this.description="FlieÃkommazahl mit doppelter Genauigkeit",this.operationTable=(Ne(e={},s.plus,{int:ct,Integer:ct,float:ct,Float:ct,double:ct,Double:ct,String:pt}),Ne(e,s.minus,{none:ct,int:ct,Integer:ct,float:ct,Float:ct,double:ct,Double:ct}),Ne(e,s.multiplication,{int:ct,Integer:ct,float:ct,Float:ct,double:ct,Double:ct}),Ne(e,s.division,{int:ct,Integer:ct,float:ct,Float:ct,double:ct,Double:ct}),Ne(e,s.doublePlus,{none:ct}),Ne(e,s.doubleMinus,{none:ct}),Ne(e,s.negation,{none:ct}),Ne(e,s.lower,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.greater,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.lowerOrEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.greaterOrEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.equal,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),Ne(e,s.notEqual,{int:dt,float:dt,double:dt,Integer:dt,Float:dt,Double:dt}),e),this.canCastToMap={int:{automatic:!1,needsStatement:!0},float:{automatic:!0,needsStatement:!1},double:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},Float:{automatic:!0,needsStatement:!1},Double:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return s.floatingPointConstant}},{key:"castTo",value:function(e,t){return t==pt?{type:t,value:""+e.value}:t==lt?{type:t,value:Math.trunc(e.value)}:t==ut?{type:t,value:e.value}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case s.plus:return n.type,i+n.value;case s.minus:return null==n?-i:i-n.value;case s.multiplication:return i*n.value;case s.division:return i/n.value;case s.doublePlus:return i++;case s.doubleMinus:return i--;case s.negation:return-i;case s.lower:return i<n.value;case s.greater:return i>n.value;case s.lowerOrEqual:return i<=n.value;case s.greaterOrEqual:return i>=n.value;case s.equal:return i==n.value;case s.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(M),it=function(e){function t(){return Ge(this,t),Ke(this,Ze(t).apply(this,arguments))}return qe(t,e),Qe(t,[{key:"init",value:function(){var e;this.initialValue=!1,this.identifier="boolean",this.description="boolescher Wert (true oder false)",this.operationTable=(Ne(e={},s.plus,{String:pt}),Ne(e,s.and,{boolean:dt}),Ne(e,s.or,{boolean:dt}),Ne(e,s.not,{none:dt}),Ne(e,s.equal,{boolean:dt}),Ne(e,s.notEqual,{boolean:dt}),e),this.canCastToMap={String:{automatic:!0,needsStatement:!0},boolean:{automatic:!0,needsStatement:!1},Boolean:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return s.booleanConstant}},{key:"castTo",value:function(e,t){if(t==pt)return{type:t,value:""+e.value}}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case s.plus:return i+n.value;case s.equal:return i==n.value;case s.notEqual:return i!=n.value;case s.and:return i&&n.value;case s.or:return i||n.value;case s.not:return!i}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(M),rt=function(e){function t(){return Ge(this,t),Ke(this,Ze(t).apply(this,arguments))}return qe(t,e),Qe(t,[{key:"init",value:function(){this.initialValue=!1,this.identifier="void",this.description="leerer RÃ¼ckgabewert",this.operationTable={},this.canCastToMap={}}},{key:"toTokenType",value:function(){return s.keywordVoid}},{key:"castTo",value:function(e,t){return e}},{key:"compute",value:function(e,t,n){return null}},{key:"debugOutput",value:function(e){return"void"}}]),t}(M),ot=function(e){function t(e){var n;Ge(this,t),(n=Ke(this,Ze(t).call(this,"String",null,"Ein Objekt der Klasse String speichert eine Zeichenkette."))).baseClass=e;var i=Ue(n);return e.methods.filter((function(e){return"toString"==e.identifier})).forEach((function(e){return e.returnType=i})),n}return qe(t,e),Qe(t,[{key:"toTokenType",value:function(){return s.stringConstant}},{key:"getResultType",value:function(e,n){if(e==s.keywordInstanceof)return Ve(Ze(t.prototype),"getResultType",this).call(this,e,n);var i=this.operationTable[e];return null==i?null:null!=n?i[n.identifier]:i.none}},{key:"init",value:function(){var e;this.operationTable=(Ne(e={},s.plus,{String:pt,int:pt,float:pt,double:ct,boolean:pt,char:pt}),Ne(e,s.equal,{String:dt,null:dt}),Ne(e,s.notEqual,{String:dt,null:dt}),Ne(e,s.lower,{String:dt}),Ne(e,s.greater,{String:dt}),Ne(e,s.lowerOrEqual,{String:dt}),Ne(e,s.greaterOrEqual,{String:dt}),e),this.addMethod(new E("length",new O([]),lt,(function(e){return e[0].value.length}),!1,!1,"LÃ¤nge der Zeichenkette, d.h. Anzahl der Zeichen in der Zeichenkette.")),this.addMethod(new E("charAt",new O([{identifier:"Position",type:lt,declaration:null,usagePositions:null,isFinal:!1}]),ft,(function(e){return e[0].value.charAt(e[1].value)}),!1,!1,"Zeichen an der gegebenen Position.\n**Bem.: ** Position == 0 bedeutet das erste Zeichen in der Zeichenkette, Position == 1 das zweite usw. .")),this.addMethod(new E("equals",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),dt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann **wahr** zurÃ¼ck, wenn die zwei Zeichenketten Ã¼bereinstimmen (unter BerÃ¼cksichtigung von Klein-/GroÃschreibung).")),this.addMethod(new E("compareTo",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),lt,(function(e){return e[0].value.localeCompare(e[1].value)}),!1,!1,"Vergleicht den String mit dem Ã¼bergebenen String. Gibt -1 zurÃ¼ck, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind.")),this.addMethod(new E("equalsIgnoreCase",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),dt,(function(e){return e[0].value.toLowerCase()==e[1].value.toLowerCase()}),!1,!1,"Gibt genau dann **wahr** zurÃ¼ck, wenn die zwei Zeichenketten Ã¼bereinstimmen (**ohne** BerÃ¼cksichtigung von Klein-/GroÃschreibung).")),this.addMethod(new E("endsWith",new O([{identifier:"suffix",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),dt,(function(e){return e[0].value.endsWith(e[1].value)}),!1,!1,"Gibt genau dann **wahr** zurÃ¼ck, wenn die Zeichenkette mit der Ã¼bergebenen Zeichenkette ( = suffix) endet. Klein-/GroÃschreibung wird dabei berÃ¼cksichtigt!")),this.addMethod(new E("startsWith",new O([{identifier:"prÃ¤fix",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),dt,(function(e){return e[0].value.startsWith(e[1].value)}),!1,!1,"Gibt genau dann **wahr** zurÃ¼ck, wenn die Zeichenkette mit der Ã¼bergebenen Zeichenkette ( = prÃ¤fix) beginnt. Klein-/GroÃschreibung wird dabei berÃ¼cksichtigt!")),this.addMethod(new E("toLowerCase",new O([]),pt,(function(e){return e[0].value.toLocaleLowerCase()}),!1,!1,"Gibt die Zeichenkette zurÃ¼ck, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden GroÃbuchstaben durch den entsprechenden Kleinbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verÃ¤ndert die Zeichenkette selbst nicht.")),this.addMethod(new E("toUpperCase",new O([]),pt,(function(e){return e[0].value.toLocaleUpperCase()}),!1,!1,"Gibt die Zeichenkette zurÃ¼ck, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Kleinbuchstaben durch den entsprechenden GroÃbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verÃ¤ndert die Zeichenkette selbst nicht.")),this.addMethod(new E("substring",new O([{identifier:"beginIndex",type:lt,declaration:null,usagePositions:null,isFinal:!1}]),pt,(function(e){return e[0].value.substring(e[1].value)}),!1,!1,"Gibt das hintere Ende der Zeichenkette ab **beginIndex** zurÃ¼ck. **beginIndex** == 1 bedeutet, dass die Zeichenkette ab dem 2.(!) Zeichen zurÃ¼ckgegeben wird. ")),this.addMethod(new E("substring",new O([{identifier:"beginIndex",type:lt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"endIndex",type:lt,declaration:null,usagePositions:null,isFinal:!1}]),pt,(function(e){return e[0].value.substring(e[1].value,e[2].value)}),!1,!1,"Gibt die Teil-Zeichenkette von **beginIndex** bis **endIndex** zurÃ¼ck.\n**Vorsicht: ** beginIndex und endIndex sind nullbasiert, d.h. beginIndex == 0 bedeutet die Position vor dem ersten Zeichen.")),this.addMethod(new E("trim",new O([]),pt,(function(e){return e[0].value.trim()}),!1,!1,"Gibt die Zeichenkette zurÃ¼ck, die entsteht, wenn man am Anfang und Ende der Zeichenkette alle Leerzeichen, Tabs und ZeilenumbrÃ¼che entfernt.")),this.addMethod(new E("isEmpty",new O([]),dt,(function(e){return""==e[0].value}),!1,!1,"Gibt genau dann wahr zurÃ¼ck, wenn die Zeichenkette leer ist.\n**Warnung: ** Die Methode darf nicht mit dem '''null'''-Objekt aufgerufen werden!")),this.addMethod(new E("indexOf",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),lt,(function(e){return e[0].value.indexOf(e[1].value)}),!1,!1,"Gibt die erste Position zurÃ¼ck, an der **otherString** in der Zeichenkette gefunden wird.")),this.addMethod(new E("indexOf",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"fromIndex",type:lt,declaration:null,usagePositions:null,isFinal:!1}]),lt,(function(e){return e[0].value.indexOf(e[1].value,e[2].value)}),!1,!1,"Gibt die erste Position zurÃ¼ck, an der **otherString** in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex mit der Suche begonnen.")),this.addMethod(new E("lastIndexOf",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),lt,(function(e){return e[0].value.lastIndexOf(e[1].value)}),!1,!1,"Gibt die letzte Position zurÃ¼ck, bei der otherString in der Zeichenkette gefunden wird.")),this.addMethod(new E("lastIndexOf",new O([{identifier:"otherString",type:pt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"fromIndex",type:lt,declaration:null,usagePositions:null,isFinal:!1}]),lt,(function(e){return e[0].value.lastIndexOf(e[1].value,e[2].value)}),!1,!1,"Gibt die letzte Position zurÃ¼ck, bei der otherString in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex - von rechts her beginnend - gesucht.")),this.addMethod(new E("replace",new O([{identifier:"target",type:pt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),pt,(function(e){return e[0].value.replace(e[1].value,e[2].value)}),!1,!1,"Ersetzt alle Vorkommen von **target** durch **replacement** und gibt die entstandene Zeichenkette zurÃ¼ck. Die Zeichenkette selbst wird nicht verÃ¤ndert.")),this.addMethod(new E("replaceAll",new O([{identifier:"regex",type:pt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),pt,(function(e){var t=e[1].value,n=new RegExp(t,"g");return e[0].value.replace(n,e[2].value)}),!1,!1,"Durchsucht den String mit dem regulÃ¤ren Ausdruck (regex) und ersetzt **alle** Fundstellen durch **replacement**.")),this.addMethod(new E("replaceFirst",new O([{identifier:"regex",type:pt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),pt,(function(e){var t=e[1].value,n=new RegExp(t,"");return e[0].value.replace(n,e[2].value)}),!1,!1,"Durchsucht den String mit dem regulÃ¤ren Ausdruck (regex) und ersetzt **die erste** Fundstelle durch **replacement**.")),this.addMethod(new E("split",new O([{identifier:"regex",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),new jt(pt),(function(e){var t=e[1].value,n=new RegExp(t,""),i=e[0].value.split(n),r=[],o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push({type:pt,value:c})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return r}),!1,!1,"Teilt die Zeichenkette an den Stellen, die durch den regulÃ¤ren Ausdruck (regex) definiert sind, in Teile auf. Die Fundstellen des regex werden dabei weggelassen. Gibt die Teile als String-Array zurÃ¼ck."))}},{key:"compute",value:function(e,n,i){var r=n.value;switch(e){case s.plus:return i.type==pt||i.type==ft||i.type,r+i.value;case s.lower:return r<i.value;case s.greater:return r>i.value;case s.lowerOrEqual:return r<=i.value;case s.greaterOrEqual:return r>=i.value;case s.equal:return r==i.value;case s.notEqual:return r!=i.value;case s.keywordInstanceof:return Ve(Ze(t.prototype),"compute",this).call(this,e,n,i)}}},{key:"debugOutput",value:function(e){return'"'+e.value+'"'}}]),t}(Z),at=function(e){function t(){return Ge(this,t),Ke(this,Ze(t).apply(this,arguments))}return qe(t,e),Qe(t,[{key:"init",value:function(){var e;this.initialValue="\0",this.identifier="char",this.description="ein Zeichen",this.operationTable=(Ne(e={},s.plus,{String:pt,char:pt}),Ne(e,s.equal,{char:dt}),Ne(e,s.notEqual,{char:dt}),Ne(e,s.lower,{char:dt}),Ne(e,s.greater,{char:dt}),Ne(e,s.lowerOrEqual,{char:dt}),Ne(e,s.greaterOrEqual,{char:dt}),e),this.canCastToMap={int:{automatic:!0,needsStatement:!0},float:{automatic:!0,needsStatement:!0},double:{automatic:!0,needsStatement:!0},String:{automatic:!0,needsStatement:!1},char:{automatic:!0,needsStatement:!1},Character:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return s.charConstant}},{key:"castTo",value:function(e,t){return t==pt?e:t==lt||t==ut||t==ct?{type:t,value:e.value.charCodeAt(0)}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case s.plus:return i+n.value;case s.lower:return i<n.value;case s.greater:return i>n.value;case s.lowerOrEqual:return i<=n.value;case s.greaterOrEqual:return i>=n.value;case s.equal:return i==n.value;case s.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return"'"+e.value+"'"}}]),t}(M),st=new rt,lt=new et,ut=new tt,ct=new nt,dt=new it;z=dt;var ht=new re(null),pt=new ot(ht),ft=new at,yt=new Je,mt=new Ye,vt=new de(ht),gt=new ge(ht),bt=new We(ht),wt=new Ce(ht),kt=new _e(ht),St=(Ne(Re={},s.integerConstant,lt),Ne(Re,s.floatingPointConstant,ut),Ne(Re,s.booleanConstant,dt),Ne(Re,s.stringConstant,pt),Ne(Re,s.charConstant,ft),Ne(Re,s.keywordNull,yt),Re);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ct(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ct(this,Tt(t).call(this))).arrayOfType=e,n.identifier="Array",null!=e&&(n.identifier=e.identifier+"[]"),n.lengthAttribute=new j("length",lt,(function(e){return e.value.length}),!1,I.public,!0),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,e),n=t,(i=[{key:"equals",value:function(e){return e instanceof t&&e.arrayOfType.equals(this.arrayOfType)}},{key:"getResultType",value:function(e,t){return e==s.referenceElement?this.arrayOfType:null}},{key:"compute",value:function(e,t,n){if(e==s.referenceElement)return t.value[n.value]}},{key:"getMethod",value:function(e,t){return null}},{key:"getAttribute",value:function(e){return"length"==e?this.lengthAttribute:null}},{key:"canCastTo",value:function(e){return e instanceof t&&this.arrayOfType.canCastTo(e.arrayOfType)}},{key:"castTo",value:function(e,t){var n=e.value.slice(),i=t.arrayOfType,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this.arrayOfType.castTo(u,i)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return{type:t,value:n}}},{key:"debugOutput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=0;if(null!=e.value){for(var i="[",r=e.value,o=0;o<r.length;o++){var a=r[o],s=a.type.debugOutput(a,t/2);if(i+=s,o<r.length-1&&(i+=",&nbsp;"),(n+=s.length)>t)break}return i+"]"}return"null"}},{key:"id",get:function(){return this.arrayOfType.identifier+"[]"}}])&&xt(n.prototype,i),r&&xt(n,r),t}(T);function Et(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ot=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=e.maxId++,this.beginsNewStackframe=!1,this.childSymbolTables=[],this.variableMap=new Map,this.classContext=null,this.method=null,this.parent=t,this.positionFrom=n,this.positionTo=i,this.classContext=null==t?null:t.classContext,null!=this.parent&&(this.parent.childSymbolTables.push(this),this.method=this.parent.method)}var t,n,i;return t=e,(n=[{key:"getImitation",value:function(){var t=new e(null,{line:1,column:1,length:0},{line:1,column:1e4,length:0});t.beginsNewStackframe=!0;for(var n=this,i=-1;null!=n;)null!=n.classContext&&(t.classContext=n.classContext),n.variableMap.forEach((function(e,n){null==t.variableMap.get(n)&&t.variableMap.set(n,e),e.stackPos>i&&(i=e.stackPos)})),n=n.parent;return t.stackframeSize=i+1,t}},{key:"getLocalVariableCompletionItems",value:function(e){var t=[];return this.variableMap.forEach((function(n,i){0!=i&&(null!=n&&null!=n.type&&n.type instanceof jt&&t.push({label:i+"[]",insertText:i+"[$0]",documentation:"Element des Arrays",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:e}),t.push({label:i,insertText:i,kind:monaco.languages.CompletionItemKind.Variable,range:e}))})),null!=this.parent&&this.parent.classContext==this.classContext&&(t=t.concat(this.parent.getLocalVariableCompletionItems(e))),t}},{key:"findTableAtPosition",value:function(e,t){if(!this.containsPosition(e,t))return null;var n=null,i=1e7,r=!0,o=!1,a=void 0;try{for(var s,l=this.childSymbolTables[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(u.containsPosition(e,t)){var c=u.findTableAtPosition(e,t);c.positionTo.line-c.positionFrom.line<i&&(n=c,i=c.positionTo.line-c.positionFrom.line)}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return null!=n?n:this}},{key:"containsPosition",value:function(e,t){return!(e<this.positionFrom.line||e>this.positionTo.line)&&(e==this.positionFrom.line?t>=this.positionFrom.column:e!=this.positionTo.line||t<=this.positionTo.column)}}])&&Et(t.prototype,n),i&&Et(t,i),e}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function At(e,t,n){return(At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lt(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ot.maxId=0;var Wt=function(e){function t(e,n){var i;return Ft(this,t),(i=It(this,Lt(t).call(this,e))).enumValue=n,i}return Bt(t,e),t}(A),$t=function(e){function t(e,n,i){var r;Ft(this,t),(r=It(this,Lt(t).call(this,e,n))).enumInfoList=[],r.identifierToInfoMap={},r.indexToInfoMap={},r.valueList=null,r.baseClass=ht;var o=0,a=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=new j(d.identifier,zt(r),null,!0,I.public,!0);null!=d.position&&(h.declaration={module:n,position:d.position},h.usagePositions.set(n,[d.position])),r.staticClass.addAttribute(h);var p={identifier:d.identifier,ordinal:o++};r.enumInfoList.push(p),r.identifierToInfoMap[d.identifier]=p,r.indexToInfoMap[p.ordinal]=p}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}if(n.isSystemModule){r.valueList={type:new jt(zt(r)),value:[]};var f=!0,y=!1,m=void 0;try{for(var v,g=r.enumInfoList[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;b.object=new Wt(zt(r),b),r.valueList.value.push({type:zt(r),value:b.object})}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}var w=zt(r);return r.staticClass.addMethod(new E("getValues",new O([]),new jt(zt(r)),(function(e){if(null==r.valueList){var t=[],n=!0,i=!1,o=void 0;try{for(var a,s=r.enumInfoList[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;t.push({type:w,value:l.object})}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}r.valueList={type:new jt(w),value:t}}return r.valueList}),!1,!0)),r.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.enumValue.identifier}),!1,!1)),r.addMethod(new E("toOrdinal",new O([]),lt,(function(e){return e[0].value.enumValue.ordinal}),!1,!1)),r}var n,i,r;return Bt(t,e),n=t,(i=[{key:"getOrdinal",value:function(e){var t=this.identifierToInfoMap[e];return null==t?-1:t.ordinal}},{key:"debugOutput",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.value;return this.identifier+"."+t.enumValue.identifier}},{key:"canCastTo",value:function(e){return e==lt||At(Lt(t.prototype),"canCastTo",this).call(this,e)}},{key:"castTo",value:function(e,n){if(n==lt){var i=e.value;return{type:lt,value:i.enumValue.ordinal}}return At(Lt(t.prototype),"castTo",this).call(this,e,n)}}])&&_t(n.prototype,i),r&&_t(n,r),t}(Z);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Nt(this,Gt(t).call(this,"Input",e,"Klasse mit statischen Methoden zur Eingabe von Text per Tastatur"))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new E("readChar",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:ft,declaration:null,usagePositions:null,isFinal:!0}]),ft,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp char")),n.addMethod(new E("readInt",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp int")),n.addMethod(new E("readString",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp String")),n.addMethod(new E("readFloat",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp float")),n.addMethod(new E("readDouble",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp double")),n.addMethod(new E("readBoolean",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp boolean")),n.addMethod(new E("readChar",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ft,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp char")),n.addMethod(new E("readInt",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp int")),n.addMethod(new E("readString",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp String")),n.addMethod(new E("readFloat",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp float")),n.addMethod(new E("readDouble",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp double")),n.addMethod(new E("readBoolean",new O([{identifier:"Meldungstext",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp boolean")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,e),t}(Z);function Kt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ut,Zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initStackFrameNodes=[]}var t,n,i;return t=e,(n=[{key:"startAdhocCompilation",value:function(e,t,n,i){this.moduleStore=t,this.module=e,this.symbolTableStack=[],this.symbolTableStack.push(n),this.currentSymbolTable=n,this.heap=i;var r=n.stackframeSize;return this.nextFreeRelativeStackPos=r,this.currentProgram=null,this.errorList=[],this.breakNodeStack=[],this.continueNodeStack=[],this.generateMain(!0),this.errorList}},{key:"start",value:function(e,t){if(this.moduleStore=t,this.module=e,this.symbolTableStack=[],this.currentSymbolTable=null,this.currentProgram=null,this.errorList=[],this.nextFreeRelativeStackPos=0,this.module.tokenList.length>0){var n=this.module.tokenList[this.module.tokenList.length-1];this.module.mainSymbolTable.positionTo={line:n.position.line,column:n.position.column+1,length:1}}this.symbolTableStack.push(this.module.mainSymbolTable),this.currentSymbolTable=this.module.mainSymbolTable,this.breakNodeStack=[],this.continueNodeStack=[],this.generateMain(),this.generateClasses(),this.lookForStaticVoidMain(),this.module.errors[3]=this.errorList}},{key:"lookForStaticVoidMain",value:function(){var e=this.module.mainProgram;if(!(null!=e&&e.statements.length>2)){var t=null,n=null,i=!0,r=!1,o=void 0;try{for(var a,l=this.module.classDefinitionsAST[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;if(u.type==s.keywordClass){var c=u.resolvedType,d=!0,h=!1,p=void 0;try{for(var f,y=c.staticClass.methods[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;if("main"==m.identifier&&1==m.parameterlist.parameters.length){var v=m.parameterlist.parameters[0];v.type instanceof jt&&v.type.arrayOfType==pt&&(null!=t?this.pushError("Es existieren mehrere Klassen mit statischen main-Methoden.",u.position):(t=m,n=c.staticClass))}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}if(null!=t){var g=t.usagePositions[0];null!=t.program&&t.program.statements.length>0&&(g=t.program.statements[0].position),this.initCurrentProgram(),this.module.mainProgram=this.currentProgram,this.pushStatements([{type:s.callMainMethod,position:g,stepFinished:!1,method:t,staticClass:n},{type:s.closeStackframe,position:t.usagePositions.get(this.module)[0]}],!1)}}}},{key:"generateClasses",value:function(){if(null!=this.module.classDefinitionsAST){var e=!0,t=!1,n=void 0;try{for(var i,r=this.module.classDefinitionsAST[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(o.type==s.keywordClass&&this.generateClass(o),o.type==s.keywordEnum&&this.generateEnum(o),o.type==s.keywordInterface){var a=o.resolvedType;null!=a&&this.checkDoubleMethodDeclaration(a)}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}},{key:"generateEnum",value:function(e){if(null!=e.resolvedType){this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var t=e.resolvedType;this.currentSymbolTable.classContext=t,this.currentProgram=t.attributeInitializationProgram;var n=!0,i=!1,r=void 0;try{for(var o,a=e.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;null==l||l.isStatic||null==l.initialization||this.initializeAttribute(l)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}t.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:s.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var u=!0,c=!1,d=void 0;try{for(var h,p=e.methods[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;null==f||f.isAbstract||f.isStatic||this.compileMethod(f)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var y=!0,m=!1,v=void 0;try{for(var g,b=e.values[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value;if(null!=w.constructorParameters){var k={module:this.module,labelManager:null,statements:[]};this.currentProgram=k,this.pushStatements({type:s.pushEnumValue,position:w.position,enumClass:t,valueIdentifier:w.identifier}),this.processEnumConstructorCall(t,w.constructorParameters,w.position,w.commaPositions,w.rightBracketPosition),this.pushStatements({type:s.programEnd,position:w.position,stepFinished:!0});var S=t.identifierToInfoMap[w.identifier];S.constructorCallProgram=k,S.position=w.position}}}catch(e){m=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(m)throw v}}this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.classContext=t.staticClass,this.currentProgram=t.staticClass.attributeInitializationProgram;var P=!0,x=!1,C=void 0;try{for(var T,M=e.attributes[Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var j=T.value;null!=j&&j.isStatic&&null!=j.initialization&&this.initializeAttribute(j)}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}this.currentProgram.labelManager.resolveNodes();var E=!0,O=!1,D=void 0;try{for(var _,A=e.methods[Symbol.iterator]();!(E=(_=A.next()).done);E=!0){var F=_.value;null!=F&&F.isStatic&&this.compileMethod(F)}}catch(e){O=!0,D=e}finally{try{E||null==A.return||A.return()}finally{if(O)throw D}}this.checkDoubleMethodDeclaration(t),this.popSymbolTable(null)}}},{key:"processEnumConstructorCall",value:function(e,t,n,i,r){var o=[],a=!0,l=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,p=this.processNode(h);null!=p&&o.push(p.type)}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}var f=e.getMethodsThatFitWithCasting(e.identifier,o,!0,I.private);if(this.module.pushMethodCallPosition(n,i,e.getMethods(I.private,e.identifier),r),null!=f.error)return this.pushError(f.error,n),{type:pt,isAssignable:!1};for(var y=f.methodList[0],m=0;m<o.length;m++){var v=y.getParameterType[m],g=o[m];g.equals(v)||g instanceof M&&v instanceof M&&g.getCastInformation(v).needsStatement&&this.pushStatements({type:s.castValue,position:null,newType:v,stackPosRelative:1-o.length+m})}this.pushStatements({type:s.callMethod,method:y,position:n,stepFinished:!0,isSuperCall:!1,stackframeBegin:-(o.length+1)})}},{key:"generateClass",value:function(e){if(null!=e.resolvedType){this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var t=e.resolvedType,n=t.checkInheritance();""!=n.message&&this.pushError(n.message,e.position,"error",this.getInheritanceQuickFix(e.scopeTo,n));var i=t.baseClass;null!=i&&i.module!=t.module&&i.visibility==I.private&&this.pushError("Die Basisklasse "+i.identifier+" der Klasse "+t.identifier+" ist hier nicht sichtbar.",e.position),this.currentSymbolTable.classContext=t,this.currentProgram=t.attributeInitializationProgram;var r=!0,o=!1,a=void 0;try{for(var l,u=e.attributes[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;null==c||c.isStatic||null==c.initialization||this.initializeAttribute(c)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}t.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:s.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var d=!0,h=!1,p=void 0;try{for(var f,y=e.methods[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;null==m||m.isAbstract||m.isStatic||this.compileMethod(m)}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}this.checkDoubleMethodDeclaration(t),this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.classContext=t.staticClass,this.currentProgram=t.staticClass.attributeInitializationProgram;var v=!0,g=!1,b=void 0;try{for(var w,k=e.attributes[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var S=w.value;null!=S&&S.isStatic&&null!=S.initialization&&this.initializeAttribute(S)}}catch(e){g=!0,b=e}finally{try{v||null==k.return||k.return()}finally{if(g)throw b}}t.staticClass.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:s.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var P=!0,x=!1,C=void 0;try{for(var T,M=e.methods[Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var j=T.value;null!=j&&j.isStatic&&this.compileMethod(j)}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}this.popSymbolTable(null)}}},{key:"checkDoubleMethodDeclaration",value:function(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,a=e.methods[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.getSignatureWithReturnParameter();if(null!=t[l]){var u="In der Klasse ";e instanceof X&&(u="Im Interface "),e instanceof $t&&(u="Im Enum "),this.pushError(u+e.identifier+" gibt es zwei Methoden mit derselben Signatur: "+l,s.usagePositions.get(this.module)[0],"error"),this.pushError(u+e.identifier+" gibt es zwei Methoden mit derselben Signatur: "+l,t[l].usagePositions.get(this.module)[0],"error")}else t[l]=s}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"getInheritanceQuickFix",value:function(e,t){var n="",i=!0,r=!1,o=void 0;try{for(var a,s=t.missingMethods[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n+="\tpublic "+(null==l.returnType?" void":D(l.returnType))+" "+l.identifier+"(",n+=l.parameterlist.parameters.map((function(e){return D(e.type)+" "+e.identifier})).join(", "),n+=") {\n\t\t//TODO: Methode fÃ¼llen\n\t}\n\n"}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return{title:"Fehlende Methoden einfÃ¼gen",editsProvider:function(t){return[{resource:t,edit:{range:{startLineNumber:e.line,startColumn:e.column-1,endLineNumber:e.line,endColumn:e.column-1},text:n}}]}}}},{key:"compileMethod",value:function(e){var t,n=e.resolvedType;if(this.checkIfMethodIsVirtual(n),null!=n){this.initCurrentProgram(),n.program=this.currentProgram,this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.method=n;var i=1,r=!0,o=!1,a=void 0;try{for(var l,u=n.getParameterList().parameters[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;c.stackPos=i++,this.currentSymbolTable.variableMap.set(c.identifier,c)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}if(this.nextFreeRelativeStackPos=e.parameters.length+1,n.isConstructor&&this.currentSymbolTable.classContext instanceof Z){var d=this.currentSymbolTable.classContext;if(null!=d&&(null===(t=d.baseClass)||void 0===t?void 0:t.hasConstructor())){var h=!1;if(null!=e.statements&&0!=e.statements.length||(h=!0),!h)if(h=!0,e.statements[0].type==s.scopeNode){var p=e.statements[0].statements;p.length>0&&p[0].type==s.superConstructorCall&&(h=!1)}else e.statements[0].type==s.superConstructorCall&&(h=!1);if(h){var f=null,y=d.baseClass.methods.filter((function(e){return e.isConstructor}));if(1==y.length){var m="super("+y[0].parameterlist.parameters.map((function(e){return e.identifier})).join(", ")+");",v=e.position;f={title:"Aufruf des Konstruktors der Basisklasse einfÃ¼gen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:v.line+1,startColumn:0,endLineNumber:v.line+1,endColumn:0,message:"",severity:monaco.MarkerSeverity.Error},text:"\t\t"+m+"\n"}}]}}}this.pushError("Die Basisklasse der Klasse "+d.identifier+" besitzt Konstruktoren, daher muss diese Konstruktordefinition mit einem Aufruf eines Konstruktors der Basisklasse (super(...)) beginnen.",e.position,"error",f)}}}var g=this.moduleStore.getType("Actor").type;if(["act","onKeyTyped","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave"].indexOf(n.identifier)>=0&&this.currentSymbolTable.classContext.hasAncestorOrIs(g)&&this.pushStatements([{type:s.returnIfDestroyed,position:e.position}]),!this.generateStatements(e.statements).withReturnStatement){this.pushStatements({type:s.return,position:e.scopeTo,copyReturnValueToStackframePos0:!1,stepFinished:!0,leaveThisObjectOnStack:!1});var b=n.getReturnType();n.isConstructor||null==b||b==st||this.pushError("Die Deklaration der Methode verlangt die RÃ¼ckgabe eines Wertes vom Typ "+b.identifier+". Es fehlt (mindestens) eine entsprechende return-Anweisung.",e.position)}n.reserveStackForLocalVariables=this.nextFreeRelativeStackPos-e.parameters.length-1,this.popSymbolTable(),this.currentProgram.labelManager.resolveNodes()}}},{key:"checkIfMethodIsVirtual",value:function(e){var t=this.currentSymbolTable.classContext;if(null!=t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=s.typeStore.typeList[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(p instanceof Z&&p!=t&&p.hasAncestorOrIs(t)){var f=!0,y=!1,m=void 0;try{for(var v,g=p.methods[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;if(null!=b&&null!=e&&b.signature==e.signature)return void(e.isVirtual=!0)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"initializeAttribute",value:function(e){if(null!=e&&null!=e.identifier&&null!=e.initialization){e.isStatic?this.pushStatements({type:s.pushStaticAttribute,attributeIdentifier:e.identifier,position:e.initialization.position,klass:this.currentSymbolTable.classContext}):this.pushStatements({type:s.pushAttribute,attributeIdentifier:e.identifier,position:e.initialization.position,useThisObject:!0});var t=this.processNode(e.initialization);null!=t&&null!=t.type&&(this.ensureAutomaticCasting(t.type,e.attributeType.resolvedType)||(null==e.attributeType.resolvedType?this.pushError("Der Datentyp von "+e.identifier+" konnte nicht ermittelt werden. ",e.position):this.pushError("Der Wert des Term vom Datentyp "+t.type+" kann dem Attribut "+e.identifier+" vom Typ "+e.attributeType.resolvedType.identifier+" nicht zugewiesen werden.",e.initialization.position)),this.pushStatements({type:s.assignment,position:e.initialization.position,stepFinished:!0,leaveValueOnStack:!1}))}}},{key:"initCurrentProgram",value:function(){this.currentProgram={module:this.module,statements:[],labelManager:null},this.currentProgram.labelManager=new L(this.currentProgram),this.lastStatement=null}},{key:"generateMain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.initCurrentProgram();var t={line:1,column:1,length:0},n=this.module.mainProgramAst;null!=n&&n.length>0&&null!=n[0]&&(t=this.module.mainProgramAst[0].position),e||(this.pushNewSymbolTable(!0,t,{line:1e5,column:1,length:0},this.currentProgram),this.heap={}),this.module.mainProgram=this.currentProgram;var i=!1;null!=this.module.mainProgramAst&&this.module.mainProgramAst.length>0&&(i=!0,this.generateStatements(this.module.mainProgramAst),e&&null!=this.lastStatement&&this.lastStatement.type==s.decreaseStackpointer&&this.removeLastStatement(),this.lastPosition=this.module.mainProgramEnd,null==this.lastPosition&&(this.lastPosition={line:1e5,column:0,length:0}),this.currentSymbolTable.positionTo=this.lastPosition,e||this.popSymbolTable(this.currentProgram,!0),this.heap=null,this.pushStatements({type:s.programEnd,position:this.lastPosition,stepFinished:!0,pauseAfterProgramEnd:!0},!0)),this.currentProgram.labelManager.resolveNodes(),e||i||(this.popSymbolTable(this.currentProgram),this.heap=null)}},{key:"ensureAutomaticCasting",value:function(e,t,n,i){if(null==e)return!1;if(e.equals(t))return!0;if(null==e||null==t)return!1;if(!e.canCastTo(t))return t==dt&&null!=i&&this.checkIfAssignmentInstedOfEqual(i),!1;if(null!=e.unboxableAs&&e.unboxableAs.indexOf(t)>=0)return!0;if(e instanceof Z&&t==pt){var r=this.getToStringStatement(e,n);return null!=r&&(this.pushStatements(r),!0)}if(e instanceof M&&(t instanceof M||t==pt)){var o=e.getCastInformation(t);if(!o.automatic)return!1;o.needsStatement&&this.pushStatements({type:s.castValue,newType:t,position:n})}return!0}},{key:"getToStringStatement",value:function(e,t){var n=e.getMethodBySignature("toString()");return null!=n&&n.getReturnType()==pt?{type:s.callMethod,position:t,method:n,isSuperCall:!1,stackframeBegin:-1,stepFinished:!1}:null}},{key:"checkIfAssignmentInstedOfEqual",value:function(e){if(e.type==s.binaryOp&&e.operator==s.assignment){var t=e.position;this.pushError("= ist der Zuweisungsoperator. Du willst sicher zwei Werte vergleichen. Dazu benÃ¶tigst Du den Vergleichsoperator ==.",t,"error",{title:"= durch == ersetzen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:t.line,startColumn:t.column,endLineNumber:t.line,endColumn:t.column+1,message:"",severity:monaco.MarkerSeverity.Error},text:"=="}}]}})}}},{key:"generateStatements",value:function(e){if(null==e||0==e.length||null==e[0])return{withReturnStatement:!1};var t,n=this.processStatementsInsideBlock(e),i=e[e.length-1];return null!=i?(i.type==s.scopeNode?t=i.positionTo:null!=(t=Object.assign({},i.position))&&(t.column+=t.length,t.length=1),this.lastPosition=t):t=this.lastPosition,{withReturnStatement:n,endPosition:t}}},{key:"processStatementsInsideBlock",value:function(e){var t=!1,n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(null!=l){var u=this.processNode(l);null!=u&&null!=u.withReturnStatement&&u.withReturnStatement&&(t=!0),null!=u&&null!=u.type&&u.type!=st&&(null!=this.lastStatement&&this.lastStatement.type==s.assignment&&this.lastStatement.leaveValueOnStack?this.lastStatement.leaveValueOnStack=!1:this.pushStatements({type:s.decreaseStackpointer,position:null,popCount:1,stepFinished:!0},!0))}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}},{key:"insertStatements",value:function(e,t){if(null!=t){Array.isArray(t)||(t=[t]);var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.currentProgram.statements.splice(e++,0,s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"pushStatements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e){if(t&&this.currentProgram.statements.length>0){var n=this.currentProgram.statements[this.currentProgram.statements.length-1];n.stepFinished=!1}if(Array.isArray(e)){var i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;this.currentProgram.statements.push(u),u.type!=s.return&&u.type!=s.jumpAlways||null!=this.lastStatement&&(this.lastStatement.stepFinished=!1),null!=u.position?this.lastPosition=u.position:u.position=this.lastPosition,this.lastStatement=u}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}}else this.currentProgram.statements.push(e),e.type!=s.return&&e.type!=s.jumpAlways||null!=this.lastStatement&&(this.lastStatement.stepFinished=!1),null!=e.position?this.lastPosition=e.position:e.position=this.lastPosition,this.lastStatement=e}}},{key:"removeLastStatement",value:function(){var e=this.currentProgram.statements.pop();this.currentProgram.labelManager.removeNode(e)}},{key:"pushNewSymbolTable",value:function(e,t,n,i){var r=new Ot(this.currentSymbolTable,t,n);if(this.symbolTableStack.push(this.currentSymbolTable),e&&(r.beginsNewStackframe=!0,this.currentSymbolTable.stackframeSize=this.nextFreeRelativeStackPos,this.nextFreeRelativeStackPos=0,null!=i)){var o={type:s.initStackframe,position:t,reserveForLocalVariables:0};i.statements.push(o),this.initStackFrameNodes.push(o)}return this.currentSymbolTable=r,r}},{key:"popSymbolTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.currentSymbolTable;if(this.currentSymbolTable=this.symbolTableStack.pop(),i.variableMap.forEach((function(e){null!=e.declarationError&&e.usedBeforeInitialization&&(t.errorList.push(e.declarationError),e.declarationError=null)})),i.beginsNewStackframe&&(i.stackframeSize=this.nextFreeRelativeStackPos,this.nextFreeRelativeStackPos=this.currentSymbolTable.stackframeSize,null!=e)){var r=this.initStackFrameNodes.pop();if(null!=r&&(r.reserveForLocalVariables=i.stackframeSize),e.statements.length>0&&n){var o=e.statements[e.statements.length-1];-1==[s.jumpAlways,s.jumpIfTrue,s.jumpIfFalse,s.jumpIfFalseAndLeaveOnStack,s.jumpIfTrueAndLeaveOnStack].indexOf(o.type)&&(e.statements[e.statements.length-1].stepFinished=!1)}e.statements.push({type:s.closeStackframe,position:i.positionTo})}}},{key:"pushError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",i=arguments.length>3?arguments[3]:void 0;this.errorList.push({text:e,position:t,quickFix:i,level:n})}},{key:"openBreakScope",value:function(){this.breakNodeStack.push([])}},{key:"openContinueScope",value:function(){this.continueNodeStack.push([])}},{key:"pushBreakNode",value:function(e){0==this.breakNodeStack.length?this.pushError("Eine break-Anweisung ist nur innerhalb einer umgebenden Schleife oder switch-Anweisung sinnvoll.",e.position):(this.breakNodeStack[this.breakNodeStack.length-1].push(e),this.pushStatements(e))}},{key:"pushContinueNode",value:function(e){0==this.continueNodeStack.length?this.pushError("Eine continue-Anweisung ist nur innerhalb einer umgebenden Schleife oder switch-Anweisung sinnvoll.",e.position):(this.continueNodeStack[this.continueNodeStack.length-1].push(e),this.pushStatements(e))}},{key:"closeBreakScope",value:function(e,t){var n=this.breakNodeStack.pop(),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.registerJumpNode(l,e)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"closeContinueScope",value:function(e,t){var n=this.continueNodeStack.pop(),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.registerJumpNode(l,e)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"breakOccured",value:function(){return this.breakNodeStack.length>0&&this.breakNodeStack[this.breakNodeStack.length-1].length>0}},{key:"processNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e)switch(e.type){case s.binaryOp:return this.processBinaryOp(e);case s.unaryOp:return this.processUnaryOp(e);case s.pushConstant:return this.pushConstant(e);case s.callMethod:return this.callMethod(e);case s.identifier:var n=this.resolveIdentifier(e),i=e.variable;return null!=i&&(t?(i.initialized=!0,i.usedBeforeInitialization||(i.declarationError=null)):null==i.initialized||i.initialized||(i.usedBeforeInitialization=!0,this.pushError("Die Variable "+i.identifier+" wird hier benutzt bevor sie initialisiert wurde.",e.position,"info"))),n;case s.selectArrayElement:return this.selectArrayElement(e);case s.incrementDecrementBefore:case s.incrementDecrementAfter:return this.incrementDecrementBeforeOrAfter(e);case s.superConstructorCall:return this.superconstructorCall(e);case s.keywordThis:return this.pushThisOrSuper(e,!1);case s.keywordSuper:return this.pushThisOrSuper(e,!0);case s.pushAttribute:return this.pushAttribute(e);case s.newObject:return this.newObject(e);case s.keywordWhile:return this.processWhile(e);case s.keywordDo:return this.processDo(e);case s.keywordFor:return this.processFor(e);case s.forLoopOverCollection:return this.processForLoopOverCollection(e);case s.keywordIf:return this.processIf(e);case s.keywordSwitch:return this.processSwitch(e);case s.keywordReturn:return this.processReturn(e);case s.localVariableDeclaration:return this.localVariableDeclaration(e);case s.arrayInitialization:return this.processArrayLiteral(e);case s.newArray:return this.processNewArray(e);case s.keywordPrint:case s.keywordPrintln:return this.processPrint(e);case s.castValue:return this.processManualCast(e);case s.keywordBreak:return this.pushBreakNode({type:s.jumpAlways,position:e.position}),null;case s.keywordContinue:return this.pushContinueNode({type:s.jumpAlways,position:e.position}),null;case s.rightBracket:var r=this.processNode(e.termInsideBrackets);return null!=r&&r.type instanceof Z&&this.pushTypePosition(e.position,r.type),r;case s.scopeNode:this.pushNewSymbolTable(!1,e.position,e.positionTo);var o=this.processStatementsInsideBlock(e.statements);return this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:o}}}},{key:"processManualCast",value:function(e){var t=this.processNode(e.whatToCast);if(null!=t&&null!=t.type){var n=t.type;if(null!=n&&null!=e.castToType&&null!=e.castToType.resolvedType){var i=e.castToType.resolvedType;if(n.canCastTo(i)){if(n instanceof M&&i instanceof M)n.getCastInformation(i).needsStatement&&this.pushStatements({type:s.castValue,position:e.position,newType:i});else if(n instanceof Z&&i==pt){var r=n.getMethodBySignature("toString()");null!=r&&r.getReturnType()==pt?this.pushStatements({type:s.callMethod,position:e.position,method:r,isSuperCall:!1,stackframeBegin:-1,stepFinished:!1}):(this.pushError("Der Datentyp "+n.identifier+" kann (zumindest durch casting) nicht in den Datentyp "+i.identifier+" umgewandelt werden.",e.position),this.pushStatements({type:s.castValue,position:e.position,newType:i}))}return{isAssignable:t.isAssignable,type:i}}if((n instanceof Z||n instanceof X)&&(i instanceof Z||i instanceof X))return this.pushStatements({type:s.checkCast,position:e.position,newType:i,stepFinished:!1}),{isAssignable:t.isAssignable,type:i};this.pushError("Der Datentyp "+n.identifier+" kann (zumindest durch casting) nicht in den Datentyp "+i.identifier+" umgewandelt werden.",e.position)}}}},{key:"processPrint",value:function(e){var t,n=e.type==s.keywordPrint?s.print:s.println;if(this.module.pushMethodCallPosition(e.position,e.commaPositions,d[e.type],e.rightBracketPosition),null!=e.text){var i=this.processNode(e.text);null!=i&&(this.ensureAutomaticCasting(i.type,pt)||this.pushError("Die Methoden print und println erwarten einen Parameter vom Typ String. Gefunden wurde ein Wert vom Typ "+(null===(t=i.type)||void 0===t?void 0:t.identifier)+".",e.position))}var r=!1;if(null!=e.color){var o=this.processNode(e.color);null!=o&&o.type!=pt&&o.type!=lt&&(this.ensureAutomaticCasting(o.type,pt)||this.pushError("Die Methoden print und println erwarten als Farbe einen Parameter vom Typ String oder int. Gefunden wurde ein Wert vom Typ "+o.type.identifier+".",e.position)),r=!0}return this.pushStatements({type:n,position:e.position,empty:null==e.text,stepFinished:!0,withColor:r}),null}},{key:"processNewArray",value:function(e){if(null!=e.initialization)return this.processArrayLiteral(e.initialization);var t=0,n=!0,i=!1,r=void 0;try{for(var o,a=e.elementCount[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(null==l)break;this.processNode(l),t++}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return this.pushStatements({type:s.pushEmptyArray,position:e.position,arrayType:e.arrayType.resolvedType,dimension:t}),{isAssignable:!1,type:e.arrayType.resolvedType}}},{key:"processArrayLiteral",value:function(e){var t={type:s.beginArray,position:e.position,arrayType:e.arrayType.resolvedType};this.pushStatements(t);var n=!0,i=!1,r=void 0;try{for(var o,a=e.nodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;if(null!=l)if(l.type==s.arrayInitialization)this.processArrayLiteral(l);else{var u=this.processNode(l);if(null==u)return;var c=e.arrayType.resolvedType.arrayOfType;this.ensureAutomaticCasting(u.type,c,l.position)||this.pushError("Der Datentyp des Terms ("+u.type.identifier+") kann nicht in den Datentyp "+c.identifier+" konvertiert werden.",l.position)}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return this.pushStatements({type:s.addToArray,position:e.position,numberOfElementsToAdd:e.nodes.length}),{isAssignable:!1,type:e.arrayType.resolvedType}}},{key:"localVariableDeclaration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==e.variableType.resolvedType&&(e.variableType.resolvedType=yt);var n=null!=this.heap&&this.symbolTableStack.length<=2,i={identifier:e.identifier,stackPos:n?null:this.nextFreeRelativeStackPos++,type:e.variableType.resolvedType,usagePositions:new Map,declaration:{module:this.module,position:e.position},isFinal:e.isFinal};if(this.pushUsagePosition(e.position,i),n?(this.pushStatements({type:s.heapVariableDeclaration,position:e.position,pushOnTopOfStackForInitialization:null!=e.initialization,variable:i,stepFinished:null==e.initialization}),this.heap[i.identifier]&&this.pushError("Die Variable "+e.identifier+" darf im selben Sichtbarkeitsbereich (Scope) nicht mehrmals definiert werden.",e.position),this.heap[i.identifier]=i,this.currentSymbolTable.variableMap.set(e.identifier,i)):(this.currentSymbolTable.variableMap.get(e.identifier)&&this.pushError("Die Variable "+e.identifier+" darf im selben Sichtbarkeitsbereich (Scope) nicht mehrmals definiert werden.",e.position),this.currentSymbolTable.variableMap.set(e.identifier,i),this.pushStatements({type:s.localVariableDeclaration,position:e.position,pushOnTopOfStackForInitialization:null!=e.initialization,variable:i,stepFinished:null==e.initialization})),null!=e.initialization){var r=this.processNode(e.initialization);null!=r&&(i.type==mt?i.type=r.type:null==r.type?this.pushError("Der Typ des Terms auf der rechten Seite des Zuweisungsoperators (=) konnte nicht bestimmt werden.",e.initialization.position):this.ensureAutomaticCasting(r.type,i.type)||this.pushError("Der Term vom Typ "+r.type.identifier+" kann der Variable vom Typ "+i.type.identifier+" nicht zugeordnet werden.",e.initialization.position),this.pushStatements({type:s.assignment,position:e.initialization.position,stepFinished:!0,leaveValueOnStack:!1}))}else if(i.type==mt)this.pushError("Die Verwendung von var ist nur dann zulÃ¤ssig, wenn eine lokale Variable in einer Anweisung deklariert und initialisiert wird, also z.B. var i = 12;",e.variableType.position);else{var o=" = null";i.type==lt&&(o=" = 0"),i.type==ct&&(o=" = 0.0"),i.type==dt&&(o=" = false"),i.type==ft&&(o=" = ' '"),i.type==pt&&(o=' = ""'),i.declarationError={text:"Jede lokale Variable sollte vor ihrer ersten Verwendung initialisiert werden.",position:e.position,quickFix:{title:o+" ergÃ¤nzen",editsProvider:function(t){var n=e.position;return[{resource:t,edit:{range:{startLineNumber:n.line,startColumn:n.column+n.length,endLineNumber:n.line,endColumn:n.column+n.length},text:o}}]}},level:"info"},i.usedBeforeInitialization=!1,i.initialized=t}return null}},{key:"processReturn",value:function(e){var t=this.currentSymbolTable.method;if(null==t)return this.pushError("Eine return-Anweisung ist nur im Kontext einer Methode erlaubt.",e.position),null;if(null!=e.term){if(null==t.getReturnType())return this.pushError("Die Methode "+t.identifier+" erwartet keinen RÃ¼ckgabewert.",e.position),null;var n=this.processNode(e.term);null!=n&&(this.ensureAutomaticCasting(n.type,t.getReturnType(),null,e)||this.pushError("Die Methode "+t.identifier+" erwaret einen RÃ¼ckgabewert vom Typ "+t.getReturnType().identifier+". Gefunden wurde ein Wert vom Typ "+n.type.identifier+".",e.position))}else null!=t.getReturnType()&&t.getReturnType()!=st&&this.pushError("Die Methode "+t.identifier+" erwartet einen RÃ¼ckgabewert vom Typ "+t.getReturnType().identifier+", daher ist die leere Return-Anweisung (return;) nicht ausreichend.",e.position);return this.pushStatements({type:s.return,position:e.position,copyReturnValueToStackframePos0:null!=e.term,stepFinished:!0,leaveThisObjectOnStack:!1}),{type:null,isAssignable:!1,withReturnStatement:!0}}},{key:"processSwitch",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=this.processNode(e.condition);if(null!=n&&null!=n.type){var i=n.type,r=i==pt||i==ft,o=i instanceof $t;r||i==lt||o||this.pushError("Der Unterscheidungsterms einer switch-Anweisung muss den Datentyp String, char, int oder enum besitzen. Dieser hier ist vom Typ "+i.identifier,e.condition.position),o&&this.pushStatements({type:s.castValue,position:e.condition.position,newType:lt});var a={type:s.keywordSwitch,position:e.position,defaultDestination:null,switchType:r?"string":"number",destinationLabels:[],destinationMap:{}};this.pushStatements(a);var l=t.insertJumpNode(s.jumpAlways,e.position,this);a.stepFinished=!0,t.registerSwitchStatement(a),this.openBreakScope();var u=e.caseNodes.length>0,c=!0,d=!1,h=void 0;try{for(var p,f=e.caseNodes[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;if(null==y.caseTerm){var m=t.markJumpDestination(1);this.generateStatements(y.statements),a.defaultDestination=m}else{var v=null;if(o&&y.caseTerm.type==s.identifier){var g=i.identifierToInfoMap[y.caseTerm.identifier];null==g?this.pushError("Die Enum-Klasse "+i.identifier+" hat kein Element mit dem Bezeichner "+y.caseTerm.identifier,y.position,"error"):v=g.ordinal}else{this.processNode(y.caseTerm);var b=this.lastStatement;b.type==s.pushConstant&&(v=b.value),b.type==s.pushEnumValue&&(v=b.enumClass.getOrdinal(b.valueIdentifier)),this.removeLastStatement()}null==v&&this.pushError("Der Term bei case muss konstant sein.",y.caseTerm.position);var w=t.markJumpDestination(1),k=this.generateStatements(y.statements);null!=(null==k?void 0:k.withReturnStatement)&&k.withReturnStatement||(u=!1),a.destinationLabels.push({constant:v,label:w})}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return t.markJumpDestination(1,l),this.closeBreakScope(l,t),this.popSymbolTable(null),{type:null,isAssignable:!1,withReturnStatement:u}}}},{key:"processIf",value:function(e){var t=this.currentProgram.labelManager,n=this.processNode(e.condition);null!=n&&n.type!=dt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'if' muss den Datentyp boolean besitzen.",e.condition.position));var i,r,o=t.insertJumpNode(s.jumpIfFalse,null,this),a=this.generateStatements(e.statementsIfTrue).withReturnStatement;return null!=e.statementsIfFalse&&(i=t.insertJumpNode(s.jumpAlways,null,this)),t.markJumpDestination(1,o),r=null!=e.statementsIfFalse&&0!=e.statementsIfFalse.length&&this.generateStatements(e.statementsIfFalse).withReturnStatement,null!=i&&t.markJumpDestination(1,i),{type:null,isAssignable:!1,withReturnStatement:a&&r}}},{key:"processFor",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.generateStatements(e.statementsBefore);var n=t.markJumpDestination(1),i=this.processNode(e.condition);null!=i&&i.type!=dt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert der Bedingung muss den Datentyp boolean besitzen.",e.condition.position));var r=t.insertJumpNode(s.jumpIfFalse,null,this);this.openBreakScope(),this.openContinueScope();var o=this.generateStatements(e.statements),a=o.withReturnStatement,l=t.markJumpDestination(1);return this.closeContinueScope(l,t),this.generateStatements(e.statementsAfter),t.insertJumpNode(s.jumpAlways,o.endPosition,this,n),t.markJumpDestination(1,r),this.closeBreakScope(r,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:a}}},{key:"processForLoopOverCollection",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=this.nextFreeRelativeStackPos++,i=this.processNode(e.collection);if(null!=i){var r,o=i.type;this.pushStatements({type:s.popAndStoreIntoVariable,position:e.collection.position,stackposOfVariable:n,stepFinished:!1});var a=null;if(o instanceof jt)r=o.arrayOfType,a="array";else if(o instanceof Z&&null!=o.getImplementedInterface("Iterable"))a=o.module.isSystemModule?"internalList":"userDefinedIterable",o.getImplementedInterface("Iterable"),r=o.typeVariables[0].type;else{if(!(o instanceof Z&&"Group"==o.identifier))return this.pushError("Mit der vereinfachten for-Schleife (for identifier : collectionOrArray) kann man nur Ã¼ber Arrays oder Klassen, die das Interface Iterable implementieren, iterieren.",e.collection.position),null;a="group",r=this.moduleStore.getType("Shape").type}var l=e.variableType.resolvedType;if(null==l)return null;var u=l==mt;if(u)l=r,e.variableType.resolvedType=r;else if(!r.canCastTo(l))return this.pushError("Der ElementTyp "+r.identifier+" der Collection kann nicht in den Typ "+l.identifier+" der Iterationsvariable "+e.variableIdentifier+" konvertiert werden.",e.position),null;this.localVariableDeclaration({type:s.localVariableDeclaration,identifier:e.variableIdentifier,initialization:null,isFinal:!1,position:e.variablePosition,variableType:e.variableType},!0);var c=this.nextFreeRelativeStackPos-1,d=this.nextFreeRelativeStackPos++;"array"==a||"internalList"==a||"group"==a?this.pushStatements([{type:s.extendedForLoopInit,position:e.position,stepFinished:!1,stackPosOfCollection:n,stackPosOfElement:c,typeOfElement:l,stackPosOfCounter:d}],!0):this.pushStatements([{type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:d,stepFinished:!1},{type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:n,stepFinished:!1},{type:s.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:o.getMethod("iterator",new O([])),stackframeBegin:-1},{type:s.assignment,position:e.position,stepFinished:!0,leaveValueOnStack:!1}],!0);var h,p,f=t.markJumpDestination(1);if("array"==a||"internalList"==a||"group"==a){var y={type:s.extendedForLoopCheckCounterAndGetElement,kind:a,position:e.variablePosition,stepFinished:!0,stackPosOfCollection:n,stackPosOfElement:c,stackPosOfCounter:d,destination:0};p=y,h=t.registerJumpNode(y),this.pushStatements(y)}else this.pushStatements([{type:s.pushLocalVariableToStack,position:e.variablePosition,stackposOfVariable:n,stepFinished:!1},{type:s.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:o.getMethod("hasNext",new O([])),stackframeBegin:-1}]),h=t.insertJumpNode(s.jumpIfFalse,null,this),this.pushStatements([{type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:c,stepFinished:!1},{type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:n,stepFinished:!1},{type:s.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:o.getMethod("next",new O([])),stackframeBegin:-1},{type:s.assignment,position:e.position,stepFinished:!0,leaveValueOnStack:!1}]);if(!u){var m=this.currentProgram.statements.length;this.pushStatements({type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:c,stepFinished:!1}),this.ensureAutomaticCasting(r,l),this.currentProgram.statements.length<m+2?this.currentProgram.statements.pop():(this.pushStatements({type:s.popAndStoreIntoVariable,stackposOfVariable:c,position:e.position,stepFinished:!0}),p.stepFinished=!1)}this.openBreakScope(),this.openContinueScope();var v=this.generateStatements(e.statements),g=v.withReturnStatement,b=t.markJumpDestination(1);return this.closeContinueScope(b,t),t.insertJumpNode(s.jumpAlways,v.endPosition,this,f),t.markJumpDestination(1,h),this.closeBreakScope(h,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:g}}}},{key:"processWhile",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=t.markJumpDestination(1),i=this.processNode(e.condition);null!=i&&i.type!=dt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'while' muss den Datentyp boolean besitzen.",e.condition.position));var r=e.position;null!=e.condition&&(r=e.condition.position);var o=t.insertJumpNode(s.jumpIfFalse,r,this);this.openBreakScope(),this.openContinueScope();var a=this.generateStatements(e.statements),l=a.withReturnStatement;return this.closeContinueScope(n,t),t.insertJumpNode(s.jumpAlways,a.endPosition,this,n),t.markJumpDestination(1,o),this.closeBreakScope(o,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:l}}},{key:"processDo",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=t.markJumpDestination(1);this.openBreakScope(),this.openContinueScope();var i=this.generateStatements(e.statements),r=i.withReturnStatement,o=t.markJumpDestination(1);this.closeContinueScope(o,t);var a=this.processNode(e.condition);null!=a&&a.type!=dt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'while' muss den Datentyp boolean besitzen.",e.condition.position)),t.insertJumpNode(s.jumpIfTrue,i.endPosition,this,n);var l=t.markJumpDestination(1);return this.closeBreakScope(l,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:r}}},{key:"newObject",value:function(e){var t;if(null==e.classType||null==e.classType.resolvedType)return null;var n=e.classType.resolvedType;if(!(n instanceof Z))return this.pushError(e.classType.identifier+" ist keine Klasse, daher kann davon mit 'new' kein Objekt erzeugt werden.",e.position),null;if(n.isAbstract)return this.pushError("".concat(e.classType.identifier," ist eine abstrakte Klasse, daher kann von ihr mit 'new' kein Objekt instanziert werden. Falls ").concat(e.classType.identifier," nicht-abstrakte Kindklassen besitzt, kÃ¶nntest Du von DENEN mit new Objekte instanzieren..."),e.position),null;n.module!=this.module&&n.visibility!=I.public&&this.pushError("Die Klasse "+n.identifier+" ist hier nicht sichtbar.",e.position);var i={type:s.newObject,position:e.position,class:n,subsequentConstructorCall:!1,stepFinished:!0};this.pushStatements(i),this.pushTypePosition(e.rightBracketPosition,n);var r=[],o=[],a=this.currentProgram.statements;if((null===(t=e.constructorOperands)||void 0===t?void 0:t.length)>0){var l=!0,u=!1,c=void 0;try{for(var d,h=e.constructorOperands[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=a.length,y=this.processNode(p);o.push(a.splice(f,a.length-f)),null==y?r.push(st):r.push(y.type)}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}var m=Y(n,this.currentSymbolTable.classContext),v=n.getConstructor(r,m);if(this.module.pushMethodCallPosition(e.position,e.commaPositions,n.getMethods(I.public,n.identifier),e.rightBracketPosition),r.length>0||n.hasConstructor()){if(null!=v.error)return this.pushError(v.error,e.position),{type:n,isAssignable:!1};var g=v.methodList[0];this.pushUsagePosition(e.position,g);var b=null,w=this.currentSymbolTable.classContext;null!=w&&w instanceof Z&&(b=w.staticClass),g.visibility==I.private&&n!=w&&n!=b&&this.pushError("Die Konstruktormethode ist private und daher hier nicht sichtbar.",e.position);for(var k=null,S=0;S<r.length;S++){S<g.getParameterCount()&&(k=g.getParameterType(S),S==g.getParameterCount()-1&&g.hasEllipsis()&&(k=k.arrayOfType));var P=r[S],x=!0,C=!1,T=void 0;try{for(var M,j=o[S][Symbol.iterator]();!(x=(M=j.next()).done);x=!0){var E=M.value;this.currentProgram.statements.push(E)}}catch(e){C=!0,T=e}finally{try{x||null==j.return||j.return()}finally{if(C)throw T}}this.ensureAutomaticCasting(P,k,e.constructorOperands[S].position,e.constructorOperands[S])||this.pushError("Der Wert vom Datentyp "+P.identifier+" kann nicht als Parameter (Datentyp "+k.identifier+") verwendet werden.",e.constructorOperands[S].position)}var O=0;if(g.hasEllipsis()){var D=r.length-g.getParameterCount()+1;O=-(D-1),this.pushStatements({type:s.makeEllipsisArray,position:e.constructorOperands[g.getParameterCount()-1].position,parameterCount:D,stepFinished:!1,arrayType:g.getParameter(g.getParameterCount()-1).type})}this.pushStatements({type:s.callMethod,method:g,position:e.position,isSuperCall:!1,stepFinished:null==n.getPostConstructorCallbacks(),stackframeBegin:-(r.length+1+O)},!0),i.subsequentConstructorCall=!0,i.stepFinished=!1}return null!=n.getPostConstructorCallbacks()&&this.pushStatements({type:s.processPostConstructorCallbacks,position:e.position,stepFinished:!0},!0),{type:n,isAssignable:!1}}},{key:"pushAttribute",value:function(e){if(null==e.object||null==e.identifier)return null;var t=this.processNode(e.object);if(null==t)return this.pushError("Links vom Punkt steht kein Objekt.",e.position),null;if(!(t.type instanceof Z||t.type instanceof q||t.type instanceof jt))return null==t.type?this.pushError("Der Ausdruck links vom Punkt hat kein Attribut "+e.identifier+".",e.position):this.pushError("Links vom Punkt steht ein Ausdruck vom Datentyp "+t.type.identifier+". Dieser hat kein Attribut "+e.identifier+".",e.position),null;var n=t.type;if(n instanceof Z){var i,r=Y(n,this.currentSymbolTable.classContext),o=n.getAttribute(e.identifier,r),a=null;return null==o.attribute&&(a=n.staticClass.getAttribute(e.identifier,r)),null==o.attribute&&null==a.attribute?(o.foundButInvisible||!a.foundButInvisible?this.pushError(o.error,e.position):this.pushError(a.error,e.position),{type:n,isAssignable:!1}):(null!=o.attribute?(this.pushStatements({type:s.pushAttribute,position:e.position,attributeIdentifier:e.identifier,useThisObject:!1}),i=o.attribute):(this.pushStatements([{type:s.decreaseStackpointer,position:e.position,popCount:1},{type:s.pushStaticAttribute,position:e.position,klass:n.staticClass,attributeIdentifier:e.identifier}]),i=a.attribute),this.pushUsagePosition(e.position,i),{type:i.type,isAssignable:!i.isFinal})}if(n instanceof q){if(n.Klass instanceof $t)return this.removeLastStatement(),null==n.Klass.enumInfoList.find((function(t){return t.identifier==e.identifier}))&&this.pushError("Die enum-Klasse "+n.identifier+" hat keinen enum-Wert mit dem Bezeichner "+e.identifier,e.position),this.pushStatements({type:s.pushEnumValue,position:e.position,enumClass:n.Klass,valueIdentifier:e.identifier}),{type:n.Klass,isAssignable:!1};var l=Y(n,this.currentSymbolTable.classContext),u=n.getAttribute(e.identifier,l);return null!=u.attribute?(this.removeLastStatement(),this.pushStatements({type:s.pushStaticAttribute,position:e.position,attributeIdentifier:e.identifier,klass:n}),this.pushUsagePosition(e.position,u.attribute),{type:u.attribute.type,isAssignable:!u.attribute.isFinal}):(this.pushError(u.error,e.position),{type:n,isAssignable:!1})}if("length"!=e.identifier)return this.pushError("Der Wert vom Datentyp "+t.type.identifier+" hat kein Attribut "+e.identifier,e.position),null;this.pushStatements({type:s.pushArrayLength,position:e.position});var c=new j("length",lt,null,!0,I.public,!0,"LÃ¤nge des Arrays");return this.module.addIdentifierPosition(e.position,c),{type:lt,isAssignable:!1}}},{key:"pushThisOrSuper",value:function(e,t){var n=this.currentSymbolTable.classContext;t&&null!=n&&(n=n.baseClass);var i=this.currentSymbolTable.method;return null==n||null==i?(this.pushError("Das Objekt "+(t?"super":"this")+" existiert nur innerhalb einer Methodendeklaration.",e.position),null):(this.pushStatements({type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:0}),this.pushTypePosition(e.position,n),{type:n,isAssignable:!1,isSuper:t})}},{key:"superconstructorCall",value:function(e){var t=this.currentSymbolTable.classContext;null!=(null==t?void 0:t.baseClass)&&"Object"!=t.baseClass.identifier||this.pushError("Die Klasse ist nur Kindklasse der Klasse Object, daher ist der Aufruf des Superkonstruktors nicht mÃ¶glich.",e.position);var n=this.currentSymbolTable.method;if(null==t||null==n||!n.isConstructor)return this.pushError("Ein Aufruf des Superkonstructors ist nur innerhalb des Konstruktors einer Klasse mÃ¶glich.",e.position),null;var i=t.baseClass;if(i instanceof q)return this.pushError("Statische Methoden haben keine super-Methoden.",e.position),{type:null,isAssignable:!1};null==i&&(i=this.moduleStore.getType("Object").type),this.pushStatements({type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:0});var r=[];if(null!=e.operands){var o=!1,a=!0,l=!1,u=void 0;try{for(var c,d=e.operands[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value,p=this.processNode(h);null!=p?r.push(p.type):o=!0}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}if(o)return{type:pt,isAssignable:!1}}var f=i.getConstructor(r,I.protected);if(this.module.pushMethodCallPosition(e.position,e.commaPositions,i.getMethods(I.protected,i.identifier),e.rightBracketPosition),null!=f.error)return this.pushError(f.error,e.position),{type:pt,isAssignable:!1};var y=f.methodList[0];return this.pushUsagePosition(e.position,y),this.pushStatements({type:s.callMethod,method:y,isSuperCall:!0,position:e.position,stackframeBegin:-(r.length+1)}),{type:null,isAssignable:!1}}},{key:"incrementDecrementBeforeOrAfter",value:function(e){var t=this.processNode(e.operand);if(null!=t)return t.isAssignable?t.type.canCastTo(ut)?(this.pushStatements({type:e.type,position:e.position,incrementDecrementBy:e.operator==s.doubleMinus?-1:1}),t):(this.pushError("Die Operatoren ++ und -- kÃ¶nnen nur auf Zahlen angewendet werden, nicht auf Werte des Datentyps "+t.type.identifier,e.position),t):(this.pushError("Die Operatoren ++ und -- kÃ¶nnen nur auf Variablen angewendet werden, nicht auf konstante Werte oder RÃ¼ckgabewerte von Methoden.",e.position),t)}},{key:"selectArrayElement",value:function(e){var t=this.processNode(e.object),n=this.processNode(e.index);if(null!=t&&null!=n)return t.type instanceof jt?(this.module.addIdentifierPosition({line:e.position.line,column:e.position.column+e.position.length,length:0},t.type.arrayOfType),this.ensureAutomaticCasting(n.type,lt)?(this.pushStatements({type:s.selectArrayElement,position:e.position}),{type:t.type.arrayOfType,isAssignable:t.isAssignable}):(this.pushError("Als Index eines Arrays wird ein ganzzahliger Wert erwartet. Gefunden wurde ein Wert vom Typ "+n.type.identifier+".",e.index.position),{type:t.type.arrayOfType,isAssignable:t.isAssignable})):(this.pushError("Der Typ der Variablen ist kein Array, daher ist [] nicht zulÃ¤ssig. ",e.object.position),null)}},{key:"pushTypePosition",value:function(e,t){null!=e&&(e.length>0&&(e={line:e.line,column:e.column+e.length,length:0}),this.module.addIdentifierPosition(e,t))}},{key:"pushUsagePosition",value:function(e,t){if(this.module.addIdentifierPosition(e,t),!(t instanceof M)){var n=t.usagePositions.get(this.module);null==n&&(n=[],t.usagePositions.set(this.module,n)),n.push(e)}}},{key:"resolveIdentifier",value:function(e){if(null==e.identifier)return null;var t=this.findLocalVariable(e.identifier);if(null!=t)return this.pushStatements({type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:t.stackPos}),this.pushUsagePosition(e.position,t),e.variable=t,{type:t.type,isAssignable:!t.isFinal};if(null!=this.heap){var n=this.heap[e.identifier];if(null!=n)return this.pushStatements({type:s.pushFromHeapToStack,position:e.position,identifier:e.identifier}),this.pushUsagePosition(e.position,n),e.variable=n,{type:n.type,isAssignable:!n.isFinal}}var i=this.findAttribute(e.identifier,e.position);if(null!=i){if(i.isStatic){var r=this.currentSymbolTable.classContext,o=r instanceof q?r:r.staticClass;this.pushStatements({type:s.pushStaticAttribute,position:e.position,klass:o,attributeIdentifier:i.identifier})}else this.pushStatements({type:s.pushAttribute,position:e.position,attributeIdentifier:i.identifier,useThisObject:!0});return this.pushUsagePosition(e.position,i),{type:i.type,isAssignable:!i.isFinal}}var a=this.moduleStore.getType(e.identifier);if(null!=a){var l=a.type;return l instanceof Z||l instanceof X?(this.pushStatements({type:s.pushStaticClassObject,position:e.position,klass:l}),this.pushUsagePosition(e.position,l),{type:l instanceof Z?l.staticClass:l,isAssignable:!1}):(this.pushError("Der Typ "+l.identifier+" hat keine statischen Attribute/Methoden.",e.position),{type:l,isAssignable:!1})}this.pushError("Der Bezeichner "+e.identifier+" ist hier nicht bekannt.",e.position)}},{key:"findLocalVariable",value:function(e){for(var t=this.currentSymbolTable;null!=t;){var n=t.variableMap.get(e);if(null!=n&&null!=n.stackPos)return n;t=t.parent}return null}},{key:"findAttribute",value:function(e,t){var n=this.currentSymbolTable.classContext;if(null==n)return null;var i=n.getAttribute(e,I.private);if(null!=i.attribute)return i.attribute;if(n instanceof Z){var r=n.staticClass.getAttribute(e,I.private);if(null!=r.attribute)return r.attribute}return null}},{key:"callMethod",value:function(e){var t=null;if(null==e.object){var n=this.currentSymbolTable.classContext;if(null==n)return this.pushError("Ein Methodenaufruf (hier: "+e.identifier+") ohne Punktschreibweise ist nur innerhalb anderer Methoden mÃ¶glich.",e.position),null;this.pushStatements({type:s.pushLocalVariableToStack,position:e.position,stackposOfVariable:0}),t={type:n,isAssignable:!1}}else t=this.processNode(e.object);if(null==t)return null;if(!(t.type instanceof Z||t.type instanceof q||t.type instanceof X||t.type instanceof $t))return null==t.type?this.pushError("Werte dieses Datentyps besitzen keine Methoden.",e.position):this.pushError("Werte des Datentyps "+t.type.identifier+" besitzen keine Methoden.",e.position),null;var i,r=t.type,o=this.currentProgram.statements.length,a=[],l=[],u=this.currentProgram.statements;if(null!=e.operands){var c=!0,d=!1,h=void 0;try{for(var p,f=e.operands[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,m=u.length,v=this.processNode(y);l.push(u.splice(m,u.length-m)),null==v?a.push(st):a.push(v.type)}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}}if(r instanceof X)i=r.getMethodsThatFitWithCasting(e.identifier,a,!1);else{var g=Y(r,this.currentSymbolTable.classContext);i=r.getMethodsThatFitWithCasting(e.identifier,a,!1,g)}if(this.module.pushMethodCallPosition(e.position,e.commaPositions,r.getMethods(I.private,e.identifier),e.rightBracketPosition),null!=i.error)return this.pushError(i.error,e.position),{type:pt,isAssignable:!1};var b=i.methodList[0];this.pushUsagePosition(e.position,b),b.isStatic&&r instanceof Z&&"PrintStream"!=r.identifier&&(this.pushError("Es ist kein guter Programmierstil, statische Methoden einer Klasse mithilfe eines Objekts aufzurufen. Besser wÃ¤re hier "+r.identifier+"."+b.identifier+"(...).",e.position,"info"),this.insertStatements(o,[{type:s.decreaseStackpointer,position:e.position,popCount:1},{type:s.pushStaticClassObject,position:e.position,klass:r}]));for(var w=null,k=0;k<a.length;k++){k<b.getParameterCount()&&(w=b.getParameterType(k),k==b.getParameterCount()-1&&b.hasEllipsis()&&(w=w.arrayOfType));var S=a[k],P=!0,x=!1,C=void 0;try{for(var T,M=l[k][Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var j=T.value;this.currentProgram.statements.push(j)}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}this.ensureAutomaticCasting(S,w,e.operands[k].position,e.operands[k])||this.pushError("Der Wert vom Datentyp "+S.identifier+" kann nicht als Parameter (Datentyp "+w.identifier+") verwendet werden.",e.operands[k].position)}var E=0;if(b.hasEllipsis()){var O=a.length-b.getParameterCount()+1;E=-(O-1),this.pushStatements({type:s.makeEllipsisArray,position:e.operands[b.getParameterCount()-1].position,parameterCount:O,stepFinished:!1,arrayType:b.getParameter(b.getParameterCount()-1).type})}if(b.visibility!=I.public){var D=!0,_=this.currentSymbolTable.classContext;null==_?D=!1:_==r||_ instanceof Z&&_.implements.indexOf(r)>0||(D=b.visibility!=I.private&&_.hasAncestorOrIs(r)),D||this.pushError("Die Methode "+b.identifier+" ist an dieser Stelle des Programms nicht sichtbar.",e.position)}return b.isStatic&&null!=t.type&&t.type instanceof q&&t.type.Klass instanceof Qt?this.pushStatements({type:s.callInputMethod,method:b,position:e.position,stepFinished:!0,stackframeBegin:-(a.length+1)}):this.pushStatements({type:s.callMethod,method:b,position:e.position,isSuperCall:null!=t.isSuper&&t.isSuper,stepFinished:!0,stackframeBegin:-(a.length+1+E)}),this.pushTypePosition(e.rightBracketPosition,b.getReturnType()),{type:b.getReturnType(),isAssignable:!1}}},{key:"pushConstant",value:function(e){var t;switch(e.constantType){case s.integerConstant:t=lt;break;case s.booleanConstant:t=dt;break;case s.floatingPointConstant:t=ut;break;case s.stringConstant:t=pt,this.pushTypePosition(e.position,t);break;case s.charConstant:t=ft;break;case s.keywordNull:t=yt}return this.pushStatements({type:s.pushConstant,dataType:t,position:e.position,value:e.constant}),{type:t,isAssignable:!1}}},{key:"processBinaryOp",value:function(t){var n=e.assignmentOperators.indexOf(t.operator)>=0;if(t.operator==s.ternaryOperator)return this.processTernaryOperator(t);var i=this.processNode(t.firstOperand,n),r=this.currentProgram.statements.length,o=null;t.operator==s.and?o=this.currentProgram.labelManager.insertJumpNode(s.jumpIfFalseAndLeaveOnStack,t.firstOperand.position,this):t.operator==s.or&&(o=this.currentProgram.labelManager.insertJumpNode(s.jumpIfTrueAndLeaveOnStack,t.firstOperand.position,this));var a=this.processNode(t.secondOperand);if(null==i||null==i.type||null==a||null==a.type)return null;if(n){if(!this.ensureAutomaticCasting(a.type,i.type,t.position,t.firstOperand))return this.pushError("Der Wert vom Datentyp "+a.type.identifier+" auf der rechten Seite kann der Variablen auf der linken Seite (Datentyp "+i.type.identifier+") nicht zugewiesen werden.",t.position),i;i.isAssignable||this.pushError("Dem Term/der Variablen auf der linken Seite des Zuweisungsoperators (=) kann kein Wert zugewiesen werden.",t.position);var l={type:t.operator,position:t.position,stepFinished:!0,leaveValueOnStack:!0};return this.pushStatements(l),i}if(t.firstOperand.type==s.identifier&&null!=t.firstOperand.variable){var u=t.firstOperand.variable;null==u.initialized||u.initialized||(u.usedBeforeInitialization=!0,this.pushError("Die Variable "+u.identifier+" wird hier benutzt bevor sie initialisiert wurde.",t.position,"info"))}var c=i.type.getResultType(t.operator,a.type),h=i.type.unboxableAs,p=a.type.unboxableAs;if(null==c&&(null!=h||null!=p)){var f=null==h?[i.type]:h,y=null==p?[a.type]:p,m=!0,v=!1,g=void 0;try{for(var b,w=f[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var k=b.value,S=!0,P=!1,x=void 0;try{for(var C,T=y[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var M=C.value;if(null!=(c=k.getResultType(t.operator,M))){i.type=k,a.type=M;break}}}catch(e){P=!0,x=e}finally{try{S||null==T.return||T.return()}finally{if(P)throw x}}if(null!=c)break}}catch(e){v=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(v)throw g}}}return null==c&&t.operator==s.plus&&(i.type instanceof Z&&a.type==pt?(this.insertStatements(r,this.getToStringStatement(i.type,t.firstOperand.position)),c=pt):a.type instanceof Z&&i.type==pt&&(this.pushStatements(this.getToStringStatement(a.type,t.firstOperand.position)),c=pt)),t.operator in[s.and,s.or]&&(this.checkIfAssignmentInstedOfEqual(t.firstOperand),this.checkIfAssignmentInstedOfEqual(t.secondOperand)),null==c?(this.pushError("Die Operation "+d[t.operator]+" ist fÃ¼r die Operanden der Typen "+i.type.identifier+" und "+a.type.identifier+" nicht definiert.",t.position),i):(this.pushStatements({type:s.binaryOp,leftType:i.type,operator:t.operator,position:t.position}),null!=o&&this.currentProgram.labelManager.markJumpDestination(1,o),{type:c,isAssignable:!1})}},{key:"processTernaryOperator",value:function(e){var t=this.processNode(e.firstOperand);if(null!=t&&this.ensureAutomaticCasting(t.type,dt,null,e.firstOperand)){var n=e.secondOperand;if(null!=n){if(n.type==s.binaryOp&&n.operator==s.colon){var i=this.currentProgram.labelManager,r=i.insertJumpNode(s.jumpIfFalse,e.position,this),o=this.processNode(n.firstOperand),a=i.insertJumpNode(s.jumpAlways,n.firstOperand.position,this);i.markJumpDestination(1,r);var l=this.processNode(n.secondOperand);i.markJumpDestination(1,a);var u=o.type;return u!=l.type&&u.canCastTo(l.type)&&(u=l.type),{type:u,isAssignable:!1}}this.pushError("Auf den Fragezeichenoperator mÃ¼ssen - mit Doppelpunkt getrennt - zwei Alternativterme folgen.",e.position)}}}},{key:"processUnaryOp",value:function(e){var t=this.processNode(e.operand);if(null!=t&&null!=t.type)return e.operator!=s.minus||t.type.canCastTo(ut)?e.operator==s.not&&t.type!=dt?(this.checkIfAssignmentInstedOfEqual(e.operand),this.pushError("Der Operator ! ist fÃ¼r den Typ "+t.type.identifier+" nicht definiert.",e.position),t):(this.pushStatements({type:s.unaryOp,operator:e.operator,position:e.position}),t):(this.pushError("Der Operator - ist fÃ¼r den Typ "+t.type.identifier+" nicht definiert.",e.position),t)}}])&&Kt(t.prototype,n),i&&Kt(t,i),e}();function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Zt.assignmentOperators=[s.assignment,s.plusAssignment,s.minusAssignment,s.multiplicationAssignment,s.divisionAssignment];var Jt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isInConsoleMode=t,this.lookahead=4,this.endToken={position:{line:0,column:0,length:1},tt:s.endofSourcecode,value:"das Ende des Programms"},this.tokensNotAfterCasting=[s.multiplication,s.division,s.plus,s.minus,s.dot,s.modulo,s.semicolon,s.rightBracket]}var t,n,i;return t=e,(n=[{key:"parse",value:function(e){if(this.module=e,this.tokenList=e.tokenList,this.errorList=[],0==this.tokenList.length)return this.module.mainProgramAst=[],this.module.classDefinitionsAST=[],this.module.typeNodes=[],void(this.module.errors[1]=this.errorList);this.pos=0,this.initializeLookahead(),this.typeNodes=[];var t=this.tokenList[this.tokenList.length-1];this.endToken.position={line:t.position.line,column:t.position.column+t.position.length,length:1};var n=this.parseMain();this.module.mainProgramAst=n.mainProgramAST,this.module.classDefinitionsAST=n.classDefinitionAST,this.module.mainProgramEnd=n.mainProgramEnd,this.module.typeNodes=this.typeNodes,this.module.errors[1]=this.errorList}},{key:"initializeLookahead",value:function(){this.ct=[];for(var e=0;e<this.lookahead;e++){for(var t=this.endToken;!(this.pos>=this.tokenList.length);){var n=this.tokenList[this.pos];if(n.tt==s.comment&&(this.lastComment=n),n.tt!=s.newline&&n.tt!=s.space&&n.tt!=s.comment){t=n,null!=this.lastComment&&(t.commentBefore=this.lastComment,this.lastComment=null);break}this.pos++}this.ct.push(t),e<this.lookahead-1&&this.pos++}this.cct=this.ct[0],this.tt=this.cct.tt,this.position=this.cct.position}},{key:"nextToken",value:function(){var e;for(this.lastToken=this.cct;;){if(this.pos++,this.pos>=this.tokenList.length){e=this.endToken;break}if((e=this.tokenList[this.pos]).tt==s.comment&&(this.lastComment=e),e.tt!=s.newline&&e.tt!=s.space&&e.tt!=s.comment){e.commentBefore=this.lastComment,this.lastComment=null;break}}for(var t=0;t<this.lookahead-1;t++)this.ct[t]=this.ct[t+1];this.ct[this.lookahead-1]=e,this.cct=this.ct[0],this.tt=this.cct.tt,this.position=this.cct.position}},{key:"pushError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;null==n&&(n=Object.assign({},this.position)),this.errorList.push({text:e,position:n,quickFix:i,level:t})}},{key:"expect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.tt!=e){if(e==s.semicolon&&this.tt==s.endofSourcecode)return!0;var i=this.cct.position;e==s.semicolon&&null!=this.lastToken&&this.lastToken.position.line<i.line&&(i={line:this.lastToken.position.line,column:this.lastToken.position.column+this.lastToken.position.length,length:1});var r=null;return e==s.semicolon&&this.lastToken.position.line<this.cct.position.line&&!this.isOperatorOrDot(this.lastToken.tt)&&(r={title:"Strichpunkt hier einfÃ¼gen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:i.line,startColumn:i.column,endLineNumber:i.line,endColumn:i.column,message:"",severity:monaco.MarkerSeverity.Error},text:";"}}]}},n&&this.module.main.getSemicolonAngel().register(i,this.module)),this.pushError("Erwartet wird: "+d[e]+" - Gefunden wurde: "+d[this.tt],"error",i,r),!1}return t&&this.nextToken(),!0}},{key:"isOperatorOrDot",value:function(t){if(t==s.dot)return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=e.operatorPrecedence[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=!0,c=!1,d=void 0;try{for(var h,p=l[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)if(t==h.value)return!0}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"isEnd",value:function(){return this.cct==this.endToken}},{key:"comesToken",value:function(e){return Array.isArray(e)?e.indexOf(this.tt)>=0:this.tt==e}},{key:"getCurrentPosition",value:function(){return Object.assign({},this.position)}},{key:"getEndOfCurrentToken",value:function(){var e=this.getCurrentPosition();return e.column=e.column+this.position.length,e.length=0,e}},{key:"parseMain",value:function(){for(var t=[],n=[],i={column:0,line:1e4,length:1};!this.isEnd();){var r=this.pos;if(this.comesToken(e.BeforeClassDefinitionTokens)){var o=this.parseClassDefinition();null!=o&&(n=n.concat(o))}else{var a=this.parseStatement();null!=a&&(t=t.concat(a)),i=this.getCurrentPosition()}this.pos==r&&(this.pos++,this.initializeLookahead())}return{mainProgramAST:t,classDefinitionAST:n,mainProgramEnd:i}}},{key:"checkIfStatementHasNoEffekt",value:function(t){if(!this.isInConsoleMode)if(t.type==s.binaryOp&&e.assignmentOperators.indexOf(t.operator)<0){var n="dieses Terms";switch(t.operator){case s.plus:n="dieser Summe";break;case s.minus:n="dieser Differenz";break;case s.multiplication:n="dieses Produkts";break;case s.division:n="dieses Quotienten"}n+=" (Operator "+d[t.operator]+")",this.pushError("Der Wert ".concat(n," wird zwar berechnet, aber danach verworfen. MÃ¶chtest Du ihn vielleicht einer Variablen zuweisen?"),"info",t.position)}else[s.unaryOp,s.pushConstant,s.identifier,s.selectArrayElement].indexOf(t.type)>=0&&this.pushError("Der Wert dieses Terms wird zwar berechnet, aber danach verworfen. MÃ¶chtest Du ihn vielleicht einer Variablen zuweisen?","info",t.position)}},{key:"parseStatement",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=null;switch(this.tt){case s.leftBracket:case s.identifier:case s.keywordThis:case s.keywordSuper:case s.keywordFinal:case s.charConstant:case s.integerConstant:case s.stringConstant:case s.booleanConstant:case s.floatingPointConstant:case s.keywordNew:var i=this.parseVariableDeclarationOrTerm();t&&this.expect(s.semicolon,!0,!0),n=i;break;case s.leftCurlyBracket:var r=[],o=this.getCurrentPosition();for(this.nextToken();this.tt!=s.rightCurlyBracket&&this.tt!=s.endofSourcecode&&e.BeforeClassDefinitionTokens.indexOf(this.tt)<0;)r=r.concat(this.parseStatement());var a=this.getCurrentPosition();a.column=a.column+a.length,a.length=0,this.expect(s.rightCurlyBracket),n=[{type:s.scopeNode,position:o,positionTo:a,statements:r}];break;case s.keywordWhile:n=this.parseWhile();break;case s.keywordFor:n=this.parseFor();break;case s.keywordDo:n=this.parseDo();break;case s.keywordIf:n=this.parseIf();break;case s.keywordReturn:n=this.parseReturn();break;case s.keywordPrint:case s.keywordPrintln:n=this.parsePrint();break;case s.keywordSwitch:n=this.parseSwitch();break;case s.keywordBreak:var l=this.getCurrentPosition();this.nextToken(),n=[{type:s.keywordBreak,position:l}];break;case s.keywordContinue:var u=this.getCurrentPosition();this.nextToken(),n=[{type:s.keywordContinue,position:u}];break;case s.semicolon:break;default:var c=d[this.tt];c!=this.cct.value&&(c+="("+this.cct.value+")"),c+=" wird hier nicht erwartet.",this.pushError(c);var h=e.BeforeClassDefinitionTokens.indexOf(this.tt)>=0;h||this.nextToken()}if(null==n)for(;this.tt==s.semicolon&&t;)this.nextToken();if(null!=n&&n.length>0){var p=n[n.length-1];null!=p?this.checkIfStatementHasNoEffekt(n[n.length-1]):n=null}return n}},{key:"parseReturn",value:function(){var e,t=this.getCurrentPosition();return this.nextToken(),this.tt!=s.semicolon&&(e=this.parseTerm(),this.expect(s.semicolon,!0,!0)),[{type:s.keywordReturn,position:t,term:e}]}},{key:"parseWhile",value:function(){var e=this.getCurrentPosition();this.nextToken();var t=this.getCurrentPosition();if(this.expect(s.leftBracket,!0)){var n=this.parseTerm(),i=this.getCurrentPosition();this.module.pushMethodCallPosition(e,[],"while",i),this.expect(s.rightBracket,!0),this.tt==s.semicolon&&this.pushError("Diese while-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var r=this.parseStatement(),o=this.getCurrentPosition();return o.length=0,null!=r&&r.length>0&&r[0].type==s.scopeNode&&(o=r[0].positionTo),[{type:s.keywordWhile,position:e,scopeFrom:t,scopeTo:o,condition:n,statements:r}]}return[]}},{key:"parseFor",value:function(){var e=this.getCurrentPosition(),t=[];this.nextToken();var n=this.getCurrentPosition();if(this.expect(s.leftBracket,!0)){if(this.ct[2].tt==s.colon)return this.parseForLoopOverCollection(e,n);var i=this.parseStatement(!1);t.push(this.getCurrentPosition()),this.expect(s.semicolon);var r=this.parseTerm();t.push(this.getCurrentPosition()),this.expect(s.semicolon,!0);var o=this.parseStatement(!1),a=this.getCurrentPosition();this.expect(s.rightBracket,!0),this.module.pushMethodCallPosition(e,t,"for",a),this.tt==s.semicolon&&this.pushError("Diese for-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var l=this.parseStatement(),u=this.getCurrentPosition();return u.length=0,null!=l&&l.length>0&&l[0].type==s.scopeNode&&(u=l[0].positionTo),null==r&&(r={type:s.pushConstant,position:this.getCurrentPosition(),constantType:s.booleanConstant,constant:!0}),[{type:s.keywordFor,position:e,scopeFrom:n,scopeTo:u,condition:r,statementsBefore:i,statementsAfter:o,statements:l}]}return[]}},{key:"parseForLoopOverCollection",value:function(e,t){var n=this.parseType(),i=this.cct.value,r=this.getCurrentPosition();this.nextToken(),this.expect(s.colon,!0);var o=this.parseTerm();this.expect(s.rightBracket,!0),this.tt==s.semicolon&&this.pushError("Diese for-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var a=this.parseStatement(),l=this.getCurrentPosition();return l.length=0,null!=a&&a.length>0&&a[0].type==s.scopeNode&&(l=a[0].positionTo),null==o||null==n||null==a?[]:[{type:s.forLoopOverCollection,position:e,scopeFrom:t,scopeTo:l,variableIdentifier:i,variableType:n,variablePosition:r,collection:o,statements:a}]}},{key:"parsePrint",value:function(){var e=this.tt,t=this.getCurrentPosition();if(this.nextToken(),this.expect(s.leftBracket,!1)){var n=this.parseMethodCallParameters(),i=n.nodes;return i.length>2&&this.pushError("Die Methoden print und println haben maximal zwei Parameter.","error",t),this.expect(s.semicolon,!0,!0),[{type:e,position:t,text:0==i.length?null:i[0],color:i.length<=1?null:i[1],commaPositions:n.commaPositions,rightBracketPosition:n.rightBracketPosition}]}return null}},{key:"parseSwitch",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.expect(s.leftBracket,!0)){var t=this.parseTerm();this.module.pushMethodCallPosition(e,[],"switch",this.getCurrentPosition()),this.expect(s.rightBracket);var n=this.getCurrentPosition();this.expect(s.leftCurlyBracket,!0);for(var i={type:s.keywordSwitch,position:e,scopeFrom:n,scopeTo:null,condition:t,caseNodes:[]},r=!1;this.tt==s.keywordCase||this.tt==s.keywordDefault;){var o=this.getCurrentPosition(),a=this.tt==s.keywordDefault;a&&(r?this.pushError("Eine switch-Anweisung darf nur maximal einen default-Zweig haben.","error",o):r=!0),this.nextToken();var l=null;a||(l=this.parseTerm()),this.expect(s.colon,!0);for(var u=[];this.tt!=s.rightCurlyBracket&&this.tt!=s.endofSourcecode&&this.tt!=s.keywordCase&&this.tt!=s.keywordDefault;){var c=this.parseStatement();null!=c&&(u=u.concat(c))}var d={type:s.keywordCase,position:o,caseTerm:l,statements:u};i.caseNodes.push(d)}return i.scopeTo=this.getEndOfCurrentToken(),this.expect(s.rightCurlyBracket,!0),[i]}return null}},{key:"parseIf",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.expect(s.leftBracket,!0)){var t=this.parseTerm(),n=this.getCurrentPosition();this.module.pushMethodCallPosition(e,[],"if",n),this.expect(s.rightBracket,!0),this.tt==s.semicolon&&this.pushError("Falls die Bedingung zutrifft, wird nur der Strichpunkt ausgefÃ¼hrt (leere Anweisung).","warning");var i=this.parseStatement();this.tt==s.semicolon&&this.nextToken();var r=null;return this.comesToken(s.keywordElse)&&(this.nextToken(),r=this.parseStatement()),null==t&&0==this.errorList.length&&(t={type:s.pushConstant,position:this.getCurrentPosition(),constantType:s.booleanConstant,constant:!0}),[{type:s.keywordIf,position:e,condition:t,statementsIfTrue:i,statementsIfFalse:r}]}return[]}},{key:"parseDo",value:function(){var e=this.getCurrentPosition(),t=this.getCurrentPosition();this.nextToken();var n=this.parseStatement();if(this.expect(s.keywordWhile,!0)&&this.expect(s.leftBracket,!0)){var i=this.parseTerm(),r=this.getEndOfCurrentToken();return this.expect(s.rightBracket,!0),[{type:s.keywordDo,position:e,scopeFrom:t,scopeTo:r,condition:i,statements:n}]}return[]}},{key:"comesGenericType",value:function(){return this.ct[1].tt==s.lower&&this.ct[2].tt==s.identifier&&(this.ct[3].tt==s.greater||this.ct[3].tt==s.comma)}},{key:"parseVariableDeclarationOrTerm",value:function(){if(this.tt!=s.identifier&&this.tt!=s.keywordFinal||this.ct[1].tt!=s.identifier&&this.ct[1].tt!=s.leftRightSquareBracket&&!this.comesGenericType())return[this.parseTerm()];var e=[],t=null;do{null!=t&&this.expect(s.comma,!0);var n=this.parseVariableDeclaration(t);e.push(n),t=null==n?void 0:n.variableType}while(this.tt==s.comma);return e}},{key:"parseTerm",value:function(){return this.parseTermBinary(0)}},{key:"parseTermBinary",value:function(t){var n,i=this;n=t<e.operatorPrecedence.length-1?this.parseTermBinary(t+1):this.parsePlusPlusMinusMinus();var r=e.operatorPrecedence[t];if(null==n||r.indexOf(this.tt)<0)return n;var o=!0;if(this.tt==s.colon)return n;for(var a=function(){var r=i.tt;o=!1;var a=i.getCurrentPosition();i.nextToken();for(var l=function(){var e=c[u];if(r==s.assignment&&i.tt==e.op){var t=i.getCurrentPosition();i.pushError("Den Operator ".concat(e.wrong," gibt es nicht. Du meintest sicher: ").concat(e.right),"error",Object.assign({},a,{length:2}),{title:"".concat(e.wrong," durch ").concat(e.right," ersetzen"),editsProvider:function(n){return[{resource:n,edit:{range:{startLineNumber:a.line,startColumn:a.column,endLineNumber:a.line,endColumn:t.column+t.length},text:e.right}}]}}),i.nextToken(),r=e.correctOp}},u=0,c=[{op:s.lower,wrong:"=<",right:"<=",correctOp:s.lowerOrEqual},{op:s.greater,wrong:"=>",right:">=",correctOp:s.greaterOrEqual}];u<c.length;u++)l();var d=void 0;if(null!=(d=t<e.operatorPrecedence.length-1?i.parseTermBinary(t+1):i.parsePlusPlusMinusMinus())){var h=!1;if(i.isConstant(n)&&i.isConstant(d)){var p=n,f=d,y=St[p.constantType],m=St[f.constantType],v=y.getResultType(r,m);if(null!=v){h=!0;var g=y.compute(r,{type:y,value:p.constant},{type:m,value:f.constant});p.constantType=v.toTokenType(),p.constant=g,p.position.length=f.position.column+f.position.length-p.position.column}}h||(n={type:s.binaryOp,position:a,operator:r,firstOperand:n,secondOperand:d})}};o||r.indexOf(this.tt)>=0;)a();return n}},{key:"isConstant",value:function(e){return null!=e&&e.type==s.pushConstant}},{key:"parsePlusPlusMinusMinus",value:function(){var e=null,t=null;this.comesToken([s.doublePlus,s.doubleMinus])&&(e=this.tt,t=this.getCurrentPosition(),this.nextToken());var n=this.parseUnary();return null!=e&&(n={type:s.incrementDecrementBefore,position:t,operator:e,operand:n}),this.comesToken([s.doublePlus,s.doubleMinus])&&(n={type:s.incrementDecrementAfter,position:this.getCurrentPosition(),operator:this.tt,operand:n},this.nextToken()),n}},{key:"parseUnary",value:function(){var e,t=this.getCurrentPosition();switch(this.tt){case s.leftBracket:return this.parseDotOrArrayChains(this.bracketOrCasting());case s.minus:case s.not:t=t;var n=this.tt;if(this.nextToken(),e=this.parseUnary(),this.isConstant(e)){var i=e,r=St[i.constantType],o=r.getResultType(n);if(null!=o){var a=r.compute(n,{type:r,value:i.constant});return i.constantType=o.toTokenType(),i.constant=a,t.length=i.position.column-t.column+1,i}}return{type:s.unaryOp,position:t,operand:e,operator:n};case s.keywordSuper:if(this.ct[1].tt==s.leftBracket){this.nextToken();var l=this.parseMethodCallParameters();return e={type:s.superConstructorCall,position:t,operands:l.nodes,commaPositions:l.commaPositions,rightBracketPosition:l.rightBracketPosition}}return e={type:s.keywordSuper,position:t},this.nextToken(),this.parseDotOrArrayChains(e);case s.keywordThis:return e={type:s.keywordThis,position:t},this.nextToken(),this.parseDotOrArrayChains(e);case s.keywordNew:return this.parseDotOrArrayChains(this.parseNew());case s.integerConstant:case s.charConstant:case s.floatingPointConstant:case s.stringConstant:case s.booleanConstant:e={type:s.pushConstant,position:this.getCurrentPosition(),constantType:this.tt,constant:this.cct.value};var u=this.tt==s.stringConstant;return this.nextToken(),u?this.parseDotOrArrayChains(e):e;case s.keywordNull:return e={type:s.pushConstant,position:this.getCurrentPosition(),constantType:s.keywordNull,constant:null},this.nextToken(),e;case s.identifier:var c=this.cct.value,d=this.getCurrentPosition();if(this.nextToken(),this.tt==s.leftBracket){var h=this.parseMethodCallParameters(),p=h.rightBracketPosition;e={type:s.callMethod,position:d,rightBracketPosition:p,operands:h.nodes,object:e,identifier:c,commaPositions:h.commaPositions}}else e={type:s.identifier,identifier:c,position:t};return this.parseDotOrArrayChains(e);default:return this.pushError("Erwartet wird eine Variable, ein Methodenaufruf oder this oder super. Gefunden wurde: "+this.cct.value),null}}},{key:"bracketOrCasting",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.tt==s.identifier&&this.ct[1].tt==s.rightBracket&&this.tokensNotAfterCasting.indexOf(this.ct[2].tt)<0){var t=this.parseType(),n=this.getCurrentPosition();e.length=n.column-e.column+1,this.expect(s.rightBracket,!0);var i=this.parsePlusPlusMinusMinus();return{type:s.castValue,position:e,castToType:t,whatToCast:i}}var r=this.parseTerm(),o=this.getCurrentPosition();return this.expect(s.rightBracket,!0),this.isConstant(r)?r:{position:o,type:s.rightBracket,termInsideBrackets:r}}},{key:"parseNew",value:function(){this.nextToken();var e=this.getCurrentPosition();if(this.expect(s.identifier,!1)){var t=this.cct.value,n=this.getCurrentPosition();this.nextToken();var i=null;if(this.tt==s.lower){i=[];var r=!0;for(this.nextToken();r&&this.tt==s.identifier||!r&&this.tt==s.comma;)r||this.nextToken(),r=!1,i.push(this.parseType());this.expect(s.greater),0==i.length&&(i=null)}if(this.tt==s.leftSquareBracket||this.tt==s.leftRightSquareBracket){var o={type:s.type,position:e,arrayDimension:0,identifier:t,genericParameterTypes:i};this.typeNodes.push(o);for(var a=[];this.tt==s.leftSquareBracket||this.tt==s.leftRightSquareBracket;)o.arrayDimension++,this.tt==s.leftRightSquareBracket?(a.push(null),this.nextToken()):(this.nextToken(),a.push(this.parseTerm()),this.expect(s.rightSquareBracket,!0));var l=null;return this.tt==s.leftCurlyBracket&&(l=this.parseArrayLiteral(o)),{type:s.newArray,position:e,arrayType:o,elementCount:a,initialization:l}}if(this.tt==s.leftBracket){var u=this.parseMethodCallParameters(),c={type:s.type,position:n,arrayDimension:0,identifier:t,genericParameterTypes:i};return this.typeNodes.push(c),{type:s.newObject,position:e,classType:c,constructorOperands:u.nodes,rightBracketPosition:u.rightBracketPosition,commaPositions:u.commaPositions}}this.pushError("Konstruktoraufruf (also runde Klammer auf) oder Array-Intanzierung (eckige Klammer auf) erwartet.","error",this.getCurrentPosition())}return null}},{key:"parseArrayLiteral",value:function(e){var t=[],n=this.getCurrentPosition(),i=null;if(this.expect(s.leftCurlyBracket,!0),this.tt!=s.rightCurlyBracket)for(var r=!0;r||this.tt==s.comma;){var o=this.getCurrentPosition();r||this.nextToken(),r=!1;var a=void 0;if(this.tt==s.leftCurlyBracket){var l={type:s.type,position:this.getCurrentPosition(),arrayDimension:e.arrayDimension-1,identifier:e.identifier};this.typeNodes.push(l);var u=this.parseArrayLiteral(l);a=u.dimension+1,t.push(u)}else t.push(this.parseTerm()),a=1;null!=i&&i!=a&&this.pushError("Die Dimension dieses Array-Literals ("+(a-1)+" ist ungleich derjenigen der vorangegangenen Array-Literale ("+(i-1)+").","error",o),i=a}return this.expect(s.rightCurlyBracket,!0),{type:s.arrayInitialization,position:n,arrayType:e,dimension:i,nodes:t}}},{key:"parseMethodCallParameters",value:function(){if(this.nextToken(),this.tt==s.rightBracket){var e=this.getCurrentPosition();return this.nextToken(),{rightBracketPosition:e,nodes:[],commaPositions:[]}}for(var t=[],n=[];;){var i=this.pos,r=this.parseTerm();if(null!=r&&t.push(r),this.tt!=s.comma)break;n.push(this.getCurrentPosition()),this.nextToken(),this.pos==i&&this.nextToken()}var o=this.getCurrentPosition();return{rightBracketPosition:this.expect(s.rightBracket,!0)?o:null,nodes:t,commaPositions:n}}},{key:"parseDotOrArrayChains",value:function(e){if(null==e)return null;for(;this.comesToken([s.dot,s.leftSquareBracket]);)if(this.tt==s.dot){if(this.nextToken(),this.tt!=s.identifier)return this.pushError("Erwartet wird der Bezeichner eines Attributs oder einer Methode, gefunden wurde: "+this.cct.value),e;var t=this.cct.value,n=this.getCurrentPosition();if(this.nextToken(),this.tt==s.leftBracket){var i=this.parseMethodCallParameters();e={type:s.callMethod,position:n,rightBracketPosition:i.rightBracketPosition,operands:i.nodes,object:e,identifier:t,commaPositions:i.commaPositions}}else e={type:s.pushAttribute,position:n,identifier:t,object:e}}else{var r=e.position;this.nextToken();var o=this.parseTerm(),a=this.getCurrentPosition(),l=Object.assign({},r);this.expect(s.rightSquareBracket,!0),a.line==r.line?l.length=a.column+a.length-l.column:l=a,e={type:s.selectArrayElement,position:l,index:o,object:e}}return e}},{key:"parseVariableDeclaration",value:function(e){var t=!1;if(this.tt==s.keywordFinal&&(t=!0,this.nextToken()),null==e&&(e=this.parseType()),this.tt!=s.identifier)return this.pushError("Hier wird ein Bezeichner (Name) einer Variable erwartet.","error",this.getCurrentPosition()),null;var n=this.cct.value,i=this.getCurrentPosition();this.nextToken();var r=null;return this.tt==s.assignment&&(this.nextToken(),r=e.arrayDimension>0&&this.tt==s.leftCurlyBracket?this.parseArrayLiteral(e):this.parseTerm()),this.tt==s.endofSourcecode&&null==e&&null==n?null:{type:s.localVariableDeclaration,position:i,identifier:n,variableType:e,initialization:r,isFinal:t}}},{key:"parseType",value:function(){var e=this.cct.value,t=this.getCurrentPosition();this.nextToken();var n=null;if(this.tt==s.lower){n=[];var i=!0;for(this.nextToken();i&&this.tt==s.identifier||!i&&this.tt==s.comma;)i||this.nextToken(),i=!1,n.push(this.parseType());this.expect(s.greater)}for(var r=0;this.tt==s.leftRightSquareBracket;)r++,t.length+=2,this.nextToken();var o={type:s.type,position:t,arrayDimension:r,identifier:e,genericParameterTypes:n};return this.typeNodes.push(o),o}},{key:"parseClassDefinition",value:function(){var t=this.cct.commentBefore,n=this.collectModifiers();if(!this.comesToken(e.ClassTokens))return this.pushError("Erwartet wird class, interface oder enum. Gefunden wurde: "+this.cct.value),null;var i=this.tt;if(this.nextToken(),this.expect(s.identifier,!1)){var r=this.cct.value,o=this.getCurrentPosition();this.nextToken();var a=[];this.tt==s.lower&&(a=this.parseTypeParameterDefinition());var l=this.parseExtendsImplements(i==s.keywordInterface);if(i==s.keywordEnum)return this.parseEnum(r,l,o,n.visibility,t);var u=this.getCurrentPosition();if(this.expect(s.leftCurlyBracket,!0)){var c=this.parseClassBody(i,r),d=this.getEndOfCurrentToken();switch(this.expect(s.rightCurlyBracket,!0),i){case s.keywordClass:return{type:s.keywordClass,position:o,scopeFrom:u,scopeTo:d,identifier:r,attributes:c.attributes,methods:c.methods,isAbstract:n.isAbstract,visibility:n.visibility,extends:l.extends,implements:l.implements,typeParameters:a,commentBefore:t};case s.keywordInterface:return{type:s.keywordInterface,position:o,identifier:r,scopeFrom:u,scopeTo:d,methods:c.methods,typeParameters:a,extends:l.implements,commentBefore:t}}}}}},{key:"parseTypeParameterDefinition",value:function(){var e=this,t=[],n={};this.expect(s.lower,!0);for(var i=!0,r=function(){i||e.expect(s.comma,!0);var r={type:s.typeParameter,position:e.getCurrentPosition(),identifier:e.cct.value,extends:null,implements:null};null!=n[r.identifier]&&e.pushError("Zwei Typparameter dÃ¼rfe nicht denselben Bezeichner tragen."),n[r.identifier]=!0,e.nextToken();var o=e.parseTypeParameterBounds();r.extends=o.extends,null!=r.extends&&r.extends.arrayDimension>0&&e.pushError("Der Datentyp des Typparameters "+r.identifier+" darf kein Array sein."),r.implements=o.implements,r.implements.forEach((function(t){t.arrayDimension>0&&e.pushError("Der Datentyp des Typparameters "+r.identifier+" darf kein Array sein.")})),i=!1,t.push(r)};i&&this.tt==s.identifier||!i&&this.tt==s.comma;)r();return this.expect(s.greater,!0),t}},{key:"parseEnum",value:function(e,t,n,i,r){null!=t.extends&&this.pushError("Ein enum kann nicht mit extends erweitert werden."),t.implements.length>0&&this.pushError("Ein enum kann kein Interface implementieren.");var o=this.getCurrentPosition();if(this.expect(s.leftCurlyBracket,!0)){var a=this.parseEnumValues(),l=this.parseClassBody(s.keywordEnum,e),u=this.getEndOfCurrentToken();return this.expect(s.rightCurlyBracket,!0),{type:s.keywordEnum,position:n,scopeFrom:o,scopeTo:u,attributes:l.attributes,methods:l.methods,identifier:e,values:a,visibility:i,commentBefore:r}}return null}},{key:"parseEnumValues",value:function(){for(var e=[],t=0,n=!0;n&&this.tt==s.identifier||this.tt==s.comma;){if(t=this.pos,n||this.nextToken(),n=!1,this.expect(s.identifier,!1)){var i=this.cct.value,r=this.getCurrentPosition();this.nextToken();var o=null,a=[],l=null;if(this.tt==s.leftBracket){var u=this.parseMethodCallParameters();o=u.nodes,a=u.commaPositions,l=u.rightBracketPosition}e.push({type:s.pushEnumValue,constructorParameters:o,identifier:i,position:r,commaPositions:a,rightBracketPosition:l})}this.pos==t&&this.nextToken()}return this.tt==s.semicolon&&this.nextToken(),e}},{key:"parseClassBody",value:function(e,t){for(var n=[],i=[];this.tt!=s.rightCurlyBracket&&this.tt!=s.endofSourcecode;){var r=this.cct.commentBefore,o=null;this.tt==s.at&&(o=this.cct.value);var a=this.collectModifiers(),l=!1,u=this.getCurrentPosition();this.tt==s.identifier&&this.cct.value==t&&this.ct[1].tt==s.leftBracket&&(l=!0);var c=this.parseType();if(l||this.expect(s.identifier,!1)){var d=t;if(l||(u=this.getCurrentPosition(),d=this.cct.value,this.nextToken()),this.tt==s.leftBracket){l&&e==s.keywordEnum&&a.visibility!=I.private&&this.pushError("Konstruktoren in enums mÃ¼ssen private sein.","error",u);var h=this.parseMethodDeclarationParameters(),p=void 0,f=this.getCurrentPosition(),y=f;if(a.isAbstract)this.expect(s.semicolon,!0),l&&this.pushError("Ein Konstruktor kann nicht abstrakt sein.","error",u),p=[];else if(f=this.getCurrentPosition(),p=this.parseStatement(),y=this.getEndOfCurrentToken(),null!=p&&p.length>0&&p[0].type==s.scopeNode){var m=p[0];f=m.position,y=m.positionTo}n.push({type:s.methodDeclaration,identifier:d,position:u,scopeFrom:f,scopeTo:y,parameters:h,statements:p,visibility:a.visibility,isAbstract:a.isAbstract||e==s.keywordInterface,isStatic:a.isStatic,isConstructor:l,returnType:c,annotation:o,isTransient:a.isTransient,commentBefore:r})}else{d==t&&this.pushError("Das Attribut "+t+" darf nicht denselben Bezeichner haben wie die Klasse.","error",u);var v=null;this.tt==s.assignment&&(this.nextToken(),v=c.arrayDimension>0&&this.tt==s.leftCurlyBracket?this.parseArrayLiteral(c):this.parseTerm()),this.expect(s.semicolon),i.push({type:s.attributeDeclaration,identifier:d,position:u,attributeType:c,isStatic:a.isStatic,isFinal:a.isFinal,visibility:a.visibility,initialization:v,annotation:o,isTransient:a.isTransient,commentBefore:r}),e==s.keywordInterface&&this.pushError("Interfaces dÃ¼rfen keine Attribute enthalten.","error",u)}}}return{methods:n,attributes:i}}},{key:"parseMethodDeclarationParameters",value:function(){var e=[];if(this.nextToken(),this.tt==s.rightBracket)return this.nextToken(),[];for(var t=!1;;){t&&this.pushError("Nur der letzte Parameter darf als Ellipsis (...) definiert werden.");var n=this.tt==s.keywordFinal;n&&this.nextToken();var i=this.parseType();if((t=this.tt==s.ellipsis)&&(this.nextToken(),i.arrayDimension++),this.expect(s.identifier,!1)){var r=this.cct.value;e.push({type:s.parameterDeclaration,position:this.getCurrentPosition(),identifier:r,parameterType:i,isFinal:n,isEllipsis:t}),this.nextToken()}if(this.tt!=s.comma)break;this.nextToken()}return this.expect(s.rightBracket,!0),e}},{key:"parseExtendsImplements",value:function(e){for(var t=this,n=null,i=[];this.comesToken([s.keywordExtends,s.keywordImplements]);)if(this.comesToken(s.keywordExtends)&&!e&&(null!=n&&this.pushError("Eine Klasse kann nicht Unterklasse von zwei anderen Klassen sein, es darf also hier nur ein Mal 'extends...' stehen.","error",n.position),this.nextToken(),null!=(n=this.parseType())&&n.arrayDimension>0&&this.pushError("Der Datentyp der Basisklasse darf kein Array sein.","error",n.position)),!e&&this.comesToken(s.keywordImplements)||e&&this.comesToken(s.keywordExtends)){i.length>0&&this.pushError("Es darf hier nur ein Mal 'implements' stehen, hinter 'implements' ist aber eine kommaseparierte Liste von Interfaces erlaubt.","warning"),this.nextToken();for(var r=!0;r&&this.tt==s.identifier||!r&&this.tt==s.comma;)r||this.nextToken(),r=!1,i.push(this.parseType())}return i.forEach((function(e){e.arrayDimension>0&&t.pushError(e.identifier+"[] ist kein Interface, sondern ein Array. Array-Datentypen sind hier nicht erlaubt.")})),{extends:n,implements:i}}},{key:"parseTypeParameterBounds",value:function(){var e=null,t=[];for(this.comesToken(s.keywordExtends)&&(this.nextToken(),e=this.parseType());this.comesToken(s.ampersand);)this.nextToken(),t.push(this.parseType());return{extends:e,implements:t}}},{key:"collectModifiers",value:function(){for(var e=I.public,t=!1,n=!1,i=!1,r=!1,o=!1;!o;)switch(this.tt){case s.keywordPublic:e=I.public,this.nextToken();break;case s.keywordPrivate:e=I.private,this.nextToken();break;case s.keywordProtected:e=I.protected,this.nextToken();break;case s.keywordStatic:n=!0,this.nextToken();break;case s.keywordAbstract:t=!0,this.nextToken();break;case s.keywordFinal:i=!0,this.nextToken();break;case s.keywordTransient:r=!0,this.nextToken();break;default:o=!0}return{isAbstract:t,isStatic:n,visibility:e,isFinal:i,isTransient:r}}}])&&Xt(t.prototype,n),i&&Xt(t,i),e}();function Yt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Jt.assignmentOperators=[s.assignment,s.plusAssignment,s.minusAssignment,s.multiplicationAssignment,s.divisionAssignment,s.moduloAssignment],Jt.operatorPrecedence=[Jt.assignmentOperators,[s.ternaryOperator],[s.colon],[s.or],[s.and],[s.keywordInstanceof,s.lower,s.lowerOrEqual,s.greater,s.greaterOrEqual,s.equal,s.notEqual],[s.plus,s.minus],[s.multiplication,s.division,s.modulo]],Jt.TokenTypeToVisibilityMap=(qt(Ut={},s.keywordPublic,I.public),qt(Ut,s.keywordPrivate,I.private),qt(Ut,s.keywordProtected,I.protected),Ut),Jt.forwardToInsideClass=[s.keywordPublic,s.keywordPrivate,s.keywordProtected,s.keywordVoid,s.identifier,s.rightCurlyBracket,s.keywordStatic,s.keywordAbstract,s.keywordClass,s.keywordEnum,s.keywordInterface],Jt.ClassTokens=[s.keywordClass,s.keywordEnum,s.keywordInterface],Jt.VisibilityTokens=[s.keywordPrivate,s.keywordProtected,s.keywordPublic],Jt.BeforeClassDefinitionTokens=Jt.ClassTokens.concat(Jt.VisibilityTokens).concat(s.keywordAbstract).concat(Jt.ClassTokens);var en=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"toJson",value:function(e){this.objectToIndexMap=new Map,this.nextIndex=0;var t=JSON.stringify(this.toJsonObj(e));return this.objectToIndexMap=null,t}},{key:"toJsonObj",value:function(e){var t=this,n=e.type,i=e.value;if(null==i)return null;if((n instanceof Z||n instanceof X)&&"String"!=n.identifier){if(n instanceof $t)return i.enumValue.ordinal;var r=i;return this.objectToJsonObj(r)}return n instanceof jt?i.map((function(e){return t.toJsonObj(e)})):e.value}},{key:"objectToJsonObj",value:function(e){var t=this.objectToIndexMap.get(e);if(null!=t)return{"!i":t};t=this.nextIndex++,this.objectToIndexMap.set(e,t);var n=e.class;if(n.module.isSystemModule&&null==n.getMethodBySignature("String toJson()"))return null;for(var i={"!k":n.identifier,"!i":t};null!=n;){var r=e.attributeValues.get(n.identifier);if(null!=r){var o=!0,a=void 0,s=!0,l=!1,u=void 0;try{for(var c,d=n.attributes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;h.isStatic||h.isTransient||(o&&(o=!1,a={},i[n.identifier]=a),a[h.identifier]=this.toJsonObj(r.get(h.identifier)))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}n=n.baseClass}return i}},{key:"fromJson",value:function(e,t,n,i){this.indexToObjectMap={},this.valuesToResolve=[];var r=JSON.parse(e),o=this.fromJsonObj(r,t,n,i),a=!0,s=!1,l=void 0;try{for(var u,c=this.valuesToResolve[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=this.indexToObjectMap[d.i];null!=h&&(d.v.type=h.type,d.v.value=h.value)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return this.indexToObjectMap=null,this.valuesToResolve=null,o.value}},{key:"fromJsonObj",value:function(e,t,n,i){var r=this;if(null==e)return{type:t,value:null};if((t instanceof Z||t instanceof X)&&"String"!=t.identifier){if(t instanceof $t)return{type:t,value:t.indexToInfoMap[e].object};var o=e;return this.objectFromJsonObj(o,t,n,i)}return t instanceof jt?{type:t,value:e.map((function(e){return r.fromJsonObj(e,t.arrayOfType,n,i)}))}:{type:t,value:e}}},{key:"objectFromJsonObj",value:function(e,t,n,i){var r=e["!k"],o=e["!i"];if(null!=r){for(var a=n.getType(r).type,s=a,l=i.instantiateObjectImmediately(s);null!=s;){var u=l.attributeValues.get(s.identifier),c=e[s.identifier];if(null!=u&&null!=e){var d=!0,h=!1,p=void 0;try{for(var f,y=s.attributes[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;m.isStatic||m.isTransient||u.set(m.identifier,this.fromJsonObj(c[m.identifier],m.type,n,i))}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}s=s.baseClass}var v={type:a,value:l};return this.indexToObjectMap[o]=v,v}var g=e["!i"],b=this.indexToObjectMap[g];return null==b?(b={type:t,value:null},this.valuesToResolve.push({v:b,i:g}),b):{type:b.type,value:b.value}}}])&&Yt(t.prototype,n),i&&Yt(t,i),e}();function tn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.moduleToTypeParameterListMap=new Map,this.genericTypes=[],this.genericTypesInClassDefinitions=[],this.typeParameterList=[]}var t,n,i;return t=e,(n=[{key:"start",value:function(e){this.classes=[],this.interfaces=[],this.enums=[],this.unresolvedTypes=new Map,this.moduleStore=e,this.resolveTypesInModules(),this.setupClassesAndInterfaces();var t=this.resolveTypeVariables();this.resolveUnresolvedTypes(!1),this.resolveGenericTypes(t),this.resolveExtendsImplements();var n=this.resolveGenericTypes(this.genericTypes);this.resolveUnresolvedTypes(!0),this.resolveGenericTypes(n),this.setupMethodsAndAttributes(),this.checkDoubleIdentifierDefinition(),this.checkGenericTypesAgainsTypeGuards()}},{key:"checkGenericTypesAgainsTypeGuards",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.genericTypes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(null!=o.typeNode.genericParameterTypes){var a=o.typeNode.resolvedType;if(null!=a.isGenericVariantFrom)if(a.typeVariables.length==a.isGenericVariantFrom.typeVariables.length){for(var s=0;s<a.typeVariables.length;s++){var l=null,u=a.typeVariables[s],c=a.isGenericVariantFrom.typeVariables[s],d=o.typeNode.genericParameterTypes[s];u.scopeFrom=c.scopeFrom,u.scopeTo=c.scopeTo,u.identifier=c.identifier,l="",u.type.hasAncestorOrIs(c.type)||(l+="Die Klasse "+u.type.identifier+" ist keine Unterklasse von "+c.type.identifier+" und pass damit nicht zum Typparamter "+c.identifier+" der Klasse "+a.isGenericVariantFrom.identifier+". ");var h=[],p=!0,f=!1,y=void 0;try{for(var m,v=c.type.implements[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value;u.type.implementsInterface(g)||h.push(g.identifier)}}catch(e){f=!0,y=e}finally{try{p||null==v.return||v.return()}finally{if(f)throw y}}h.length>0&&(l+="Die Klasse "+u.identifier+" implementiert nicht die Interfaces "+h.join(", ")),""!=l&&o.module.errors[2].push({position:d.position,text:"Der angegebene Wert des Typparameters passt nicht zur Definition: "+l,level:"error"})}this.adjustMethodsAndAttributesToTypeParameters(a)}else o.module.errors[2].push({position:o.typeNode.position,text:"Der Generische Typ "+a.isGenericVariantFrom.identifier+" hat "+a.isGenericVariantFrom.typeVariables.length+" Typparameter. Hier wurden aber "+a.typeVariables.length+" angegeben.",level:"error"})}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"adjustMethodsAndAttributesToTypeParameters",value:function(e){if(null!=e&&null!=e.isGenericVariantFrom&&0!=e.typeVariables.length){var t=!1,n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.methods[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=this.getAdjustedMethod(l,e.typeVariables);t=t||u.altered,n.push(u.newMethod)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}if(t&&(e.methods=n),e instanceof Z){var c=[],d=new Map,h=!1,p=!0,f=!1,y=void 0;try{for(var m,v=e.attributes[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value,b=this.getAdjustedAttribute(g,e.typeVariables);h=h||b.altered,c.push(b.newAttribute),d.set(g.identifier,b.newAttribute)}}catch(e){f=!0,y=e}finally{try{p||null==v.return||v.return()}finally{if(f)throw y}}h&&(e.attributes=c,e.attributeMap=d),this.adjustMethodsAndAttributesToTypeParameters(e.baseClass)}else{var w=!0,k=!1,S=void 0;try{for(var P,x=e.extends[Symbol.iterator]();!(w=(P=x.next()).done);w=!0){var C=P.value;this.adjustMethodsAndAttributesToTypeParameters(C)}}catch(e){k=!0,S=e}finally{try{w||null==x.return||x.return()}finally{if(k)throw S}}}}}},{key:"getAdjustedAttribute",value:function(e,t){var n=this.getAdjustedType(e.type,t,!0);if(n.altered){var i=Object.create(e);return i.type=n.newType,{altered:!0,newAttribute:i}}return{altered:!1,newAttribute:e}}},{key:"getAdjustedMethod",value:function(e,t){var n=this.getAdjustedType(e.returnType,t,!0),i=!1,r=[],o=!0,a=!1,s=void 0;try{for(var l,u=e.parameterlist.parameters[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=this.getAdjustedType(c.type,t,!1);if(d.altered){i=!0;var h=Object.create(c);h.type=d.newType,r.push(h)}else r.push(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}if(n.altered||i){var p=Object.create(e);return n.altered&&(p.returnType=n.newType),i&&(p.parameterlist=new O(r)),{altered:!0,newMethod:p}}return{altered:!1,newMethod:e}}},{key:"getAdjustedType",value:function(e,t,n){if(null==e)return{altered:!1,newType:e};if(1==e.isTypeVariable){var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.identifier==e.identifier)return{altered:!0,newType:l.type}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return{altered:!1,newType:e}}if((e instanceof Z||e instanceof X)&&e.typeVariables.length>0){var u=[],c=!1,d=!0,h=!1,p=void 0;try{for(var f,y=e.typeVariables[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value,v=this.getAdjustedType(m.type,t,!1);v.altered?(u.push({identifier:m.identifier,scopeFrom:m.scopeFrom,scopeTo:m.scopeTo,type:v.newType}),c=!0):u.push(m)}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}if(c){var g=e.clone();return g.typeVariables=u,n&&this.adjustMethodsAndAttributesToTypeParameters(g),{altered:!0,newType:g}}return{altered:!1,newType:e}}if(e instanceof jt){var b=this.getAdjustedType(e.arrayOfType,t,n);return{altered:b.altered,newType:b.altered?new jt(b.newType):e}}return{altered:!1,newType:e}}},{key:"resolveGenericTypes",value:function(e){for(var t=!1,n=e.slice(0);!t;){t=!0;for(var i=0;i<n.length;i++){var r=n[i];this.resolveGenericType(r)&&(t=!1),null!=r.typeNode.genericParameterTypes&&null==r.typeNode.genericParameterTypesResolved||(n.splice(n.indexOf(r),1),i--)}}return n}},{key:"resolveGenericType",value:function(e){if(null!=e.typeNode.genericParameterTypesResolved)return!1;if(null==e.typeNode.genericParameterTypes)return!0;var t=e.typeNode.resolvedType;if(null==t||!(t instanceof X||t instanceof Z))return e.typeNode.genericParameterTypes=null,!1;if(!t.typeVariablesReady)return!1;for(var n=[],i=0;i<e.typeNode.genericParameterTypes.length;i++){var r=e.typeNode.genericParameterTypes[i],o=r.resolvedType;if(null==o)return!1;if(null!=r.genericParameterTypes&&null==r.genericParameterTypesResolved)return!1;if(!(o instanceof X||o instanceof Z))return e.module.errors[2].push({position:r.position,text:"Hier wird ein Interface- oder Klassentyp erwartet. Der Typ "+r.identifier+" ist aber keiner.",level:"error"}),e.typeNode.genericParameterTypes=null,!0;n.push(r.resolvedType)}var a=new Map;if(t.typeVariables.length!=n.length)return e.module.errors[2].push({position:e.typeNode.position,text:(t instanceof Z?"Die Klasse ":"Das Interface ")+t.identifier+" hat "+t.typeVariables.length+" Typparameter, hier sind aber "+n.length+" angegeben.",level:"error"}),e.typeNode.genericParameterTypes=null,!0;for(var s=0,l=0,u=n;l<u.length;l++){var c=u[l],d=t.typeVariables[s];if(c instanceof X){var h=ht.clone();h.implements.push(c),c=h}var p={identifier:d.identifier,scopeFrom:d.scopeFrom,scopeTo:d.scopeTo,type:c};a.set(t.typeVariables[s].type,p.type),s++}var f=this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(t,a);return e.typeNode.resolvedType=f,e.typeNode.genericParameterTypesResolved=!0,!0}},{key:"propagateTypeParameterToBaseClassesAndImplementedInterfaces",value:function(e,t){if(e instanceof Z){var n=e.clone();n.typeVariables=[];var i=!0,r=!1,o=void 0;try{for(var a,s=e.typeVariables[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=t.get(l.type),c=l;null!=u&&(c={identifier:l.identifier,scopeFrom:l.scopeFrom,scopeTo:l.scopeTo,type:u}),n.typeVariables.push(c)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var d=e.baseClass;null!=d&&null!=d.isGenericVariantFrom&&n.setBaseClass(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(d,t)),n.implements=[];var h=!0,p=!1,f=void 0;try{for(var y,m=e.implements[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var v=y.value;null==v.isGenericVariantFrom?n.implements.push(v):n.implements.push(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(v,t))}}catch(e){p=!0,f=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw f}}return n}var g=e.clone();g.typeVariables=[];var b=!0,w=!1,k=void 0;try{for(var S,P=e.typeVariables[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value,C=t.get(x.type),T=x;null!=C&&(T={identifier:x.identifier,scopeFrom:x.scopeFrom,scopeTo:x.scopeTo,type:C}),g.typeVariables.push(T)}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}g.extends=[];var M=!0,j=!1,E=void 0;try{for(var O,D=e.extends[Symbol.iterator]();!(M=(O=D.next()).done);M=!0){var _=O.value;null==_.isGenericVariantFrom?g.extends.push(_):g.extends.push(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(_,t))}}catch(e){j=!0,E=e}finally{try{M||null==D.return||D.return()}finally{if(j)throw E}}return g}},{key:"checkDoubleIdentifierDefinition",value:function(){var e=new Map,t=!0,n=!1,i=void 0;try{for(var r,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=!0,l=!1,u=void 0;try{for(var c,d=a.typeStore.typeList[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,p=e.get(h.identifier);if(null!=p){a.errors[1].push({text:"Der Typbezeichner "+h.identifier+" wurde mehrfach definiert, nÃ¤mlich in den Modulen "+a.file.name+" und "+p.file.name+".",position:h.declaration.position,level:"error"});var f=p.typeStore.getType(h.identifier);null!=f&&p.errors[1].push({text:"Der Typbezeichner "+h.identifier+" wurde mehrfach definiert, nÃ¤mlich in den Modulen "+p.file.name+" und "+a.file.name+".",position:f.declaration.position,level:"error"})}else e.set(h.identifier,a)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var y=this.moduleStore.getBaseModule(),m=!0,v=!1,g=void 0;try{for(var b,w=this.typeParameterList[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var k=b.value,S=k.ci.module,P=e.get(k.tpn.identifier);if(null==P&&null!=y.typeStore.getType(k.tpn.identifier)&&(P=y),null!=P){S.errors[1].push({text:"Der Typbezeichner "+k.tpn.identifier+" wurde mehrfach definiert, nÃ¤mlich in den Modulen "+S.file.name+" und "+P.file.name+".",position:k.tpn.position,level:"error"});var x=P.typeStore.getType(k.tpn.identifier);null!=x&&P!=y&&P.errors[1].push({text:"Der Typbezeichner "+k.tpn.identifier+" wurde mehrfach definiert, nÃ¤mlich in den Modulen "+P.file.name+" und "+S.file.name+".",position:x.declaration.position,level:"error"})}}}catch(e){v=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(v)throw g}}}},{key:"resolveUnresolvedTypes",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.dependsOnModules=new Map}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.moduleStore.getModules(!1)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=this.unresolvedTypes.get(d),p=[],f=!0,y=!1,m=void 0;try{for(var v,g=h[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;this.resolveType(b,d,e)||p.push(b)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}this.unresolvedTypes.set(d,p)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"addFromJsonMethod",value:function(e){var t=this,n=this.main.getInterpreter();e.addMethod(new E("fromJson",new O([{identifier:"jsonString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),e,(function(i){var r=i[1].value;return(new en).fromJson(r,e,t.moduleStore,n)}),!1,!0,"Konvertiert eine Json-Zeichenkette in ein ".concat(e.identifier,'-Objekt ("deserialisieren"). Vor dem Deserialisieren eines Objekts werden die Attributinitialisierer angewandt und - falls vorhanden - ein parameterloser Konstruktor ausgefÃ¼hrt. Der Algorithmus kommt auch mit zyklischen Objektreferenzen zurecht.'),!1))}},{key:"addToJsonMethod",value:function(e){e.addMethod(new E("toJson",new O([]),pt,(function(e){return(new en).toJson(e[0])}),!1,!1,"Konvertiert ein Objekt (rekursiv mitsamt referenzierter Objekte) in eine Json-Zeichenkette. Nicht konvertiert werden Systemklassen (auÃer: ArrayList) sowie mit dem SchlÃ¼sselwort transient ausgezeichnete Attribute."))}},{key:"setupMethodsAndAttributes",value:function(){var e=[];e=(e=e.concat(this.classes)).concat(this.enums);var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=!0,l=!1,u=void 0;try{for(var c,d=a.methods[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,p=this.setupMethod(h,a.resolvedType.module,a.resolvedType);null!=h.commentBefore&&(p.documentation=""+h.commentBefore.value),null!=p&&a.resolvedType.addMethod(p)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}this.addFromJsonMethod(a.resolvedType),this.addToJsonMethod(a.resolvedType);var f=!0,y=!1,m=void 0;try{for(var v,g=a.attributes[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;this.resolveType(b.attributeType,a.resolvedType.module,!0);var w=b.attributeType.resolvedType;if(null!=w){var k=new j(b.identifier,w,null,b.isStatic,b.visibility,b.isFinal);null!=b.commentBefore&&(k.documentation=""+b.commentBefore.value),k.annotation=b.annotation,k.isTransient=b.isTransient,null!=a.resolvedType.attributeMap.get(k.identifier)&&a.resolvedType.module.errors[2].push({text:"Es darf nicht mehrere Attribute mit demselben Bezeichner '"+k.identifier+"' in derselben Klassse geben.",position:b.position,level:"error"}),a.resolvedType.addAttribute(k),this.pushUsagePosition(a.resolvedType.module,b.position,k),k.declaration={module:a.resolvedType.module,position:b.position}}}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var S=!0,P=!1,x=void 0;try{for(var C,T=this.interfaces[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var M=C.value,E=!0,O=!1,D=void 0;try{for(var _,A=M.methods[Symbol.iterator]();!(E=(_=A.next()).done);E=!0){var F=_.value,I=this.setupMethod(F,M.resolvedType.module,M.resolvedType);null!=I&&M.resolvedType.addMethod(I)}}catch(e){O=!0,D=e}finally{try{E||null==A.return||A.return()}finally{if(O)throw D}}}}catch(e){P=!0,x=e}finally{try{S||null==T.return||T.return()}finally{if(P)throw x}}}},{key:"setupMethod",value:function(e,t,n){var i=!0;i=i&&this.resolveType(e.returnType,t,!0);var r=[],o=!0,a=!1,s=void 0;try{for(var l,u=e.parameters[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(i=i&&this.resolveType(c.parameterType,t,!0)){var d={definition:c.position,identifier:c.identifier,usagePositions:new Map,type:c.parameterType.resolvedType,declaration:{module:t,position:c.position},isFinal:c.isFinal,isEllipsis:c.isEllipsis};r.push(d),this.pushUsagePosition(t,c.position,d)}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h=new O(r);if(i){var p=new E(e.identifier,h,e.returnType.resolvedType,null,e.isAbstract,e.isStatic);return p.isConstructor=e.identifier==n.identifier,p.visibility=e.visibility,p.isConstructor=e.isConstructor,e.resolvedType=p,p.annotation=e.annotation,this.pushUsagePosition(t,e.position,p),p.declaration={module:t,position:e.position},p}return null}},{key:"pushUsagePosition",value:function(e,t,n){if(e.addIdentifierPosition(t,n),!(n instanceof M)){var i=n.usagePositions.get(e);null==i&&(i=[],n.usagePositions.set(e,i)),i.push(t)}}},{key:"resolveType",value:function(e,t,n){if(null==e.resolvedType){var i=this.moduleStore.getType(e.identifier);if(null!=i){var r=i.type;return t.dependsOnModules.set(i.module,!0),this.pushUsagePosition(t,e.position,r),r=rn(r,e.arrayDimension),this.registerGenericType(e,t,!1),e.resolvedType=r,!0}var o=this.moduleToTypeParameterListMap.get(t);if(null!=o){var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(d.identifier==e.identifier){var h=e.position;if((h.line>d.scopeFrom.line||h.line==d.scopeFrom.line&&h.column>=d.scopeFrom.column)&&(h.line<d.scopeTo.line||h.line==d.scopeTo.line&&h.column<=d.scopeTo.column))return this.pushUsagePosition(t,e.position,d.type),e.resolvedType=d.type,!0}}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}if(n){var p=e.identifier.length>0&&e.identifier[0].toUpperCase()==e.identifier[0]?"Die Klasse":"Der Typ";t.errors[2].push({position:e.position,text:p+" "+e.identifier+" konnte nicht gefunden werden."+("string"==e.identifier?" Meinten Sie String (groÃgeschrieben)?":""),level:"error",quickFix:"string"==e.identifier?{title:"String groÃ schreiben",editsProvider:function(t){return[{resource:t,edit:{range:{startLineNumber:e.position.line,startColumn:e.position.column-1,endLineNumber:e.position.line,endColumn:e.position.column+6},text:"String"}}]}}:null})}return e.resolvedType=null,!1}return!0}},{key:"resolveExtendsImplements",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.classes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=o.resolvedType,s=!0,l=!1,u=void 0;try{for(var c,d=o.implements[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;this.resolveType(h,a.module,!0);var p=h.resolvedType;null!=p&&(p instanceof X?(a.implements.push(p),h.resolvedType=p):a.module.errors[2].push({position:h.position,text:"Der Typ "+h.identifier+" ist kein interface, darf also nicht bei implements... stehen.",level:"error"}))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}if(null!=o.extends){this.resolveType(o.extends,a.module,!0);var f=o.extends.resolvedType;if(null==f||!(f instanceof Z)){a.module.errors[2].push({position:o.extends.position,text:"Der Typ "+o.extends.identifier+" ist keine Klasse, darf also nicht hinter extends stehen.",level:"error"});continue}a.setBaseClass(f),o.extends.resolvedType=f}else a.setBaseClass(this.moduleStore.getType("Object").type)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var y=!0,m=!1,v=void 0;try{for(var g,b=this.interfaces[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value,k=w.resolvedType,S=!0,P=!1,x=void 0;try{for(var C,T=w.extends[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var M=C.value;this.resolveType(M,k.module,!0);var j=M.resolvedType;null!=j&&(j instanceof X?(k.extends.push(j),M.resolvedType=j):k.module.errors[2].push({position:M.position,text:"Der Typ "+M.identifier+" ist kein interface, darf also nicht bei extends... stehen.",level:"error"}))}}catch(e){P=!0,x=e}finally{try{S||null==T.return||T.return()}finally{if(P)throw x}}}}catch(e){m=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(m)throw v}}}},{key:"setupClassesAndInterfaces",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.moduleStore.getModules(!1)[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(null!=o.classDefinitionsAST){var a=!0,l=!1,u=void 0;try{for(var c,d=o.classDefinitionsAST[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value;switch(h.type){case s.keywordClass:this.classes.push(h);var p=new Z(h.identifier,o);if(null!=h.commentBefore&&(p.documentation=""+h.commentBefore.value),h.resolvedType=p,p.visibility=h.visibility,p.isAbstract=h.isAbstract,o.typeStore.addType(p),this.pushUsagePosition(o,h.position,p),p.declaration={module:o,position:h.position},this.registerTypeVariables(h,p),null!=h.extends&&this.registerGenericType(h.extends,o,!0),null!=h.implements){var f=!0,y=!1,m=void 0;try{for(var v,g=h.implements[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;this.registerGenericType(b,o,!0)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}break;case s.keywordEnum:this.enums.push(h);var w=new $t(h.identifier,o,h.values);null!=h.commentBefore&&(w.documentation=""+h.commentBefore.value),h.resolvedType=w,w.visibility=h.visibility,o.typeStore.addType(w),this.pushUsagePosition(o,h.position,w),w.declaration={module:o,position:h.position};break;case s.keywordInterface:this.interfaces.push(h);var k=new X(h.identifier,o);if(null!=h.commentBefore&&(k.documentation=""+h.commentBefore.value),h.resolvedType=k,o.typeStore.addType(k),this.pushUsagePosition(o,h.position,k),k.declaration={module:o,position:h.position},this.registerTypeVariables(h,k),null!=h.extends){var S=!0,P=!1,x=void 0;try{for(var C,T=h.extends[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var M=C.value;this.registerGenericType(M,o,!0)}}catch(e){P=!0,x=e}finally{try{S||null==T.return||T.return()}finally{if(P)throw x}}}}}}catch(e){l=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw u}}}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"resolveTypeVariables",value:function(){for(var e=this.typeParameterList.slice(0),t=!1,n=this.genericTypesInClassDefinitions.slice(0);!t;){this.resolveUnresolvedTypes(!1),n=this.resolveGenericTypes(n),t=!0;for(var i=0;i<e.length;i++){var r=e[i],o=!0,a=null==r.tpn.extends?[]:[r.tpn.extends];null!=r.tpn.implements&&(a=a.concat(r.tpn.implements));var s=!0,l=!1,u=void 0;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null!=h.genericParameterTypes&&1!=h.genericParameterTypesResolved&&(o=!1)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}o&&(this.resolveTypeVariable(r),e.splice(e.indexOf(r),1),i--,t=!1)}}return n}},{key:"resolveTypeVariable",value:function(e){var t;if((t=null!=e.tpn.extends&&null!=e.tpn.extends.resolvedType?e.tpn.extends.resolvedType.clone():ht.clone()).identifier=e.tpn.identifier,t.isTypeVariable=!0,t.declaration={module:e.ci.module,position:e.tpn.position},null!=e.tpn.implements){var n=!0,i=!1,r=void 0;try{for(var o,a=e.tpn.implements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.implements.indexOf(s.resolvedType)<0&&t.implements.push(s.resolvedType)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}var l={identifier:e.tpn.identifier,type:t,scopeFrom:e.cdn.position,scopeTo:e.cdn.scopeTo};e.ci.typeVariables[e.index]=l,e.ci.typeVariablesReady=!0;var u=!0,c=!1,d=void 0;try{for(var h,p=e.ci.typeVariables[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)null==h.value&&(e.ci.typeVariablesReady=!1)}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}var f=this.moduleToTypeParameterListMap.get(e.ci.module);null==f&&(f=[],this.moduleToTypeParameterListMap.set(e.ci.module,f)),f.push(l),this.pushUsagePosition(e.ci.module,e.tpn.position,t)}},{key:"registerTypeVariables",value:function(e,t){var n=0,i=!0,r=!1,o=void 0;try{for(var a,s=e.typeParameters[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(null!=l.extends&&this.registerGenericType(l.extends,t.module,!0),null!=l.implements){var u=!0,c=!1,d=void 0;try{for(var h,p=l.implements[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;this.registerGenericType(f,t.module,!0)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}t.typeVariablesReady=!1,t.typeVariables.push(null),this.typeParameterList.push({tpn:l,tp:{identifier:l.identifier,type:null,scopeFrom:e.position,scopeTo:e.scopeTo},ci:t,cdn:e,index:n++})}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"resolveTypesInModules",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.moduleStore.getModules(!1)[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=[];this.unresolvedTypes.set(o,a);var s=!0,l=!1,u=void 0;try{for(var c,d=o.typeNodes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;if(null==h.resolvedType){var p=this.moduleStore.getType(h.identifier);if(null!=p){var f=p.type;this.pushUsagePosition(o,h.position,f),h.resolvedType=rn(f,h.arrayDimension),this.registerGenericType(h,o,!1)}else a.push(h)}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"registerGenericType",value:function(e,t,n){if(null!=e.genericParameterTypes)n?this.genericTypesInClassDefinitions.push({typeNode:e,module:t}):this.genericTypes.push({typeNode:e,module:t});else{var i=e.resolvedType;if(null!=i&&i instanceof Z&&i.typeVariables.length>0){var r=i.clone();r.typeVariables=[],e.resolvedType=r}}}}])&&tn(t.prototype,n),i&&tn(t,i),e}();function rn(e,t){for(;t>0;)e=new jt(e),t--;return e}function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cn(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),e}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hn=function(e){function t(e){var n;an(this,t),n=sn(this,ln(t).call(this,"ListIteratorImpl",e));var i=e.typeStore.getType("Object");n.setBaseClass(i);var r=i.clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[o],n.implements.push(a),n.addMethod(new E("hasNext",new O([]),dt,(function(e){return e[0].value.intrinsicData.IteratorHelper.hasNext()}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),n.addMethod(new E("next",new O([]),r,(function(e){return e[0].value.intrinsicData.IteratorHelper.next()}),!1,!1,"Gibt das nÃ¤chste Element der Collection zurÃ¼ck.")),n.addMethod(new E("remove",new O([]),null,(function(e){return e[0].value.intrinsicData.IteratorHelper.remove()}),!1,!1,"LÃ¶scht das letzte durch next zurÃ¼ckgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als nÃ¤chstes durch next zurÃ¼ckgegeben wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,e),cn(t,null,[{key:"getIterator",value:function(e,t,n,i){var r=n.typeStore.getType("ListIteratorImpl"),o=new A(r);return o.intrinsicData.IteratorHelper=new pn(e,t,i),{value:o,type:r}}}]),t}(Z),pn=function(){function e(t,n,i){switch(an(this,e),this.listHelper=t,this.interpreter=n,this.kind=i,i){case"ascending":this.nextPos=0;break;case"descending":this.nextPos=t.objectArray.length-1}}return cn(e,[{key:"remove",value:function(){switch(this.kind){case"ascending":0==this.nextPos?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos>this.listHelper.objectArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."):(this.listHelper.valueArray.splice(this.nextPos-1,1),this.listHelper.objectArray.splice(this.nextPos-1,1),this.nextPos-=1);break;case"descending":this.nextPos==this.listHelper.objectArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos<0?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."):(this.listHelper.valueArray.splice(this.nextPos+1,1),this.listHelper.objectArray.splice(this.nextPos+1,1),this.nextPos+=1)}}},{key:"next",value:function(){switch(this.kind){case"ascending":return this.nextPos>this.listHelper.objectArray.length-1?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."),null):this.listHelper.objectArray[this.nextPos++];case"descending":return this.nextPos<0?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."),null):this.listHelper.objectArray[this.nextPos--]}}},{key:"hasNext",value:function(){switch(this.kind){case"ascending":return this.nextPos<this.listHelper.objectArray.length;case"descending":return this.nextPos>=0}}}]),e}();function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(e){var n,i,r;mn(this,t),i=this,n=!(r=vn(t).call(this,"ArrayList",e,"Liste mit Zugriff auf das n-te Objekt in konstanter Zeit, EinfÃ¼gen in konstanter Zeit und Suchen in linearer Zeit"))||"object"!==fn(r)&&"function"!=typeof r?gn(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("List").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new E("ArrayList",new O([]),null,(function(t){var n=t[0].value,i=new kn(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert eine neue ArrayList",!0)),n.addMethod(new E("iterator",new O([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return hn.getIterator(n,n.interpreter,e,"ascending").value}),!0,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck.")),n.addMethod(new E("add",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"FÃ¼gt der Liste ein Element hinzu. Gibt genau dann true zurÃ¼ck, wenn sich der Zustand der Liste dadurch geÃ¤ndert hat.")),n.addMethod(new E("add",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value,i=e[2];return t.intrinsicData.ListHelper.add(i,n)}),!1,!1,"Ãndert das Element an der Position index der Liste. Tipp: Das erste Element der Liste hat index == 0.")),n.addMethod(new E("get",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t,n=e[0].value,i=e[1].value;return null===(t=n.intrinsicData.ListHelper.get(i))||void 0===t?void 0:t.value}),!1,!1,"Gibt das i-te Element der Liste zurÃ¼ck.")),n.addMethod(new E("remove",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.remove(n),null}),!0,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new E("indexOf",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.indexOf(n)}),!0,!1,"Gibt den Index des Elements o zurÃ¼ck. Gibt -1 zurÃ¼ck, wenn die Liste das Element o nicht enthÃ¤lt. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),n.addMethod(new E("addAll",new O([{identifier:"c",type:gn(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!0,!1,"FÃ¼gt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new E("clear",new O([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!0,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new E("contains",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!0,!1,"Testet, ob die Collection das Element enthÃ¤lt.")),n.addMethod(new E("remove",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!0,!1,"Entfernt das Element o aus der Collection. Gibt true zurÃ¼ck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new E("isEmpty",new O([]),dt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!0,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("size",new O([]),lt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!0,!1,"Gibt die Anzahl der Elemente der Collection zurÃ¼ck.")),n.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,e),t}(Z),kn=function(){function e(t,n,i){mn(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.valueArray=[],this.objectArray=[]}var t,n,i;return t=e,(n=[{key:"allElementsPrimitive",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.valueArray[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!(o.type instanceof M||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive())return"["+this.objectArray.map((function(e){return""+e})).join(", ")+"]";for(var e={line:1,column:1,length:1},t=[{type:s.noOp,position:e,stepFinished:!1},{type:s.pushConstant,dataType:pt,value:"[",position:e,stepFinished:!1}],n=new O([]),i=0;i<this.valueArray.length;i++){var r=this.valueArray[i];null==r.value||r.type instanceof M||r.type instanceof ot?t.push({type:s.pushConstant,dataType:pt,value:null==r.value?"null":r.type.castTo(r,pt).value,position:e,stepFinished:!1}):(t.push({type:s.pushConstant,dataType:r.type,value:r.value,stepFinished:!1,position:e}),t.push({type:s.callMethod,method:r.type.getMethod("toString",n),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:e})),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}),i<this.valueArray.length-1&&(t.push({type:s.pushConstant,dataType:pt,value:", ",position:e,stepFinished:!1}),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}))}t.push({type:s.pushConstant,dataType:pt,value:"]",position:e,stepFinished:!1}),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}),t.push({type:s.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:e,methodWasInjected:!0});var o={module:this.module,statements:t,labelManager:null},a=new E("toString",new O([]),pt,o,!1,!1);return this.interpreter.runTimer(a,[],(function(){}),!0),""}},{key:"adAll",value:function(e){var t=e.intrinsicData.ListHelper;return null!=t&&(this.valueArray=this.valueArray.concat(t.valueArray),this.objectArray=this.objectArray.concat(t.objectArray)),!0}},{key:"get",value:function(e){return e>=0&&e<this.valueArray.length?this.valueArray[e]:(this.interpreter.throwException("Der ArrayList-Index ist auÃerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null)}},{key:"remove",value:function(e){return e>=0&&e<this.valueArray.length?(this.valueArray.splice(e,1),this.objectArray.splice(e,1),null):(this.interpreter.throwException("Der ArrayList-Index ist auÃerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null)}},{key:"add",value:function(e,t){return null==t?(this.valueArray.push(e),this.objectArray.push(e.value)):t<this.objectArray.length&&t>=0?(this.valueArray[t]=e,this.objectArray[t]=e.value):this.interpreter.throwException("Der ArrayList-Index ist auÃerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),!0}},{key:"pop",value:function(){return 0==this.objectArray.length?(this.interpreter.throwException("Der ArrayList-Index ist auÃerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null):(this.valueArray.pop(),this.objectArray.pop())}},{key:"peek",value:function(){return 0==this.objectArray.length?(this.interpreter.throwException("Der ArrayList-Index ist auÃerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null):this.objectArray[this.objectArray.length-1]}},{key:"indexOf",value:function(e){return this.objectArray.indexOf(e.value)}},{key:"size",value:function(){return this.objectArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"removeObject",value:function(e){var t=this.objectArray.indexOf(e.value);t>=0&&(this.objectArray.splice(t,1),this.valueArray.splice(t,1))}},{key:"contains",value:function(e){return this.objectArray.indexOf(e.value)>=0}},{key:"clear",value:function(){this.valueArray=[],this.objectArray=[]}},{key:"peek_last_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[this.objectArray.length-1]}},{key:"peek_first_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[0]}},{key:"removeLast_or_error",value:function(){return 0==this.objectArray.length?null:(this.valueArray.pop(),this.objectArray.pop())}},{key:"addLast",value:function(e){return this.valueArray.push(e),this.objectArray.push(e.value),!0}},{key:"addFirst",value:function(e){return this.valueArray.splice(0,0,e),this.objectArray.splice(0,0,e.value),!0}},{key:"removeFirstOccurrence",value:function(e){var t=this.objectArray.indexOf(e.value);return t>=0&&(this.valueArray.splice(t,1),this.objectArray.splice(t,1),!0)}},{key:"peek_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[this.objectArray.length-1]}},{key:"poll_or_null",value:function(){return 0==this.objectArray.length?null:(this.valueArray.pop(),this.objectArray.pop())}},{key:"removeFirst_or_error",value:function(){if(0!=this.objectArray.length){var e=this.objectArray[0];return this.objectArray.splice(0,1),this.valueArray.splice(0,1),e}this.interpreter.throwException("Der ArrayList-Index ist auÃerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". ")}}])&&yn(t.prototype,n),i&&yn(t,i),e}();function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tn=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=Pn(t).call(this,"Collection",e,"Interface fÃ¼r Listen, Maps, Sets usw. mit Methoden zum EinfÃ¼gen von Objekten, Zugriff auf Objekte und zur Ermittlung der Anzahl der Objekte"))||"object"!==Sn(r)&&"function"!=typeof r?xn(i):r;var o=e.typeStore.getType("Object"),a=o.clone();a.identifier="E",a.isTypeVariable=!0;var s={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Iterable").clone();return l.typeVariables=[s],n.extends.push(l),n.addMethod(new E("add",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"FÃ¼gt der Collection ein Element hinzu. Gibt genau dann true zurÃ¼ck, wenn sich der Zustand der Collection dadurch geÃ¤ndert hat.")),n.addMethod(new E("addAll",new O([{identifier:"c",type:xn(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"FÃ¼gt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new E("clear",new O([]),null,null,!0,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new E("contains",new O([{identifier:"o",type:o,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"Testet, ob die Collection das Element enthÃ¤lt.")),n.addMethod(new E("remove",new O([{identifier:"o",type:o,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"Entfernt das Element o aus der Collection. Gibt true zurÃ¼ck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new E("isEmpty",new O([]),dt,null,!0,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("size",new O([]),lt,null,!0,!1,"Gibt die Anzahl der Elemente der Collection zurÃ¼ck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,e),t}(X);function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=jn(this,En(t).call(this,"Iterable",e,"Interface mit FunktionalitÃ¤t zum iterieren (d.h. Durchlaufen aller Elemente)"));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};n.typeVariables.push(r);var o=e.typeStore.getType("Iterator").clone();return o.typeVariables=[r],n.addMethod(new E("iterator",new O([]),o,null,!0,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,e),t}(X);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=An(this,Fn(t).call(this,"Iterator",e));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};return n.typeVariables.push(r),n.addMethod(new E("hasNext",new O([]),dt,null,!0,!1,"Gibt genau dann true zurÃ¼ck, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),n.addMethod(new E("next",new O([]),i,null,!0,!1,"Gibt das nÃ¤chste Element der Collection zurÃ¼ck.")),n.addMethod(new E("remove",new O([]),null,null,!0,!1,"LÃ¶scht das letzte durch next zurÃ¼ckgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als nÃ¤chstes durch next zurÃ¼ckgegeben wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(t,e),t}(X);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $n=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Bn(this,Rn(t).call(this,"List",e,"Interface mit Methoden einer Liste (d.h. AnfÃ¼gen von Elementen nur am Ende)"));var i=e.typeStore.getType("Object"),r=e.typeStore.getType("Object").clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Collection").clone();return a.typeVariables=[o],n.extends.push(a),n.addMethod(new E("get",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),r,null,!0,!1,"Gibt das Element der Liste an der Stelle index zurÃ¼ck. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new E("remove",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new E("indexOf",new O([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),lt,null,!0,!1,"Gibt den Index des Elements o zurÃ¼ck. Gibt -1 zurÃ¼ck, wenn die Liste das Element o nicht enthÃ¤lt. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(t,e),t}(X);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Nn(this,Gn(t).call(this,"Stack",e,"Stack (Stapelspeicher)"));e.typeStore.getType("Object");var i=e.typeStore.getType("Vector");n.setBaseClass(i),n.typeVariables=i.typeVariables;var r=n.typeVariables[0].type;return n.addMethod(new E("push",new O([{identifier:"element",type:r,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n),n.value}),!1,!1,"Pushed ein Element oben auf den Stack. Gibt das gerade gepushte Element zurÃ¼ck.")),n.addMethod(new E("pop",new O([]),r,(function(e){return e[0].value.intrinsicData.ListHelper.pop()}),!1,!1,"Nimmt das oberste Element vom Stack und gibt es zurÃ¼ck.")),n.addMethod(new E("peek",new O([]),r,(function(e){return e[0].value.intrinsicData.ListHelper.peek()}),!1,!1,"Gibt das oberste Element des Stacks zurÃ¼ck, nimmt es aber nicht vom Stack herunter.")),n.addMethod(new E("empty",new O([]),dt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!0,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("search",new O([{identifier:"element",type:r,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1],i=t.intrinsicData.ListHelper,r=i.indexOf(n);return-1==r?r:i.objectArray.length-r}),!0,!1,"Gibt die Position des Objekts auf dem Stack zurÃ¼ck. Dabei hat das oberste Element den Index 1, das nÃ¤chstunterste den Index 2 usw. . Falls sich das Objekt nicht auf dem Stack befindet, wird -1 zurÃ¼ckgegeben.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,e),t}(Z);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=Un(t).call(this,"Vector",e,"Liste mit Zugriff auf das n-te Element in konstanter Zeit"))||"object"!==Kn(r)&&"function"!=typeof r?Zn(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("List").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new E("Vector",new O([]),null,(function(t){var n=t[0].value,i=new kn(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert ein neues Vector-Objekt",!0)),n.addMethod(new E("iterator",new O([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return hn.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck.")),n.addMethod(new E("add",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"FÃ¼gt der Liste ein Element hinzu. Gibt genau dann true zurÃ¼ck, wenn sich der Zustand der Liste dadurch geÃ¤ndert hat.")),n.addMethod(new E("get",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.get(n).value}),!1,!1,"Gibt das i-te Element der Liste zurÃ¼ck.")),n.addMethod(new E("remove",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.remove(n).value,null}),!1,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new E("indexOf",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.indexOf(n)}),!1,!1,"Gibt den Index des Elements o zurÃ¼ck. Gibt -1 zurÃ¼ck, wenn die Liste das Element o nicht enthÃ¤lt. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),n.addMethod(new E("addAll",new O([{identifier:"c",type:Zn(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"FÃ¼gt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new E("clear",new O([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new E("contains",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthÃ¤lt.")),n.addMethod(new E("remove",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurÃ¼ck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new E("isEmpty",new O([]),dt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("size",new O([]),lt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurÃ¼ck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,e),t}(Z);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ni=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Yn(this,ei(t).call(this,"Set",e,"Interface mit Methoden eines Set, d.h. einer Menge, die jedes Element maximal einmal enthÃ¤lt"));var i=e.typeStore.getType("Object"),r=e.typeStore.getType("Object").clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Collection").clone();return a.typeVariables=[o],n.extends.push(a),n.addMethod(new E("contains",new O([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"Gibt genau dann true zurÃ¼ck, wenn das Set das Objekt o enthÃ¤lt.")),n.addMethod(new E("containsAll",new O([{identifier:"c",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"Gibt genau dann true zurÃ¼ck, wenn das Set alle Elemente der Ã¼bergebenen Collection enthÃ¤lt.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(t,e),t}(X);function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){return!t||"object"!==ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function li(e,t,n){return t&&si(e.prototype,t),n&&si(e,n),e}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ci=function(e){function t(e){var n;ri(this,t),n=oi(this,ai(t).call(this,"SetIteratorImpl",e));var i=e.typeStore.getType("Object");n.setBaseClass(i);var r=i.clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[o],n.implements.push(a),n.addMethod(new E("hasNext",new O([]),dt,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.hasNext()}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),n.addMethod(new E("next",new O([]),r,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.next()}),!1,!1,"Gibt das nÃ¤chste Element der Collection zurÃ¼ck.")),n.addMethod(new E("remove",new O([]),null,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.remove()}),!1,!1,"LÃ¶scht das letzte durch next zurÃ¼ckgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als nÃ¤chstes durch next zurÃ¼ckgegeben wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(t,e),li(t,null,[{key:"getIterator",value:function(e,t,n,i){var r=n.typeStore.getType("SetIteratorImpl"),o=new A(r);return o.intrinsicData.SetIteratorHelper=new di(e,t,i),{value:o,type:r}}}]),t}(Z),di=function(){function e(t,n,i){switch(ri(this,e),this.MapHelper=t,this.interpreter=n,this.kind=i,i){case"ascending":this.nextPos=0;break;case"descending":this.nextPos=t.valueArray.length-1}}return li(e,[{key:"remove",value:function(){switch(this.kind){case"ascending":0==this.nextPos?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos>this.MapHelper.valueArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."):(this.MapHelper.removeObject(this.MapHelper.valueArray[this.nextPos-1].value),this.nextPos-=1);break;case"descending":this.nextPos==this.MapHelper.valueArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos<0?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."):(this.MapHelper.removeObject(this.MapHelper.valueArray[this.nextPos+1].value),this.nextPos+=1)}}},{key:"next",value:function(){switch(this.kind){case"ascending":return this.nextPos>this.MapHelper.valueArray.length-1?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."),null):this.MapHelper.valueArray[this.nextPos++];case"descending":return this.nextPos<0?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurÃ¼ckgegeben worden war."),null):this.MapHelper.valueArray[this.nextPos--]}}},{key:"hasNext",value:function(){switch(this.kind){case"ascending":return this.nextPos<this.MapHelper.valueArray.length;case"descending":return this.nextPos>=0}}}]),e}();function hi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pi=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.valueArray=[],this.map=new Map}var t,n,i;return t=e,(n=[{key:"allElementsPrimitive",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.valueArray[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!(o.type instanceof M||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive())return"["+this.valueArray.map((function(e){return""+e.value})).join(", ")+"]";for(var e={line:1,column:1,length:1},t=[{type:s.noOp,position:e,stepFinished:!1},{type:s.pushConstant,dataType:pt,value:"[",position:e,stepFinished:!1}],n=new O([]),i=0;i<this.valueArray.length;i++){var r=this.valueArray[i];r.type instanceof M||r.type instanceof ot?t.push({type:s.pushConstant,dataType:pt,value:r.type.castTo(r,pt).value,position:e,stepFinished:!1}):(t.push({type:s.pushConstant,dataType:r.type,value:r.value,stepFinished:!1,position:e}),t.push({type:s.callMethod,method:r.type.getMethod("toString",n),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:e})),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}),i<this.valueArray.length-1&&(t.push({type:s.pushConstant,dataType:pt,value:", ",position:e,stepFinished:!1}),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}))}t.push({type:s.pushConstant,dataType:pt,value:"]",position:e,stepFinished:!1}),t.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:e}),t.push({type:s.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:e,methodWasInjected:!0});var o={module:this.module,statements:t,labelManager:null},a=new E("toString",new O([]),pt,o,!1,!1);return this.interpreter.runTimer(a,[],(function(){return console.log("List.toString fertig!")}),!0),""}},{key:"adAll",value:function(e){var t=!1,n=e.intrinsicData.ListHelper;if(null!=n){var i=!0,r=!1,o=void 0;try{for(var a,s=n.valueArray[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t=t||this.addToSet(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return t}},{key:"addToSet",value:function(e){return!this.contains(e)&&(this.valueArray.push(e),this.map.set(e.value,!0),!0)}},{key:"size",value:function(){return this.valueArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"removeObject",value:function(e){if(null==this.map.get(e.value))return!1;for(var t=0;t<this.valueArray.length;t++)this.valueArray[t].value==e.value&&this.valueArray.splice(t,1);this.map.delete(e.value)}},{key:"contains",value:function(e){return null!=this.map.get(e.value)}},{key:"clear",value:function(){this.valueArray=[],this.map.clear()}}])&&hi(t.prototype,n),i&&hi(t,i),e}();function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vi(e,t){return(vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gi=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=yi(t).call(this,"HashSet",e,"Set mit Zugriffszeit proportional zu log(Anzahl der Elemente)"))||"object"!==fi(r)&&"function"!=typeof r?mi(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="E",a.isTypeVariable=!0;var s={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Set").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new E("HashSet",new O([]),null,(function(t){var n=t[0].value,i=new pi(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert ein neues HashSet",!0)),n.addMethod(new E("iterator",new O([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return ci.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck.")),n.addMethod(new E("add",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addToSet(n)}),!1,!1,"FÃ¼gt der Liste ein Element hinzu. Gibt genau dann true zurÃ¼ck, wenn sich der Zustand der Liste dadurch geÃ¤ndert hat.")),n.addMethod(new E("addAll",new O([{identifier:"c",type:mi(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"FÃ¼gt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new E("clear",new O([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new E("contains",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthÃ¤lt.")),n.addMethod(new E("remove",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurÃ¼ck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new E("isEmpty",new O([]),dt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("size",new O([]),lt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurÃ¼ck.")),n.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vi(e,t)}(t,e),t}(Z);function bi(e){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pi=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=wi(t).call(this,"LinkedHashSet",e,"Ein LinkedHashSet speichert jedes Element nur genau ein Mal."))||"object"!==bi(r)&&"function"!=typeof r?ki(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="E",a.isTypeVariable=!0;var s={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Set").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new E("LinkedHashSet",new O([]),null,(function(t){var n=t[0].value,i=new pi(n,e.main.getInterpreter(),e);n.intrinsicData.MapHelper=i}),!1,!1,"Instanziert ein neues LinkedHashSet",!0)),n.addMethod(new E("iterator",new O([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return ci.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck.")),n.addMethod(new E("add",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addToSet(n)}),!1,!1,"FÃ¼gt der Liste ein Element hinzu. Gibt genau dann true zurÃ¼ck, wenn sich der Zustand der Liste dadurch geÃ¤ndert hat.")),n.addMethod(new E("addAll",new O([{identifier:"c",type:ki(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"FÃ¼gt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new E("clear",new O([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new E("contains",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthÃ¤lt.")),n.addMethod(new E("remove",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurÃ¼ck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new E("isEmpty",new O([]),dt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("size",new O([]),lt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurÃ¼ck.")),n.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(t,e),t}(Z);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(e,t){return!t||"object"!==xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Ci(this,Ti(t).call(this,"Queue",e));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};n.typeVariables.push(r);var o=e.typeStore.getType("Collection").clone();return o.typeVariables=[r],n.extends.push(o),n.addMethod(new E("remove",new O([]),i,null,!0,!1,"Entfernt das Element am Kopf der Liste und gibt es zurÃ¼ck. FÃ¼hrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new E("poll",new O([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),i,null,!0,!1,"Entfernt das Element am Kopf der Liste und gibt es zurÃ¼ck. Gibt null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("peek",new O([]),i,null,!0,!1,"Gibt das Element am Kopf der Liste zurÃ¼ck, entfernt es aber nicht. Gib null zurÃ¼ck, wenn die Liste leer ist.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}(t,e),t}(X);function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){return!t||"object"!==Ei(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ai=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Oi(this,Di(t).call(this,"Deque",e,"Interface fÃ¼r Liste mit zweiseitigem Zugriff (insbesondere AnfÃ¼gen an beiden Enden)"));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};n.typeVariables.push(r);var o=e.typeStore.getType("Queue").clone();o.typeVariables=[r],n.extends.push(o),n.addMethod(new E("removeFirstOccurrence",new O([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"LÃ¶scht das Erste Vorkommen des Objekts. Gibt true zurÃ¼ck, wenn die Liste dadurch verÃ¤ndert wurde.")),n.addMethod(new E("removeLastOccurrence",new O([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"LÃ¶scht das Letzte Vorkommen des Objekts. Gibt true zurÃ¼ck, wenn die Liste dadurch verÃ¤ndert wurde.")),n.addMethod(new E("addFirst",new O([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"FÃ¼gt das Element am Anfang der Liste hinzu.")),n.addMethod(new E("addLast",new O([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"FÃ¼gt das Element am Ende der Liste hinzu.")),n.addMethod(new E("removeFirst",new O([]),i,null,!0,!1,"Entfernt das Element am Anfang der Liste und gibt es zurÃ¼ck. FÃ¼hrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new E("removeLast",new O([]),i,null,!0,!1,"Entfernt das Element am Ende der Liste und gibt es zurÃ¼ck. FÃ¼hrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new E("peekFirst",new O([]),i,null,!0,!1,"Gibt das Element am Anfang der Liste zurÃ¼ck, entfernt es aber nicht. Gib null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("peekLast",new O([]),i,null,!0,!1,"Gibt das Element am Ende der Liste zurÃ¼ck, entfernt es aber nicht. Gib null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("push",new O([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"FÃ¼gt das Element am Ende der Liste hinzu.")),n.addMethod(new E("pop",new O([]),i,null,!0,!1,"Gibt das Element am Ende der Liste zurÃ¼ck und entfernt es von der Liste. Erzeugt einen Fehler, wenn die Liste leer ist."));var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[r],n.addMethod(new E("descendingIterator",new O([]),a,null,!0,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck, der die Liste in umgekehrter Reihenfolge (Ende -> Anfang) durchlÃ¤uft.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(t,e),t}(X);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bi=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=Ii(t).call(this,"LinkedList",e,"Verkettete Liste"))||"object"!==Fi(r)&&"function"!=typeof r?zi(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Deque").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new E("LinkedList",new O([]),null,(function(t){var n=t[0].value,i=new kn(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert eine neue LinkedList",!0)),n.addMethod(new E("iterator",new O([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return hn.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck.")),n.addMethod(new E("descendingIterator",new O([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return hn.getIterator(n,n.interpreter,e,"descending").value}),!1,!1,"Gibt einen Iterator Ã¼ber die Elemente dieser Collection zurÃ¼ck, der die Liste in umgekehrter Reihenfolge durchlÃ¤uft (Ende -> Anfang).")),n.addMethod(new E("add",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"FÃ¼gt der Liste am Ende ein Element hinzu. Gibt genau dann true zurÃ¼ck, wenn sich der Zustand der Liste dadurch geÃ¤ndert hat.")),n.addMethod(new E("addAll",new O([{identifier:"c",type:zi(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"FÃ¼gt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new E("clear",new O([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new E("contains",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthÃ¤lt.")),n.addMethod(new E("remove",new O([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurÃ¼ck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new E("isEmpty",new O([]),dt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new E("size",new O([]),lt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurÃ¼ck.")),n.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n.addMethod(new E("remove",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.removeFirst_or_error()}),!1,!1,"Entfernt das Element am Kopf der Liste und gibt es zurÃ¼ck. FÃ¼hrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new E("poll",new O([]),a,(function(e){var t=e[0].value;e[1];return t.intrinsicData.ListHelper.poll_or_null()}),!1,!1,"Entfernt das Element am Kopf der Liste und gibt es zurÃ¼ck. Gibt null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("peek",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.peek_or_null()}),!1,!1,"Gibt das Element am Kopf der Liste zurÃ¼ck, entfernt es aber nicht. Gib null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("removeFirstOccurrence",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeFirstOccurrence(n)}),!1,!1,"LÃ¶scht das Erste Vorkommen des Objekts. Gibt true zurÃ¼ck, wenn die Liste dadurch verÃ¤ndert wurde.")),n.addMethod(new E("removeLastOccurrence",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeFirstOccurrence(n)}),!1,!1,"LÃ¶scht das Letzte Vorkommen des Objekts. Gibt true zurÃ¼ck, wenn die Liste dadurch verÃ¤ndert wurde.")),n.addMethod(new E("addFirst",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addFirst(n)}),!1,!1,"FÃ¼gt das Element am Anfang der Liste hinzu.")),n.addMethod(new E("addLast",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addLast(n)}),!1,!1,"FÃ¼gt das Element am Ende der Liste hinzu.")),n.addMethod(new E("removeFirst",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.removeFirst_or_error()}),!1,!1,"Entfernt das Element am Anfang der Liste und gibt es zurÃ¼ck. FÃ¼hrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new E("removeLast",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.removeLast_or_error()}),!1,!1,"Entfernt das Element am Ende der Liste und gibt es zurÃ¼ck. FÃ¼hrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new E("peekFirst",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.peek_first_or_null()}),!1,!1,"Gibt das Element am Anfang der Liste zurÃ¼ck, entfernt es aber nicht. Gib null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("peekLast",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.peek_last_or_null()}),!1,!1,"Gibt das Element am Ende der Liste zurÃ¼ck, entfernt es aber nicht. Gib null zurÃ¼ck, wenn die Liste leer ist.")),n.addMethod(new E("push",new O([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"FÃ¼gt das Element am Ende der Liste hinzu.")),n.addMethod(new E("pop",new O([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.pop()}),!1,!1,"Gibt das Element am Ende der Liste zurÃ¼ck und entfernt es von der Liste. Erzeugt einen Fehler, wenn die Liste leer ist.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(t,e),t}(Z);function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ni=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Wi(this,$i(t).call(this,"Console",e,"Klasse zur Textausgabe in der Konsole."))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new E("log",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!1}]),null,(function(t){var n;null===(n=e.main.getBottomDiv())||void 0===n||n.console.$consoleTab.find(".jo_console-top").append("<div>"+t[1].value+"</div>")}),!1,!0)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(t,e),t}(Z);function Gi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Hi=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$runDiv=t,this.main=n,this.color="",this.lastSpan="",this.maxLines=2e3,this.$lines=[],this.newLines=0,this.printCommands=[],this.currentLinelength=0,this.beginOfLineState=!0,jQuery((function(){i.$outputDiv=t.find(".jo_output"),i.clear();var e=i,n=0,r=!1,o=performance.now();setInterval((function(){e.printCommands.length>0&&(e.doPrinting(),performance.now()-o>200?e.$outputDiv[0].scrollTop=e.$outputDiv[0].scrollHeight:r=!0,o=performance.now()),n++%20==0&&r&&setTimeout((function(){e.$outputDiv[0].scrollTop=e.$outputDiv[0].scrollHeight,r=!1}),200)}),50)}))}var t,n,i;return t=e,(n=[{key:"getGraphicsDiv",value:function(){return this.$runDiv.find(".jo_graphics")}},{key:"showProgramEnd",value:function(){var e=this.$runDiv.find(".jo_run-programend");e.show(),e.addClass("jo_programendkf"),setTimeout((function(){e.removeClass("jo_programendkf"),e.hide()}),3e3)}},{key:"doPrinting",value:function(){if(this.newLines>=this.maxLines){this.$outputDiv.empty();for(var e=this.printCommands.length-1,t=0;e>=0;){if(this.printCommands[e].newLine&&++t>=this.maxLines){this.printCommands.splice(0,e+1);break}e--}}this.newLines=0,null!=this.$lastSpan&&(this.$lastSpan.remove(),this.lastSpan.endsWith("</span>")&&(this.lastSpan=this.lastSpan.substring(0,this.lastSpan.length-7)));var n=!0,i=!1,r=void 0;try{for(var o,a=this.printCommands[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(this.beginOfLineState&&s.text.startsWith(" ")?s.text.match(/^( *)(.*)$/)[2].length>0&&(this.beginOfLineState=!1):s.text.length>0&&(this.beginOfLineState=!1),s.text=s.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),null==s.color&&(s.color="var(--defaultOutputColor)"),""!=this.lastSpan&&this.color==s.color||(""!=this.lastSpan&&(this.lastSpan+="</span>"),this.lastSpan+='<span style="color: '+s.color+'">',s.newLine&&""==s.text&&(this.lastSpan+="â"),this.color=s.color),this.currentLinelength<=1e4&&(this.lastSpan+=s.text,this.currentLinelength+=s.text.length),s.newLine){this.beginOfLineState=!0,this.lastSpan.endsWith("</span>")||(this.lastSpan+="</span>"),this.$lastSpan=jQuery(this.lastSpan),this.$lastDiv.append(this.$lastSpan),this.lastSpan="",this.$lastSpan=null,this.$lastDiv=jQuery("<div></div>");var l=this.main.getInterpreter().inputManager.$input;null!=l?this.$lastDiv.insertBefore(l):this.$outputDiv.append(this.$lastDiv),this.$lines.push(this.$lastDiv),this.currentLinelength=0}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}if(""!=this.lastSpan&&(this.lastSpan.endsWith("</span>")||(this.lastSpan+="</span>"),this.$lastSpan=jQuery(this.lastSpan),this.$lastDiv.append(this.$lastSpan)),this.$lines.length>1.5*this.maxLines){var u=this.$lines.length-this.maxLines,c=this.$lines.splice(0,u),d=!0,h=!1,p=void 0;try{for(var f,y=c[Symbol.iterator]();!(d=(f=y.next()).done);d=!0)f.value.remove()}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}this.printCommands=[]}},{key:"clear",value:function(){this.$outputDiv.empty(),this.$lastDiv=jQuery("<div></div>"),this.$lines.push(this.$lastDiv),this.$outputDiv.append(this.$lastDiv),this.currentLinelength=0,this.color="",this.lastSpan="",this.printCommands=[]}},{key:"print",value:function(e,t){if(null!=e){if("number"==typeof t){for(t=t.toString(16);t.length<6;)t="0"+t;t="#"+t}if((e=e.toString()).indexOf("\n")>=0)for(var n=e.split("\n"),i=0;i<n.length;i++){var r=n[i],o=i<n.length-1;""==r&&i==n.length-1||(this.printCommands.push({text:r,color:t,newLine:o}),o&&this.newLines++)}else this.printCommands.push({text:e,color:t,newLine:!1})}}},{key:"println",value:function(e,t){null==e&&(e=""),this.print(e+"\n",t)}}])&&Gi(t.prototype,n),i&&Gi(t,i),e}();function Qi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ki=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$runDiv=t,this.main=n}var t,n,i;return t=e,(n=[{key:"readInput",value:function(e,t,n){var i=e.getReturnType(),r=t[1].value,o=3==t.length?t[2].value:null,a=this.main.getInterpreter().printManager;null!=r&&""!=r&&(a.beginOfLineState=!0,a.println("\n"+r),a.doPrinting()),this.$input=jQuery('<input class="jo_newInput" type="text"/>'),a.$outputDiv.append(this.$input);var s=null==o?"":o;this.$input.val(s);var l=this;this.$input.on("keydown",(function(e){"Enter"==e.key&&l.onSubmit(i,n)})),setTimeout((function(){l.$input.focus()}),200),a.$outputDiv.on("mousedown.inputmanager",(function(e){setTimeout((function(){l.$input.focus()}),200)}))}},{key:"onSubmit",value:function(e,t){var n=this.$input.val(),i=this.main.getInterpreter().printManager,r=this.parse(n,e);if(null!=r.error)return this.$input.detach(),i.println(r.error,"#ff0000"),i.doPrinting(),i.$outputDiv.append(this.$input),this.$input[0].scrollIntoView(),void this.$input.focus();i.$outputDiv.off("mousedown.inputmanager"),i.println(n),this.$input.off("keydown"),this.hide(),t(r.value)}},{key:"parse",value:function(e,t){if(t==pt)return{error:null,value:{value:e,type:t}};if(t==ft)return 0==e.length?{error:"Leere Eingabe. Erwartet wird ein Zeichen.",value:null}:e.length>1?{error:"Zu lange Eingabe. Erwartet wird ein Zeichen.",value:null}:{error:null,value:{value:e,type:t}};if(t==ft)return"true"!=e&&"false"!=e?{error:"Erwartet wird true oder false.",value:null}:{error:null,value:{value:"true"==e,type:t}};e=e.replace(",",".");var n=Number(e);return null==n?{error:"Erwartet wird eine Zahl.",value:null}:t==lt?n!=Math.round(n)?{error:"Erwartet wird eine ganze Zahl.",value:null}:{error:null,value:{value:Math.round(n),type:t}}:{error:null,value:{value:n,type:t}}}},{key:"hide",value:function(){null!=this.$input&&(this.$input.remove(),this.$input=null)}}])&&Qi(t.prototype,n),i&&Qi(t,i),e}();function Ui(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"openHelper",value:function(t,n,i){var r=jQuery(".jo_arrow_box");r.removeClass(["jo_arrow_box_left","jo_arrow_box_right","jo_arrow_box_top","jo_arrow_box_bottom"]),r.addClass("jo_arrow_box_"+i),r.css({left:"",right:"",top:"",bottom:""});var o=n.offset(),a=jQuery("body");switch(i){case"bottom":r.css({left:o.left+n.width()/2-34,bottom:a.height()-o.top+34});break;case"top":r.css({left:o.left+n.width()/2-34,top:o.top+n.height()+26});break;case"left":r.css({left:o.left+n.width()+34,top:o.top+n.height()/2-34});break;case"right":r.css({right:a.width()-o.left,top:o.top+n.height()/2-34})}r.find("span").html(t);var s=r.find(".jo_button");s.on("click",(function(t){t.stopPropagation(),s.off("click"),e.close()})),r.fadeIn(800)}},{key:"close",value:function(){jQuery(".jo_arrow_box").fadeOut(800)}},{key:"showHelper",value:function(t,n,i){var r;if(n instanceof mh){var o=(r=n).user.settings.helperHistory;"speedControlHelper"==t&&o.speedControlHelperDone&&(t="stepButtonHelper");var a=t+"Done";if(null!=o&&(null==o[a]||!o[a])){o[a]=!0,r.networkManager.sendUpdateUserSettings((function(){}));var s="",l="left";switch(t){case"repositoryButton":s='Wenn der aktuelle Workspace mit einem Repository verknÃ¼ft ist, erscheint hier der "Synchronisieren-Button". Ein Klick darauf Ã¶ffnet einen Dialog, in dem die Dateien des Workspace mit denen des Repositorys abgeglichen werden kÃ¶nnen.',l="top";break;case"speedControlHelper":s="Mit dem Geschwindigkeitsregler kÃ¶nnen  \n                            Sie einstellen, wie schnell das Programm ablÃ¤uft. \n                            Bei Geschwindigkeiten bis 10 Steps/s wird \n                            wÃ¤hrend des Programmablaufs der Programzeiger gezeigt\n                            und die Anzeige der Variablen auf der linken \n                            Seite stets aktualisiert.",l="top",i=r.interpreter.controlButtons.speedControl.$grip;break;case"newFileHelper":s="Es gibt noch keine Programmdatei im Workspace. <br> Nutzen Sie den Button \n                        <span class='img_add-file-dark jo_inline-image'></span> um eine Programmdatei anzulegen.\n                        ",l="left";break;case"newWorkspaceHelper":s="Es gibt noch keinen Workspace. <br> Nutzen Sie den Button\n                        <span class='img_add-workspace-dark jo_inline-image'></span> um einen Workspace anzulegen.\n                        ",l="left";break;case"homeButtonHelper":s="Mit dem Home-Button <span class='img_home-dark jo_inline-image'></span> kÃ¶nnen Sie wieder zu Ihren eigenen Workspaces wechseln.",l="top",i=jQuery(".img_home-dark");break;case"stepButtonHelper":s="Mit den Buttons \"Step over\"\n                        (<span class='img_step-over-dark jo_inline-image'></span>, Taste F8), \n                        \"Step into\" \n                        (<span class='img_step-into-dark jo_inline-image'></span>, Taste F7) und \n                        \"Step out\" \n                        (<span class='img_step-out-dark jo_inline-image'></span>, Taste F9)  \n                        kÃ¶nnen Sie das Programm schrittweise ausfÃ¼hren und sich nach jedem Schritt die Belegung der Variablen ansehen. <br>\n                        <ul><li><span class='img_step-over-dark jo_inline-image'></span> Step over fÃ¼hrt den nÃ¤chsten Schritt aus, insbesondere werden Methodenaufrufe in einem Schritt durchgefÃ¼hrt.</li>\n                        <li><span class='img_step-into-dark jo_inline-image'></span> Step into fÃ¼hrt auch den nÃ¤chsten Schritt aus, geht bei Methodenaufrufen aber in die Methode hinein und fÃ¼hrt auch die Anweisungen innerhalb der Methode schrittweise aus.</li>\n                        <li><span class='img_step-out-dark jo_inline-image'></span> Befindet sich die ProgrammausfÃ¼hrung innerhalb einer Methode, so bewirkt ein Klick auf Step out, dass der Rest der Methode ausgefÃ¼hrt wird und die ProgrammausfÃ¼hrung erst nach der Aufrufstelle der Methode anhÃ¤lt.</li>\n                        </ul>\n                        ",l="top",i=r.interpreter.controlButtons.$buttonStepOver;break;case"consoleHelper":s="\n                        Hier kÃ¶nnen Sie Anweisungen oder Terme eingeben, die nach BestÃ¤tigung mit der Enter-Taste ausgefÃ¼hrt/ausgewertet werden. Das Ergebnis sehen Sie im Bereich Ã¼ber der Eingabezeile. <br>\n                        Falls das Programm gerade pausiert (z.B. bei AusfÃ¼hrung in Einzelschritten) kÃ¶nnen Sie auch auf die Variablen des aktuellen Sichtbarkeitsbereiches zugreifen.\n                    ",l="bottom",i=r.bottomDiv.console.$consoleTab.find(".jo_monaco-editor")}""!=s&&null!=i&&i.length>0&&e.openHelper(s,i,l)}}}}],(n=null)&&Ui(t.prototype,n),i&&Ui(t,i),e}();function qi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Xi,Ji=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.pressedKeys={},this.keyPressedCallbacks=[],this.keyUpCallbacks=[],this.keyDownCallbacks=[],this.registerListeners(t)}var t,n,i;return t=e,(n=[{key:"unregisterListeners",value:function(){this.element.off("keydown"),this.element.off("keyup"),this.element.off("keypressed")}},{key:"registerListeners",value:function(e){var t=this;this.element=e;var n=this;e.on("keydown",(function(e){var i=e.key;if(null==i)return!0;e.shiftKey&&(i="shift+"+i),e.ctrlKey&&(i="ctrl"+i),e.altKey&&(i="alt"+i),n.pressedKeys[i.toLowerCase()]=!0;var r=!0,o=!1,a=void 0;try{for(var s,l=n.keyDownCallbacks[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)(0,s.value)(i)}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return t.main.isEmbedded()&&t.main.getInterpreter().state==Xi.running&&!t.main.getMonacoEditor().hasTextFocus()&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.key)>=0&&e.preventDefault(),!0})),e.on("keyup",(function(e){var t=e.key;if(null==t)return!0;if(void 0!==t){e.shiftKey&&(t="shift+"+t),e.ctrlKey&&(t="ctrl"+t),e.altKey&&(t="alt"+t),n.pressedKeys[t.toLowerCase()]=!1;var i=!0,r=!1,o=void 0;try{for(var a,s=n.keyUpCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)(0,a.value)(t)}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return!0}})),e.on("keypress",(function(e){var t=e.key;e.shiftKey&&t.length>1&&(t="[shift]+"+t),e.ctrlKey&&t.length>1&&(t="[ctrl]+"+t),e.altKey&&t.length>1&&(t="[alt]+"+t);var i=!0,r=!1,o=void 0;try{for(var a,s=n.keyPressedCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)(0,a.value)(t)}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return!0}))}},{key:"isPressed",value:function(e){return null==e?null:1==this.pressedKeys[e.toLowerCase()]}},{key:"unsubscribeAllListeners",value:function(){this.keyPressedCallbacks=[]}}])&&qi(t.prototype,n),i&&qi(t,i),e}();function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.not_initialized=0]="not_initialized",e[e.running=1]="running",e[e.paused=2]="paused",e[e.error=3]="error",e[e.done=4]="done",e[e.waitingForInput=5]="waitingForInput",e[e.waitingForTimersToEnd=6]="waitingForTimersToEnd"}(Xi||(Xi={}));var tr=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.debugger_=n,this.controlButtons=i,this.moduleStoreVersion=-100,this.stepsPerSecond=2,this.maxStepsPerSecond=1e6,this.timerDelayMs=10,this.programStack=[],this.stack=[],this.stackframes=[],this.heap={},this.timerStopped=!0,this.timerExtern=!1,this.steps=0,this.timeNetto=0,this.timeWhenProgramStarted=0,this.stepOverNestingLevel=0,this.leaveLine=-1,this.additionalStepFinishedFlag=!1,this.isFirstStatement=!0,this.showProgrampointerUptoStepsPerSecond=15,this.webSocketsToCloseAfterProgramHalt=[],this.actions=["start","pause","stop","stepOver","stepInto","stepOut","restart"],this.buttonActiveMatrix={start:[!1,!1,!0,!0,!0,!1],pause:[!1,!0,!1,!1,!1,!1],stop:[!1,!0,!0,!1,!1,!0],stepOver:[!1,!1,!0,!0,!0,!1],stepInto:[!1,!1,!0,!0,!0,!1],stepOut:[!1,!1,!0,!1,!1,!1],restart:[!1,!0,!0,!0,!0,!0]},this.timerEvents=0,this.lastStepTime=0,this.lastTimeBetweenEvents=0,this.lastPrintedModule=null,this.runningStates=[Xi.paused,Xi.running,Xi.waitingForInput],this.printManager=new Hi(r,this.main),this.inputManager=new Ki(r,this.main),t.isEmbedded()?this.keyboardTool=new Ji(jQuery("html"),t):this.keyboardTool=new Ji(jQuery(window),t),this.debugger=n,i.setInterpreter(this),this.timeWhenProgramStarted=performance.now(),this.steps=0,this.timeNetto=0,this.timerEvents=0,this.timerDelayMs=7;var o=this;this.timerId=setInterval((function(){o.timerExtern||o.timerFunction(o.timerDelayMs,!1,.7)}),this.timerDelayMs);var a=JSON.stringify({command:5});setInterval((function(){o.webSocketsToCloseAfterProgramHalt.forEach((function(e){return e.send(a)}))}),3e4)}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this,n=this.main.getActionManager(),i=function(){t.stepOverNestingLevel=1e6,t.start()},r=function(){t.pause()};n.registerAction("interpreter.start",["F4"],(function(){n.isActive("interpreter.start")?i():r()}),"Programm starten",this.controlButtons.$buttonStart),n.registerAction("interpreter.pause",["F4"],(function(){n.isActive("interpreter.start")?i():r()}),"Pause",this.controlButtons.$buttonPause),n.registerAction("interpreter.stop",[],(function(){t.stop(!1),t.steps=0}),"Programm anhalten",this.controlButtons.$buttonStop),n.registerAction("interpreter.stepOver",["F6"],(function(){e.oneStep(!1)}),"Einzelschritt (Step over)",this.controlButtons.$buttonStepOver),n.registerAction("interpreter.stepInto",["F7"],(function(){e.oneStep(!0)}),"Einzelschritt (Step into)",this.controlButtons.$buttonStepInto),n.registerAction("interpreter.stepOut",[],(function(){e.stepOut()}),"Step out",this.controlButtons.$buttonStepOut),n.registerAction("interpreter.restart",[],(function(){t.stop(!0)}),"Neu starten",this.controlButtons.$buttonRestart),this.setState(Xi.not_initialized)}},{key:"getStartableModule",value:function(e){var t,n=!1;if(null!=(t=this.main.getCurrentlyEditedModule())){var i=e.findModuleByFile(t.file);if(null!=i&&(n=!t.hasErrors()&&!i.isStartable,i.isStartable))return i}if(null!=this.mainModule&&n){var r=e.findModuleByFile(this.mainModule.file);if(null!=r&&r.isStartable)return r}if(n){var o=!0,a=!1,s=void 0;try{for(var l,u=e.getModules(!1)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.isStartable)return c}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}return null}},{key:"init",value:function(){var e,t,n,i;this.timerStopped=!0,this.main.getCurrentlyEditedModule().getBreakpointPositionsFromEditor(),null===(t=null===(e=this.main.getBottomDiv())||void 0===e?void 0:e.console)||void 0===t||t.clearExceptions(),this.moduleStoreVersion!=this.main.version&&this.main.getCompiler().atLeastOneModuleIsStartable&&(this.main.copyExecutableModuleStoreToInterpreter(),this.heap={},null===(i=null===(n=this.main.getBottomDiv())||void 0===n?void 0:n.console)||void 0===i||i.detachValues());var r=this.getStartableModule(this.moduleStore);if(null!=r){this.mainModule=r,this.currentProgramPosition=0,this.programStack=[],this.stack=[],this.stackframes=[],this.currentStackframe=0,this.setState(Xi.done),this.isFirstStatement=!0,this.stepOverNestingLevel=1e6,this.programStack.push({program:this.mainModule.mainProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Hauptprogramm",callbackAfterReturn:null,isCalledFromOutside:"Hauptprogramm"});var o=!0,a=!1,s=void 0;try{for(var l,u=this.moduleStore.getModules(!1)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this.initializeEnums(c),this.initializeClasses(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}this.popProgram()}else this.setState(Xi.not_initialized)}},{key:"popProgram",value:function(){var e=this.programStack.pop();if(this.currentProgram=e.program,this.currentProgramPosition=e.programPosition,this.currentMethod=e.method,this.currentCallbackAfterReturn=e.callbackAfterReturn,this.currentIsCalledFromOutside=e.isCalledFromOutside,null!=e.stackElementsToPushBeforeFirstExecuting){this.stackframes.push(null==this.currentStackframe?0:this.currentStackframe),this.currentStackframe=this.stack.length;var t=!0,n=!1,i=void 0;try{for(var r,o=e.stackElementsToPushBeforeFirstExecuting[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.stack.push(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}e.stackElementsToPushBeforeFirstExecuting=null}}},{key:"initializeClasses",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.typeStore.typeList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a instanceof Z&&(a.staticClass.classObject=new A(a.staticClass),a.staticClass.classObject.initializeAttributeValues(),a.pushStaticInitializationPrograms(this.programStack)),a instanceof $t){var s=a.staticClass.classObject.attributeValues.get(a.identifier),l=!0,u=!1,c=void 0;try{for(var d,h=a.enumInfoList[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s.get(p.identifier).value=p.object}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"initializeEnums",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.typeStore.typeList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a instanceof $t){a.pushStaticInitializationPrograms(this.programStack);var l=[],u={module:a.module,labelManager:null,statements:[]},c=a.attributeInitializationProgram.statements.length>0;c&&this.programStack.push({program:u,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Attribut-Initialisierung der Klasse "+a.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung eines Enums"});var d=!0,h=!1,p=void 0;try{for(var f,y=a.enumInfoList[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;m.object=new Wt(a,m),l.push({type:a,value:m.object}),null!=m.constructorCallProgram&&this.programStack.push({program:m.constructorCallProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Konstruktor von "+a.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung eines Enums"}),c&&u.statements.push({type:s.initializeEnumValue,position:m.position,enumClass:a,valueIdentifier:m.identifier})}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c&&u.statements.push({type:s.programEnd,position:{line:0,column:0,length:1}}),a.valueList={type:new jt(a),value:l}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"start",value:function(e){var t,n;null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.clearErrors(),this.callbackAfterExecution=e,this.isFirstStatement=!0,this.state!=Xi.error&&this.state!=Xi.done||(this.init(),this.resetRuntime()),this.setState(Xi.running),this.hideProgrampointerPosition(),this.timeWhenProgramStarted=performance.now(),this.timerStopped=!1}},{key:"timerFunction",value:function(e,t,n){var i=performance.now();if(!t){var r=1e3/this.stepsPerSecond;if(this.timerStopped||i-this.lastStepTime<r)return;this.lastStepTime=i}this.lastTimeBetweenEvents=i-this.lastStepTime;var o,a=t?Number.MAX_SAFE_INTEGER:this.stepsPerSecond*this.timerDelayMs/1e3;this.timerEvents++;for(var l=0;l<a&&!this.timerStopped&&null==o&&(performance.now()-i)/e<n&&null==(o=this.nextStep());){if(this.stepsPerSecond<=this.showProgrampointerUptoStepsPerSecond&&!t&&this.showProgramPointerAndVariables(),this.state!=Xi.error&&this.state!=Xi.done||(this.timerStopped=!0),this.stepOverNestingLevel<0&&!this.timerStopped){var u=this.currentProgram.statements[this.currentProgramPosition].position;null!=u&&u.line==this.leaveLine||(this.timerStopped=!0,this.setState(Xi.paused),this.comesStatement(s.closeStackframe)&&null==(o=this.nextStep())&&this.comesStatement(s.programEnd)&&(o=this.nextStep()))}l++}null!=o&&this.throwException(o),this.timerStopped&&(this.state==Xi.paused&&this.showProgramPointerAndVariables(),null!=this.callbackAfterExecution&&(this.callbackAfterExecution(),this.callbackAfterExecution=null));var c=performance.now()-i;this.timeNetto+=c}},{key:"throwException",value:function(e){var t,n,i,r=this;this.timerStopped=!0,this.setState(Xi.error);var o=jQuery('<div class="jo_exception"></div>'),a=!0;if(this.main.isEmbedded()){var s=this.main.config;if(1!=s.withBottomPanel&&1!=s.withConsole){a=!1;var l="",u=this.currentProgram.statements[this.currentProgramPosition];if(null!=u){var c=null==u?void 0:u.position;l=" in Zeile "+c.line+", Spalte "+c.column,null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.showError(this.currentProgram.module,c)}alert("Fehler"+l+": "+e)}}if(a){o.append(jQuery("<span class='jo_error-caption'>Fehler:</span>&nbsp;"+e+"<br>")),this.pushCurrentProgram();for(var d=!0,h=function(e){var t=r.programStack[e],n=t.method instanceof E?t.method.identifier:t.method,i="<span class='jo_error-caption'>"+(d?"Ort":"aufgerufen von")+": </span>"+n;null!=t.textPosition&&(i+=" <span class='jo_runtimeErrorPosition'>(Z "+t.textPosition.line+", S "+t.textPosition.column+")</span>"),i+="<br>";var a=jQuery(i);if(null!=t.textPosition){var s=r;jQuery(a[2]).on("mousedown",(function(){var e,n;null===(n=null===(e=s.main.getBottomDiv())||void 0===e?void 0:e.console)||void 0===n||n.showError(t.program.module,t.textPosition)}))}if(o.append(a),d=!1,null!=t.isCalledFromOutside)return"break"},p=this.programStack.length-1;p>=0&&"break"!==h(p);p--);var f=null===(i=this.main.getBottomDiv())||void 0===i?void 0:i.console;null!=f&&(f.writeConsoleEntry(o,null,"rgba(255, 0, 0, 0.4"),f.showTab())}}},{key:"hideProgrampointerPosition",value:function(){this.state==Xi.running&&this.stepsPerSecond>this.showProgrampointerUptoStepsPerSecond&&this.main.hideProgramPointerPosition()}},{key:"comesStatement",value:function(e){return null!=this.currentProgram&&!(this.currentProgramPosition>this.currentProgram.statements.length-1)&&this.currentProgram.statements[this.currentProgramPosition].type==e}},{key:"resetRuntime",value:function(){var e,t;this.printManager.clear(),null===(e=this.worldHelper)||void 0===e||e.destroyWorld(),null===(t=this.processingHelper)||void 0===t||t.destroyWorld()}},{key:"stop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inputManager.hide(),this.pause(),null!=this.worldHelper&&(this.worldHelper.spriteAnimations=[]),setTimeout((function(){e.setState(Xi.done),e.main.hideProgramPointerPosition(),t&&e.start()}),500)}},{key:"pause",value:function(){this.setState(Xi.paused),this.timerStopped=!0}},{key:"showProgramPointerAndVariables",value:function(){if(null!=this.currentProgram){var e=this.currentProgram.statements[this.currentProgramPosition];if(null!=e){var t=e.position;null!=t&&(this.main.showProgramPointerPosition(this.currentProgram.module.file,t),this.debugger.showData(this.currentProgram,t,this.stack,this.currentStackframe,this.heap),null!=this.main.getBottomDiv().programPrinter&&(this.currentProgram.module!=this.lastPrintedModule&&(this.main.getBottomDiv().printModuleToBottomDiv(null,this.currentProgram.module),this.lastPrintedModule=this.currentProgram.module),this.main.getBottomDiv().programPrinter.showNode(e)))}}}},{key:"stepOut",value:function(){this.stepOverNestingLevel=0,this.start()}},{key:"oneStep",value:function(e){var t,n;if(null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.clearErrors(),this.isFirstStatement=!0,this.state!=Xi.paused){if(this.init(),this.state==Xi.not_initialized)return;this.resetRuntime(),this.showProgramPointerAndVariables(),this.setState(Xi.paused)}else{this.stepOverNestingLevel=1e4;var i=this.stepOverNestingLevel,r=this.currentProgram.statements[this.currentProgramPosition].position,o=this.nextStep();if(null!=o)return void this.throwException(o);!e&&this.stepOverNestingLevel>i?(this.stepOverNestingLevel=0,this.leaveLine=null!=r?r.line:-1,this.start()):this.state==Xi.done?this.main.hideProgramPointerPosition():(this.showProgramPointerAndVariables(),this.state!=Xi.waitingForInput&&this.setState(Xi.paused))}}},{key:"nextStep",value:function(){for(var e,t,n=!1;!n&&!this.additionalStepFinishedFlag&&null==t;){if(this.currentProgramPosition>this.currentProgram.statements.length-1){this.setState(Xi.done);break}null!=(e=this.currentProgram.statements[this.currentProgramPosition]).stepFinished&&(n=e.stepFinished),t=this.executeNode(e)}return this.additionalStepFinishedFlag=!1,this.steps++,t}},{key:"executeNode",value:function(e){var t,n,i=this;if(null!=e.breakpoint&&!this.isFirstStatement)return this.additionalStepFinishedFlag=!0,void this.pause();this.isFirstStatement=!1;var r,o=this.stack.length-1,a=this.currentStackframe,l=this.stack;switch(e.type){case s.castValue:var u=null==e.stackPosRelative?0:e.stackPosRelative;r=l[o+u],l[o+u]=r.type.castTo(r,e.newType);break;case s.checkCast:if(null==(r=l[o]).value)break;var c=r.value;if(e.newType instanceof Z)if("object"==Yi(c)){if(!c.class.hasAncestorOrIs(e.newType))return"Das Objekt der Klasse "+c.class.identifier+" kann nicht nach "+e.newType.identifier+" gecastet werden."}else{if("number"==typeof c&&["Integer","Double","Float"].indexOf(e.newType.identifier)<0)return"Eine Zahl kann nicht nach "+e.newType.identifier+" gecastet werden.";if("string"==typeof c&&["String","Character"].indexOf(e.newType.identifier)<0)return"Eine Zeichenkette kann nicht nach "+e.newType.identifier+" gecastet werden.";if("boolean"==typeof c&&"Boolean"!=e.newType.identifier)return"Ein boolescher Wert kann nicht nach "+e.newType.identifier+" gecastet werden."}else if(e.newType instanceof X&&!c.class.implementsInterface(e.newType))return"Das Objekt der Klasse "+c.class.identifier+" implementiert nicht das Interface "+e.newType.identifier+".";break;case s.localVariableDeclaration:var d=e.variable,h=d.type;r={type:h,value:null},h instanceof M&&(r.value=h.initialValue),l[d.stackPos+a]=r,e.pushOnTopOfStackForInitialization&&l.push(r);break;case s.pushLocalVariableToStack:l.push(l[e.stackposOfVariable+a]);break;case s.popAndStoreIntoVariable:l[e.stackposOfVariable+a]=l.pop();break;case s.pushAttribute:var p=e.useThisObject?l[a].value:l.pop().value;if(null==p)return"Zugriff auf ein Attribut ("+e.attributeIdentifier+") des null-Objekts";var f=p.getValue(e.attributeIdentifier);null!=(null==f?void 0:f.updateValue)&&f.updateValue(f),l.push(f);break;case s.pushArrayLength:var y=l.pop().value;if(null==y)return"Zugriff auf das length-Attribut des null-Objekts";l.push({type:lt,value:y.length});break;case s.assignment:r=l.pop(),l[o-1].value=r.value,e.leaveValueOnStack||l.pop();break;case s.plusAssignment:r=l.pop(),l[o-1].value+=r.value;break;case s.minusAssignment:r=l.pop(),l[o-1].value-=r.value;break;case s.multiplicationAssignment:r=l.pop(),l[o-1].value*=r.value;break;case s.divisionAssignment:r=l.pop(),l[o-1].value/=r.value;break;case s.moduloAssignment:r=l.pop(),l[o-1].value%=r.value;break;case s.binaryOp:var m=l.pop(),v=e.leftType.compute(e.operator,l[o-1],m),g=e.leftType.getResultType(e.operator,m.type);l[o-1]={type:g,value:v};break;case s.unaryOp:var b=l.pop();e.operator==s.minus?l.push({type:b.type,value:-b.value}):l.push({type:b.type,value:!b.value});break;case s.pushConstant:l.push({value:e.value,type:e.dataType});break;case s.pushStaticClassObject:e.klass instanceof Z?l.push({type:e.klass.staticClass,value:e.klass.staticClass.classObject}):l.push({type:e.klass,value:e.klass});break;case s.pushStaticAttribute:null!=(r=e.klass.classObject.getValue(e.attributeIdentifier)).updateValue&&r.updateValue(r),l.push(r);break;case s.selectArrayElement:var w=l.pop(),k=l.pop();if(null==k.value)return"Zugriff auf ein Element eines null-Feldes";if(w.value>=k.value.length||w.value<0)return"Zugriff auf das Element mit Index "+w.value+" eines Feldes der LÃ¤nge "+k.value.length;l.push(k.value[w.value]);break;case s.callMainMethod:this.stack.push({value:e.staticClass.classObject,type:e.staticClass});var S={value:[{value:"Test",type:pt}],type:new jt(pt)},P=o+2;this.stack.push(S),this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=P,this.currentProgram=e.method.program,this.currentMethod=e.method,this.currentProgramPosition=-1;for(var x=0;x<e.method.reserveStackForLocalVariables;x++)l.push(null);break;case s.makeEllipsisArray:var C=l.splice(l.length-e.parameterCount,e.parameterCount);l.push({value:C,type:e.arrayType});break;case s.callMethod:for(var T=e.method,j=o+1+e.stackframeBegin,E=T.parameterlist.parameters,O=j+1;O<=o;O++)null!=this.stack[O]&&this.stack[O].type instanceof M&&(l[O]={type:E[O-j-1].type,value:l[O].value});if(null==l[j].value&&!T.isStatic)return"Aufruf der Methode "+T.identifier+" des null-Objekts";if((T.isAbstract||T.isVirtual&&!e.isSuperCall)&&(T=l[j].value.class.getMethodBySignature(T.signature)),null==T)break;if(null!=T.invoke){var D=T.getReturnType(),_=l.splice(j),F=T.invoke(_);null!=D&&l.push({value:F,type:D})}else{this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=j,this.currentProgram=T.program,this.currentMethod=T,this.currentProgramPosition=-1;for(var I=0;I<T.reserveStackForLocalVariables;I++)l.push(null);this.stepOverNestingLevel++,this.additionalStepFinishedFlag=!0}break;case s.callInputMethod:var z=e.method,L=o+1+e.stackframeBegin,B=l.splice(L);this.timerStopped=!0;var R=this.state;this.setState(Xi.waitingForInput),this.showProgramPointerAndVariables();var W=this;this.inputManager.readInput(z,B,(function(e){l.push(e),i.main.hideProgramPointerPosition(),W.setState(Xi.paused),R==Xi.running?W.start():W.showProgramPointerAndVariables()}));break;case s.return:this.return(e,l);break;case s.decreaseStackpointer:l.splice(o+1-e.popCount);break;case s.initStackframe:this.stackframes.push(this.currentStackframe),this.currentStackframe=o+1;for(var $=0;$<e.reserveForLocalVariables;$++)l.push(null);break;case s.closeStackframe:l.splice(a),this.currentStackframe=this.stackframes.pop();break;case s.newObject:var V=new A(e.class);V.initializeAttributeValues(),r={value:V,type:e.class},l.push(r),e.subsequentConstructorCall&&(l.push(r),o++);for(var N=e.class;null!=N;){var G=N.attributeInitializationProgram;G.statements.length>0&&(this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=o+1,this.currentProgram=G,this.currentProgramPosition=-1,this.currentMethod="Konstruktor von "+N.identifier,this.stepOverNestingLevel++,this.additionalStepFinishedFlag=!0),N=N.baseClass}break;case s.processPostConstructorCallbacks:var H=(r=l[o]).type,Q=!0,K=!1,U=void 0;try{for(var q,J=H.getPostConstructorCallbacks()[Symbol.iterator]();!(Q=(q=J.next()).done);Q=!0)(0,q.value)(r.value)}catch(e){K=!0,U=e}finally{try{Q||null==J.return||J.return()}finally{if(K)throw U}}break;case s.extendedForLoopInit:l[e.stackPosOfCounter+a]={type:lt,value:0};break;case s.extendedForLoopCheckCounterAndGetElement:var Y=l[e.stackPosOfCounter+a].value++,ee=l[e.stackPosOfCollection+a].value;switch(e.kind){case"array":Y<ee.length?(l[e.stackPosOfElement+a].value=ee[Y].value,l[e.stackPosOfElement+a].type=ee[Y].type):this.currentProgramPosition=e.destination-1;break;case"internalList":var te=ee.intrinsicData.ListHelper.valueArray;Y<te.length?(l[e.stackPosOfElement+a].value=te[Y].value,l[e.stackPosOfElement+a].type=te[Y].type):this.currentProgramPosition=e.destination-1;break;case"group":var ne=ee.intrinsicData.Actor.shapes;Y<ne.length?(l[e.stackPosOfElement+a].value=ne[Y],l[e.stackPosOfElement+a].type=ne[Y].klass):this.currentProgramPosition=e.destination-1}break;case s.incrementDecrementBefore:(r=l[o]).value+=e.incrementDecrementBy;break;case s.incrementDecrementAfter:r=l[o],l[o]={value:r.value,type:r.type},r.value+=e.incrementDecrementBy;break;case s.jumpAlways:this.currentProgramPosition=e.destination-1;break;case s.jumpIfTrue:(r=l.pop()).value&&(this.currentProgramPosition=e.destination-1);break;case s.jumpIfFalse:(r=l.pop()).value||(this.currentProgramPosition=e.destination-1);break;case s.jumpIfTrueAndLeaveOnStack:(r=l[o]).value&&(this.currentProgramPosition=e.destination-1);break;case s.jumpIfFalseAndLeaveOnStack:(r=l[o]).value||(this.currentProgramPosition=e.destination-1);break;case s.noOp:break;case s.programEnd:if(this.programStack.length>0){this.popProgram(),this.currentProgramPosition--,this.additionalStepFinishedFlag=!0,this.leaveLine=-1,e.pauseAfterProgramEnd&&(this.stepOverNestingLevel=-1);break}if(null!=this.worldHelper&&this.worldHelper.actActors.length>0||null!=this.processingHelper){this.currentProgramPosition--;break}if(this.main.getCurrentWorkspace().moduleStore.getModule("Base Module").typeStore.getType("Timer").timerEntries.length>0){this.currentProgramPosition--;break}if(this.setState(Xi.done),this.currentProgram=null,this.currentProgramPosition=-1,this.additionalStepFinishedFlag=!0,Zi.showHelper("speedControlHelper",this.main),this.printManager.showProgramEnd(),null!=this.worldHelper&&(this.worldHelper.spriteAnimations=[]),this.main.hideProgramPointerPosition(),this.steps>0){var ie=performance.now()-this.timeWhenProgramStarted,re="Executed "+this.steps+" steps in "+this.round(ie)+" ms ("+this.round(this.steps/ie*1e3)+" steps/s)";null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.writeConsoleEntry(re,null),this.steps=-1}this.currentProgramPosition--;break;case s.print:case s.println:var oe=null,ae=null;e.withColor&&(ae=l.pop().value),e.empty||(oe=l.pop().value),e.type==s.println?this.printManager.println(oe,ae):this.printManager.print(oe,ae);break;case s.pushEmptyArray:for(var se=[],le=0;le<e.dimension;le++)se.push(l.pop().value);l.push(this.makeEmptyArray(se,e.arrayType));break;case s.beginArray:l.push({type:e.arrayType,value:[]});break;case s.addToArray:o-=e.numberOfElementsToAdd;var ue=l.splice(o+1,e.numberOfElementsToAdd);l[o].value=l[o].value.concat(ue);break;case s.pushEnumValue:var ce=e.enumClass.identifierToInfoMap[e.valueIdentifier];l.push(e.enumClass.valueList.value[ce.ordinal]);break;case s.keywordSwitch:var de=l.pop().value,he=e.destinationMap[de];null!=he?this.currentProgramPosition=he-1:null!=e.defaultDestination&&(this.currentProgramPosition=e.defaultDestination-1);break;case s.heapVariableDeclaration:var pe=e.variable;this.heap[pe.identifier]=pe,pe.value={type:pe.type,value:pe.type instanceof M?pe.type.initialValue:null},e.pushOnTopOfStackForInitialization&&this.stack.push(pe.value);break;case s.pushFromHeapToStack:var fe=this.heap[e.identifier];if(null==fe)return"Die Variable "+e.identifier+" ist nicht bekannt.";this.stack.push(fe.value);break;case s.returnIfDestroyed:var ye=this.stack[a].value;null!=ye&&1==ye.intrinsicData.Actor.isDestroyed&&this.return(null,l)}this.currentProgramPosition++}},{key:"return",value:function(e,t){var n=this.currentCallbackAfterReturn;if(null!=e&&e.copyReturnValueToStackframePos0){var i=t.pop();t[this.currentStackframe]=i,t.splice(this.currentStackframe+1)}else t.splice(this.currentStackframe+(null!=e&&e.leaveThisObjectOnStack?1:0));this.currentStackframe=this.stackframes.pop(),this.popProgram(),null!=e&&1==e.methodWasInjected&&this.currentProgramPosition++,this.currentProgramPosition--,this.stepOverNestingLevel--,null!=n&&n(this)}},{key:"makeEmptyArray",value:function(e,t){var n=t.arrayOfType;if(1==e.length){for(var i=[],r=0;r<e[0];r++){var o={type:n,value:null};n instanceof M&&(o.value=n.initialValue),i.push(o)}return{type:t,value:i}}for(var a=[],s=e.pop(),l=0;l<s;l++)a.push(this.makeEmptyArray(e,n));return{type:t,value:a}}},{key:"round",value:function(e){return""+Math.round(1e4*e)/1e4}},{key:"setState",value:function(e){var t=this.state;this.state=e,e!=Xi.error&&e!=Xi.done||(this.webSocketsToCloseAfterProgramHalt.forEach((function(e){return e.close()})),this.webSocketsToCloseAfterProgramHalt=[]);var n=this.main.getActionManager(),i=!0,r=!1,o=void 0;try{for(var a,s=this.actions[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.setActive("interpreter."+l,this.buttonActiveMatrix[l][e])}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.buttonActiveMatrix.start[e]?(this.controlButtons.$buttonStart.show(),this.controlButtons.$buttonPause.hide()):(this.controlButtons.$buttonStart.hide(),this.controlButtons.$buttonPause.show()),this.buttonActiveMatrix.stop[e]||null!=this.worldHelper&&this.worldHelper.clearActorLists(),this.runningStates.indexOf(t)>=0&&this.runningStates.indexOf(e)<0&&(this.debugger.disable(),this.keyboardTool.unsubscribeAllListeners()),this.runningStates.indexOf(t)<0&&this.runningStates.indexOf(e)>=0&&this.debugger.enable()}},{key:"pushCurrentProgram",value:function(){if(null!=this.currentProgram){var e,t=this.currentProgram.statements[this.currentProgramPosition];null!=t&&(e=t.position),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition,textPosition:e,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:this.currentIsCalledFromOutside}),this.currentCallbackAfterReturn=null,this.currentIsCalledFromOutside=null}}},{key:"runTimer",value:function(e,t,n,i){if(this.state==Xi.running){var r=e.program.statements;i||0==this.programStack.length?(this.pushCurrentProgram(),this.currentProgram=e.program,this.currentMethod=e,this.currentProgramPosition=0,this.currentCallbackAfterReturn=n,this.currentIsCalledFromOutside="Timer",this.stackframes.push(this.currentStackframe),this.currentStackframe=this.stack.length,this.stack=this.stack.concat(t),r[r.length-1].type==s.return&&this.stepOverNestingLevel++):(this.programStack.splice(1,0,{program:e.program,programPosition:0,textPosition:{line:0,column:0,length:0},method:e,callbackAfterReturn:n,isCalledFromOutside:"Timer",stackElementsToPushBeforeFirstExecuting:t}),r[r.length-1].type==s.return&&this.stepOverNestingLevel++)}}},{key:"evaluate",value:function(e){this.pushCurrentProgram(),this.currentProgram=e,this.currentProgramPosition=0;var t,n,i=this.stack.length,r=this.state,o=this.stepOverNestingLevel,a=this.additionalStepFinishedFlag,s=(this.currentStackframe,0);try{for(;null==t&&(this.currentProgram!=e||this.currentProgramPosition<this.currentProgram.statements.length)&&s<1e5;)t=this.nextStep(),s++}catch(e){t="Fehler bei der Auswertung"}if(this.currentProgram==e&&this.programStack.length>0&&this.popProgram(),this.stack.length>i)for(n=this.stack.pop();this.stack.length>i;)this.stack.pop();return this.stepOverNestingLevel=o,this.additionalStepFinishedFlag=a,this.setState(r),{error:t,value:n}}},{key:"executeImmediatelyInNewStackframe",value:function(e,t){this.pushCurrentProgram(),this.currentProgram=e;var n=this.currentProgramPosition;this.currentProgramPosition=0;var i=this.stackframes.length;this.stackframes.push(this.currentStackframe);var r=this.stack.length;this.currentStackframe=r;var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this.stack.push(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d,h=this.state,p=this.stepOverNestingLevel,f=this.additionalStepFinishedFlag,y=0,m=null;try{for(;this.stackframes.length>i&&y<1e5&&null==m;){var v=this.currentProgram.statements[this.currentProgramPosition];m=this.executeNode(v),y++}}catch(e){m="Fehler bei der Auswertung"}if(1e5==y&&this.throwException("Die AusfÃ¼hrung des Konstruktors dauerte zu lange."),this.stack.length>r)for(d=this.stack.pop();this.stack.length>r;)this.stack.pop();return this.stepOverNestingLevel=p,this.additionalStepFinishedFlag=f,this.currentProgramPosition=n,this.setState(h),{error:m,value:d}}},{key:"instantiateObjectImmediately",value:function(e){var t=new A(e);t.initializeAttributeValues();for(var n={value:t,type:e},i=e;null!=i;){var r=i.attributeInitializationProgram;r.statements.length>0&&this.executeImmediatelyInNewStackframe(r,[n]),i=i.baseClass}var o=e.getMethodBySignature(e.identifier+"()");return null!=o&&null!=o.program&&this.executeImmediatelyInNewStackframe(o.program,[n]),t}}])&&er(t.prototype,n),i&&er(t,i),e}();function nr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"intColorToHexRGB",value:function(e){if(null==e)return"---";for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t}},{key:"intColorToRGB",value:function(e){return null==e?"---":"rgb("+((16711680&e)>>16)+", "+((65280&e)>>8)+", "+(255&e)+")"}},{key:"parseColorToOpenGL",value:function(e){if(null==e)return{color:null,alpha:1};var t=this.predefinedColors[e];if(null!=t)return{color:t,alpha:1};var n=e.match(/^#([0-9a-f]{6})$/i);if(n&&n.length>1){var i=n[1];if(i)return{color:65536*parseInt(i.substr(0,2),16)+256*parseInt(i.substr(2,2),16)+parseInt(i.substr(4,2),16),alpha:1}}var r=e.match(/^#([0-9a-f]{8})$/i);if(r&&r.length>1){var o=r[1];if(o)return{color:65536*parseInt(o.substr(0,2),16)+256*parseInt(o.substr(2,2),16)+parseInt(o.substr(4,2),16),alpha:parseInt(o.substr(6,2),16)/255}}var a=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);return a?{color:65536*parseInt(a[1])+256*parseInt(a[2])+parseInt(a[3]),alpha:1}:(a=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+\.?\d+)\s*\)$/i))?{color:65536*parseInt(a[1])+256*parseInt(a[2])+parseInt(a[3]),alpha:parseFloat(a[4])}:{color:16711680,alpha:1}}}],(n=null)&&nr(t.prototype,n),i&&nr(t,i),e}();function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sr(e,t,n){return t&&ar(e.prototype,t),n&&ar(e,n),e}function lr(e,t){return!t||"object"!==rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ir.predefinedColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedAlmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grau:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,"indianred ":13458524,"indigo ":4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldLace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,sand:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};var dr=function(e){function t(e){var n;or(this,t),(n=lr(this,ur(t).call(this,"World",e,"Grafische ZeichenflÃ¤che mit Koordinatensystem"))).module=e,n.setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("Group"),r=e.typeStore.getType("MouseListener");return n.addMethod(new E("World",new O([{identifier:"breite",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hÃ¶he",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,i=e[1].value,r=e[2].value,o=n.getWorldHelper(t,i,r);t.intrinsicData.World=o}),!1,!1,"Legt einen neuen Grafikbereich (='Welt') an",!0)),n.addMethod(new E("World",new O([]),null,(function(e){var t=e[0].value,i=n.getWorldHelper(t);t.intrinsicData.World=i}),!1,!1,"Legt einen neuen Grafikbereich (='Welt') an. Das Koordinatensystem geht von 0 bis 800 in x-Richtung und von 0 - 600 in y-Richtung.",!0)),n.addMethod(new E("setBackgroundColor",new O([{identifier:"colorAsRGBAString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.setBackgroundColor(n)}),!1,!1,'Setzt die Hintergrundfarbe. Die Farbe ist entweder eine vordefinierte Farbe ("schwarz", "rot", ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new E("move",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.World,o=(new PIXI.Matrix).copyFrom(r.stage.localTransform);r.stage.localTransform.identity(),r.stage.localTransform.translate(n,i),r.stage.localTransform.prepend(o),r.stage.transform.onChange()}),!1,!1,"Verschiebt alle Objekte der Welt um x nach rechts und y nach unten.",!1)),n.addMethod(new E("rotate",new O([{identifier:"angleInDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.World,a=(new PIXI.Matrix).copyFrom(o.stage.localTransform);o.stage.localTransform.identity(),o.stage.localTransform.translate(-i,-r),o.stage.localTransform.rotate(-n/180*Math.PI),o.stage.localTransform.translate(i,r),o.stage.localTransform.prepend(a),o.stage.transform.onChange()}),!1,!1,"Rotiert die Welt um den angegebenen Winkel im Urzeigersinn. Drehpunkt ist der Punkt (x/y).",!1)),n.addMethod(new E("scale",new O([{identifier:"factor",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.World,a=(new PIXI.Matrix).copyFrom(o.stage.localTransform);o.stage.localTransform.identity(),o.stage.localTransform.translate(-i,-r),o.stage.localTransform.scale(n,n),o.stage.localTransform.translate(i,r),o.stage.localTransform.prepend(a),o.stage.transform.onChange()}),!1,!1,"Streckt die Welt um den angegebenen Faktor. Zentrum der Streckung ist (x/y).",!1)),n.addMethod(new E("setCoordinateSystem",new O([{identifier:"left",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.World;a.stage.localTransform.identity(),a.stage.localTransform.translate(-n,-i),a.stage.localTransform.scale(a.initialWidth/r,a.initialHeight/o),a.stage.transform.onChange()}),!1,!1,"Streckt die Welt um den angegebenen Faktor. Zentrum der Streckung ist (x/y).",!1)),n.addMethod(new E("setDefaultGroup",new O([{identifier:"group",type:i,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.defaultGroup=null==n?null:n.intrinsicData.Actor}),!1,!1,"Legt eine Gruppe fest, zu der ab jetzt alle neuen Objekte automatisch hinzugefÃ¼gt werden. Falls null angegeben wird, werden neue Objekte zu keiner Gruppe automatisch hinzugefÃ¼gt.",!1)),n.addMethod(new E("addMouseListener",new O([{identifier:"listener",type:r,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.addMouseListener(n)}),!1,!1,"FÃ¼gt einen neuen MouseListener hinzu, dessen Methoden bei Mausereignissen aufgerufen werden.",!1)),n.addMethod(new E("getWidth",new O([]),lt,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.width)}),!1,!1,'Gibt die "Breite" des Grafikbereichs zurÃ¼ck, genauer: die x-Koordinate am rechten Rand.',!1)),n.addMethod(new E("getHeight",new O([]),lt,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.height)}),!1,!1,'Gibt die "HÃ¶he" des Grafikbereichs zurÃ¼ck, genauer: die y-Koordinate am unteren Rand.',!1)),n.addMethod(new E("setCursor",new O([{identifier:"cursor",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.World,n=e[1].value;t.setCursor(n)}),!1,!1,"Ãndert die Form des Mauscursors im gesamten Grafikbereich. MÃ¶giche Werte: siehe https://developer.mozilla.org/de/docs/Web/CSS/cursor.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(t,e),sr(t,[{key:"getWorldHelper",value:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,s=null===(i=null===(n=null===(t=this.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter())||void 0===i?void 0:i.worldHelper;if(null!=s){if(s.width!=o||s.height!=a){var l=Math.round(a/o*100);s.$containerOuter.css("padding-bottom",l+"%"),s.stage.localTransform.scale(s.width/o,s.height/a),s.width=o,s.height=a,s.stage.transform.onChange(),null===(r=this.module.main.getRightDiv())||void 0===r||r.adjustWidthToWorld()}return s}return new hr(o,a,this.module,e)}}]),t}(Z),hr=function(){function e(t,n,i,r){var o,a,s,l=this;or(this,e),this.width=t,this.height=n,this.module=i,this.world=r,this.actActors=[],this.keyPressedActors=[],this.keyUpActors=[],this.keyDownActors=[],this.actorHelpersToDestroy=[],this.mouseListenerShapes=[],this.mouseListeners=[],this.actorsFinished=!0,this.summedDelta=0,this.scaledTextures={},this.actorsNotFinished=0,this.ticks=0,this.deltaSum=0,this.spriteAnimations=[],PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST,this.initialHeight=n,this.initialWidth=t,this.interpreter=null===(a=null===(o=this.module)||void 0===o?void 0:o.main)||void 0===a?void 0:a.getInterpreter(),null!=this.interpreter.processingHelper&&this.interpreter.throwException("Die herkÃ¶mmliche Grafikausgabe kann nicht zusammen mit Processing genutzt werden."),null!=this.interpreter.worldHelper&&this.interpreter.throwException("Es darf nur ein World-Objekt instanziert werden."),this.interpreter.worldHelper=this,this.$containerOuter=jQuery("<div></div>");var u=this.module.main.getInterpreter().printManager.getGraphicsDiv(),c=function(){var e=u.parents(".jo_tabs"),i=e.width(),r=e.height();n/t>r/i?u.css({width:t/n*r+"px",height:r+"px"}):u.css({height:n/t*i+"px",width:i+"px"})};u.off("sizeChanged"),u.on("sizeChanged",c),c(),this.$containerInner=jQuery("<div></div>"),this.$containerOuter.append(this.$containerInner),u.append(this.$containerOuter),u.show(),u[0].oncontextmenu=function(e){e.preventDefault()},PIXI.settings.TARGET_FPMS=.03,this.app=new PIXI.Application({antialias:!0,width:t,height:n});var d=this;this.tickerFunction=function(e){d.tick(PIXI.Ticker.shared.elapsedMS)},this.app.ticker.add(this.tickerFunction),this.app.ticker.maxFPS=30,this.interpreter.timerExtern=!0,this.stage=new PIXI.Container,this.app.stage.addChild(this.stage),this.$containerInner.append(this.app.view),this.interpreter.keyboardTool.keyPressedCallbacks.push((function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=d.keyPressedActors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;d.runActorWhenKeyEvent(a,e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}})),this.interpreter.keyboardTool.keyUpCallbacks.push((function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=d.keyUpActors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;d.runActorWhenKeyEvent(a,e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}})),this.interpreter.keyboardTool.keyDownCallbacks.push((function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=d.keyDownActors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;d.runActorWhenKeyEvent(a,e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}));for(var h=function(){var e=f[p];l.$containerInner.on(e,(function(i){var r=t*i.offsetX/l.$containerInner.width(),o=n*i.offsetY/l.$containerInner.height(),a=new PIXI.Point(r,o);l.stage.localTransform.applyInverse(a,a),r=a.x,o=a.y,d.onMouseEvent(e,r,o,i.button);var s=!0,u=!1,c=void 0;try{for(var h,p=l.mouseListeners[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var f=h.value;null!=f.types[e]&&l.invokeMouseListener(f,e,r,o,i.button)}}catch(e){u=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}}))},p=0,f=["mouseup","mousedown","mousemove","mouseenter","mouseleave"];p<f.length;p++)h();null===(s=this.module.main.getRightDiv())||void 0===s||s.adjustWidthToWorld()}return sr(e,[{key:"clearActorLists",value:function(){this.actActors=[],this.keyPressedActors=[],this.keyUpActors=[],this.keyDownActors=[]}},{key:"setCursor",value:function(e){this.$containerInner.css("cursor",e)}},{key:"tick",value:function(e){var t;this.summedDelta+=e;var n=!0,i=!1,r=void 0;try{for(var o,a=this.spriteAnimations[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.tick(e)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}if(null!=this.interpreter)switch(this.interpreter.state){case Xi.running:if(!this.actorsFinished){this.actorsNotFinished++;break}var s=!0,l=!0,u=!1,c=void 0;try{for(var d,h=this.actActors[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=p.actorHelper;if(!f.timerPaused&&!f.isDestroyed){var y=null===(t=p.method)||void 0===t?void 0:t.program;this.runActor(s,p,this.summedDelta),null==y||p.actorHelper.isDestroyed||(s=!1,this.actorsFinished=!1)}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}break;case Xi.done:case Xi.error:case Xi.not_initialized:this.clearActorLists()}for(this.summedDelta=0,this.interpreter.state==Xi.running&&(this.actActors.length>0?(this.interpreter.timerFunction(33.33,!0,.5),this.interpreter.timerStopped=!1,this.interpreter.timerFunction(33.33,!1,.08)):this.interpreter.timerFunction(33.33,!1,.7));this.actorHelpersToDestroy.length>0;){for(var m=this.actorHelpersToDestroy.pop(),v=0,g=[this.keyPressedActors,this.keyUpActors,this.keyDownActors];v<g.length;v++)for(var b=g[v],w=0;w<b.length;w++)b[w].actorHelper===m&&(b.splice(w,1),w--);for(var k=0;k<this.mouseListenerShapes.length;k++)this.mouseListenerShapes[k].shapeHelper===m&&(this.mouseListenerShapes.splice(k,1),k--);for(var S=0;S<this.actActors.length;S++)this.actActors[S].actorHelper===m&&(this.actActors.splice(S,1),S--);var P=m.displayObject;null!=P&&(P.destroy(),m.displayObject=null)}}},{key:"setBackgroundColor",value:function(e){var t=ir.parseColorToOpenGL(e);this.app.renderer.backgroundColor=t.color}},{key:"runActorWhenKeyEvent",value:function(e,t){var n,i,r=null===(n=e.method)||void 0===n?void 0:n.program,o=null===(i=e.method)||void 0===i?void 0:i.invoke,a=e.actorHelper.runtimeObject,s=[{type:a.class,value:a},{type:pt,value:t}];null!=r?this.interpreter.runTimer(e.method,s,null,!1):null!=o&&o([])}},{key:"runActor",value:function(e,t,n){var i,r,o=null===(i=t.method)||void 0===i?void 0:i.program,a=null===(r=t.method)||void 0===r?void 0:r.invoke,s=t.actorHelper.runtimeObject,l=[{type:s.class,value:s}];t.method.getParameterCount()>0&&l.push({type:ct,value:n});var u=this;null!=o?this.interpreter.runTimer(t.method,l,e?function(e){u.actorsFinished=!0,e.timerStopped=!0}:null,!0):null!=a&&a([])}},{key:"destroyWorld",value:function(){for(var e=0,t=["mouseup","mousedown","mousemove","mouseenter","mouseleave"];e<t.length;e++){var n=t[e];this.$containerInner.off(n)}this.spriteAnimations=[],this.app.ticker.remove(this.tickerFunction),this.app.destroy(),this.$containerOuter.remove(),this.module.main.getInterpreter().printManager.getGraphicsDiv().hide(),this.interpreter.timerExtern=!1,this.interpreter.worldHelper=null}},{key:"onMouseEvent",value:function(e,t,n,i){var r=this;switch(e){case"mousedown":case"mouseup":var o=!0,a=!1,s=void 0;try{for(var l,u=this.mouseListenerShapes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=c.shapeHelper;null!=c.types[e]&&(d.containsPoint(t,n)||d.trackMouseMove)&&this.invokeShapeMouseListener(c,e,t,n,i)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}break;case"mouseenter":var h=!0,p=!1,f=void 0;try{for(var y,m=function(){var o=y.value,a=o.shapeHelper;null!=o.types[e]&&a.containsPoint(t,n)&&!a.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(o,e,t,n,i,(function(){a.mouseLastSeenInsideObject=!0}))},v=this.mouseListenerShapes[Symbol.iterator]();!(h=(y=v.next()).done);h=!0)m()}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}break;case"mouseleave":var g=!0,b=!1,w=void 0;try{for(var k,S=function(){var o=k.value,a=o.shapeHelper;null!=o.types[e]&&a.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(o,e,t,n,i,(function(){a.mouseLastSeenInsideObject=!1}))},P=this.mouseListenerShapes[Symbol.iterator]();!(g=(k=P.next()).done);g=!0)S()}catch(e){b=!0,w=e}finally{try{g||null==P.return||P.return()}finally{if(b)throw w}}break;case"mousemove":var x=!0,C=!1,T=void 0;try{for(var M,j=function(){var e=M.value,o=e.shapeHelper;if(null!=e.types.mousemove||null!=e.types.mouseenter&&!o.mouseLastSeenInsideObject||null!=e.types.mouseleave&&o.mouseLastSeenInsideObject){var a=o.containsPoint(t,n);(o.trackMouseMove||a)&&null!=e.types.mousemove&&r.invokeShapeMouseListener(e,"mousemove",t,n,i),a&&null!=e.types.mouseenter&&!o.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(e,"mouseenter",t,n,i,(function(){o.mouseLastSeenInsideObject=!0})),!a&&null!=e.types.mouseleave&&o.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(e,"mouseleave",t,n,i,(function(){o.mouseLastSeenInsideObject=!1}))}},E=this.mouseListenerShapes[Symbol.iterator]();!(x=(M=E.next()).done);x=!0)j()}catch(e){C=!0,T=e}finally{try{x||null==E.return||E.return()}finally{if(C)throw T}}}}},{key:"invokeShapeMouseListener",value:function(e,t,n,i,r,o){if(e.shapeHelper.reactToMouseEventsWhenInvisible||e.shapeHelper.displayObject.visible){var a=e.methods[t],s=a.program,l=a.invoke,u=e.shapeHelper.runtimeObject,c=[{type:u.class,value:u},{type:ct,value:n},{type:ct,value:i}];"mousemove"!=t&&"mouseenter"!=t&&"mouseleave"!=t&&c.push({type:lt,value:r}),null!=s?this.interpreter.runTimer(a,c,o,!1):null!=l&&l([])}}},{key:"addMouseListener",value:function(e){for(var t=null,n=0,i=[{identifier:"MouseUp",signature:"(double, double, int)"},{identifier:"MouseDown",signature:"(double, double, int)"},{identifier:"MouseMove",signature:"(double, double)"},{identifier:"MouseEnter",signature:"(double, double)"},{identifier:"MouseLeave",signature:"(double, double)"}];n<i.length;n++){var r=i[n],o=e.class.getMethodBySignature("on"+r.identifier+r.signature);(null!=(null==o?void 0:o.program)&&o.program.statements.length>2||null!=(null==o?void 0:o.invoke))&&(null==t&&(t={listener:e,types:{},methods:{}},this.mouseListeners.push(t)),t.types[r.identifier.toLowerCase()]=!0,t.methods[r.identifier.toLowerCase()]=o)}}},{key:"invokeMouseListener",value:function(e,t,n,i,r,o){var a=e.methods[t],s=a.program,l=a.invoke,u=e.listener,c=[{type:u.class,value:u},{type:ct,value:n},{type:ct,value:i}];"mousemove"!=t&&"mouseenter"!=t&&"mouseleave"!=t&&c.push({type:lt,value:r}),null!=s?this.interpreter.runTimer(a,c,o,!1):null!=l&&l([])}}]),e}();function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mr(e,t,n){return t&&yr(e.prototype,t),n&&yr(e,n),e}function vr(e,t){return!t||"object"!==pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wr=function(e){function t(e){var n;fr(this,t),(n=vr(this,gr(t).call(this,"Actor",e,"Abstrakte Klasse mit Ã¼berschreibbaren Methoden act (zur Implemntierung eines Timers) und onKeyTyped, onKeyUp usw. zur entgegennahme von Tastaturereignissen"))).setBaseClass(e.typeStore.getType("Object")),n.isAbstract=!0;var i=[{signature:"onKeyTyped(String)",actorListIdentifier:"keyPressedActors"},{signature:"onKeyUp(String)",actorListIdentifier:"keyUpActors"},{signature:"onKeyDown(String)",actorListIdentifier:"keyDownActors"},{signature:"act()",actorListIdentifier:"actActors"},{signature:"act(double)",actorListIdentifier:"actActors"}];return n.postConstructorCallbacks=[function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=e.class.getMethodBySignature(s.signature);if(null!=(null==l?void 0:l.program)||null!=(null==l?void 0:l.invoke)){var u=e.intrinsicData.Actor;u.worldHelper[s.actorListIdentifier].push({actorHelper:u,method:l})}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}],n.addMethod(new E("Actor",new O([]),null,(function(t){var n=t[0].value,i=new kr(e.main.getInterpreter(),n);n.intrinsicData.Actor=i}),!1,!1,"Der Konstruktor registriert den Actor beim Grafikfenster",!0)),n.addMethod(new E("destroy",new O([]),null,(function(e){e[0].value.intrinsicData.Actor.destroy()}),!1,!1,"Vernichtet das Grafikobjekt. Falls es in einem Group-Objekt enthalten ist, wird es vor dem Vernichten automatisch aus diesem entfernt.",!1)),n.addMethod(new E("isKeyUp",new O([{identifier:"key",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return!t.intrinsicData.Actor.isKeyDown(n)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Benutzer die gegebenen Taste gerade NICHT drÃ¼ckt. Als Taste kann auch bsw. [shift]+m angegeben werden. Die Angabe von Sondertasten (Enter, ArrowUp, ArrowLeft, ...) ist auch mÃ¶glich.",!1)),n.addMethod(new E("isKeyDown",new O([{identifier:"key",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Actor.isKeyDown(n)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn der Benutzer die gegebenen Taste gerade drÃ¼ckt. Als Taste kann auch bsw. [shift]+m angegeben werden. Die Angabe von Sondertasten (Enter, ArrowUp, ArrowLeft, ...) ist auch mÃ¶glich.",!1)),n.addMethod(new E("isDestroyed",new O([]),dt,(function(e){return e[0].value.intrinsicData.Actor.isDestroyed}),!1,!1,"Gibt true zurÃ¼ck, falls das Objekt bereits durch die Methode destroy() zerstÃ¶rt wurde.",!1)),n.addMethod(new E("getWorld",new O([]),e.typeStore.getType("World"),(function(e){return e[0].value.intrinsicData.Actor.worldHelper.world}),!1,!1,"Gibt das Welt-Objekt zurÃ¼ck.",!1)),n.addMethod(new E("stopActing",new O([]),st,(function(e){e[0].value.intrinsicData.Actor.setTimerPaused(!0)}),!1,!1,"Stoppt den 30-mal pro Sekunde erfolgenden Aufruf der Methode act fÃ¼r dieses Objekt.",!1)),n.addMethod(new E("restartActing",new O([]),st,(function(e){e[0].value.intrinsicData.Actor.setTimerPaused(!1)}),!1,!1,"Startet den 30-mal pro Sekunde erfolgenden Aufruf der Methode act fÃ¼r dieses Objekt erneut.",!1)),n.addMethod(new E("isActing",new O([]),dt,(function(e){return!e[0].value.intrinsicData.Actor.timerPaused}),!1,!1,"Gibt true zurÃ¼ck, wenn der periodische Aufruf der Methode act weiterhin erfolgt.",!1)),n.addMethod(new E("act",new O([{identifier:"deltaTime",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird ca. 30-mal pro Sekunde aufgerufen",!1)),n.addMethod(new E("act",new O([]),null,null,!1,!1,"Wird ca. 30-mal pro Sekunde aufgerufen",!1)),n.addMethod(new E("onKeyTyped",new O([{identifier:"key",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste gedrÃ¼ckt und wieder losgelassen hat.",!1)),n.addMethod(new E("onKeyDown",new O([{identifier:"key",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste gedrÃ¼ckt hat.",!1)),n.addMethod(new E("onKeyUp",new O([{identifier:"key",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste losgelassen hat.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,e),mr(t,[{key:"registerWorldType",value:function(){this.methods.filter((function(e){return"getWorld"==e.identifier}))[0].returnType=this.module.typeStore.getType("World")}}]),t}(Z),kr=function(){function e(t,n){fr(this,e),this.runtimeObject=n,this.isDestroyed=!1,this.timerPaused=!1;var i=t.worldHelper;if(null==i){var r=new A(t.moduleStore.getType("World").type);i=new hr(800,600,t.moduleStore.getModule("Base Module"),r),r.intrinsicData.World=i}this.worldHelper=i}return mr(e,[{key:"setTimerPaused",value:function(e){this.timerPaused=e}},{key:"isKeyDown",value:function(e){return this.worldHelper.interpreter.keyboardTool.isPressed(e)}},{key:"destroy",value:function(){this.isDestroyed=!0,this.worldHelper.actorHelpersToDestroy.push(this)}}]),e}();function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){return!t||"object"!==Sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pr(this,xr(t).call(this,"Alignment",e,[{type:s.pushEnumValue,position:null,identifier:"left"},{type:s.pushEnumValue,position:null,identifier:"center"},{type:s.pushEnumValue,position:null,identifier:"right"},{type:s.pushEnumValue,position:null,identifier:"top"},{type:s.pushEnumValue,position:null,identifier:"bottom"}]))).documentation="MÃ¶gliche Ausrichtungen",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(t,e),t}($t);function Mr(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}function jr(e,t){for(var n=!1,i=e.length,r=0;r<=i-1;r++){var o=r%i,a=(r-1)%i;a<0&&(a+=i),e[o].y>t.y!=e[a].y>t.y&&t.x<(e[a].x-e[o].x)*(t.y-e[o].y)/(e[a].y-e[o].y)+e[o].x&&(n=!n)}return n}function Er(e,t){for(var n=0;n<e.length;n++)if(jr(t,e[n]))return!0;for(var i=0;i<t.length;i++)if(jr(e,t[i]))return!0;return!1}function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _r(e,t,n){return(_r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ir(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?zr(e):t}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rr=function(e){function t(e){var n;Ar(this,t),(n=Fr(this,Ir(t).call(this,"Shape",e,"Basisklasse fÃ¼r alle graphischen Objekte die verschoben, skaliert und gedreht werden kÃ¶nnen"))).setBaseClass(e.typeStore.getType("Actor")),n.isAbstract=!0;var i=e.typeStore.getType("Shape");new jt(i);return n.addAttribute(new j("angle",ct,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.angle}),!1,I.protected,!0,"Richtung")),n.addAttribute(new j("centerX",ct,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.getCenterX()}),!1,I.protected,!0,"X-Koordinate des Diagonalenschnittpunkts der BoundingBox des Objekts")),n.addAttribute(new j("centerY",ct,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.getCenterY()}),!1,I.protected,!0,"Y-Koordinate des Diagonalenschnittpunkts der BoundingBox des Objekts")),n.addMethod(new E("move",new O([{identifier:"dx",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dy",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("move")||r.move(n,i)}),!1,!1,"Verschiebt das Grafikobjekt um dx Pixel nach rechts und um dy Pixel nach unten.",!1)),n.addMethod(new E("rotate",new O([{identifier:"angleInDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerX",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerY",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("rotate")||o.rotate(n,i,r)}),!1,!1,"Dreht das Grafikobjekt um den angegebenen Winkel. Drehpunkt ist (centerX, centerY).",!1)),n.addMethod(new E("rotate",new O([{identifier:"angleInDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("rotate")||i.rotate(n)}),!1,!1,"Dreht das Grafikobjekt um den angegebenen Winkel. Drehpunkt ist der 'Mittelpunkt' des Objekts",!1)),n.addMethod(new E("scale",new O([{identifier:"factor",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerX",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerY",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("scale")||o.scale(n,i,r)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der Punkt (centerX, centerY)",!1)),n.addMethod(new E("scale",new O([{identifier:"factor",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("scale")||i.scale(n)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der 'Mittelpunkt' des Objekts.",!1)),n.addMethod(new E("isOutsideView",new O([]),dt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("isOutsideView"))return t.isOutsideView()}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn sich die Bounding Box des Objekts auÃerhalb des sichtbaren Bereichs befindet. ",!1)),n.addMethod(new E("getCenterX",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getCenterX"))return t.getCenterX()}),!1,!1,"Gibt die x-Koordinate des 'Mittelpunkts' zurÃ¼ck. Der 'Mittelpunkt' des Grafikobjekts ist der Diagonalenschnittpunkt seiner achsenparallelen Bounding-Box.",!1)),n.addMethod(new E("getCenterY",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getCenterY"))return t.getCenterY()}),!1,!1,"Gibt die y-Koordinate des 'Mittelpunkts' zurÃ¼ck. Der 'Mittelpunkt' des Grafikobjekts ist der Diagonalenschnittpunkt seiner achsenparallelen Bounding-Box.",!1)),n.addMethod(new E("getAngle",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getAngle"))return t.angle}),!1,!1,"Gibt den Winkel des Grafikobjekts in Grad zurÃ¼ck. Winkel == 0 bedeutet: dieselbe Richtung wie zum Zeipunkt der Instanzierung des Objekts. Positive Winkelzunahme bedeutet Rechtsdrehung.",!1)),n.addMethod(new E("containsPoint",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;if(!r.testdestroyed("containsPoint"))return r.containsPoint(n,i)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn das Grafikobjekt den Punkt (x, y) enthÃ¤lt.",!1)),n.addMethod(new E("collidesWith",new O([{identifier:"object",type:zr(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(t){var n=t[0].value,i=t[1].value;null==i&&e.main.getInterpreter().throwException("Der zweite Parameter der Methode collidesWith darf nicht null sein.");var r=n.intrinsicData.Actor,o=i.intrinsicData.Actor;if(!r.testdestroyed("collidesWith"))return r.collidesWith(o)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn das Grafikobjekt und das andere Grafikobjekt kollidieren.",!1)),n.addMethod(new E("setCenter",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("setCenter")||t.move(n-t.getCenterX(),i-t.getCenterY())}),!1,!1,"Verschiebt das Grafikobjekt so, dass sich sein 'Mittelpunkt' an den angegebenen Koordinaten befindet.",!1)),n.addMethod(new E("setAngle",new O([{identifier:"angleDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setAngle")||t.rotate(n-t.angle)}),!1,!1,"Dreht das Objekt zur angegebenen Richtung.",!1)),n.addMethod(new E("setVisible",new O([{identifier:"visible",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setVisible")||t.setVisible(n)}),!1,!1,"Macht das Grafikobjekt sichtbar (visible == true) bzw. unsichtbar (visible == false).",!1)),n.addMethod(new E("onMouseEnter",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil in das Objekt hineinbewegt.",!1)),n.addMethod(new E("onMouseLeave",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil in das Objekt hineinbewegt.",!1)),n.addMethod(new E("onMouseDown",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"key",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil Ã¼ber dem Objekt befindet und der Benutzer eine Maustaste nach unten drÃ¼ckt.",!1)),n.addMethod(new E("onMouseUp",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"key",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil Ã¼ber dem Objekt befindet und der Benutzer eine Maustaste loslÃ¤sst.",!1)),n.addMethod(new E("onMouseMove",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil Ã¼ber dem Objekt befindet und bewegt.",!1)),n.addMethod(new E("tint",new O([{identifier:"colorAsRGBAString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"Ãberzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht.",!1)),n.addMethod(new E("startTrackingEveryMouseMovement",new O([]),st,(function(e){e[0].value.intrinsicData.Actor.trackMouseMove=!0}),!1,!1,'Sorgt dafÃ¼r, dass ab jetzt JEDE Bewegung des Mauszeigers (auch wenn sich dieser auÃerhalb des Objekts befindet) ein MouseMove-Ereignis fÃ¼r dieses Objekt auslÃ¶st. -> Praktisch zur Umsetzung des "Ziehens" von Objekten mit der Maus!',!1)),n.addMethod(new E("stopTrackingEveryMouseMovement",new O([]),st,(function(e){e[0].value.intrinsicData.Actor.trackMouseMove=!1}),!1,!1,'Sorgt dafÃ¼r, dass ab jetzt nur noch dann Bewegungen des Mauszeigers ein MouseMove-Ereignis fÃ¼r dieses Objekt auslÃ¶sen, wenn sich der Mauszeiger Ã¼ber dem Objekt befindet. -> Praktisch zur Umsetzung des "Ziehens" von Objekten mit der Maus!',!1)),n.addMethod(new E("reactToMouseEventsWhenInvisible",new O([{identifier:"react",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.reactToMouseEventsWhenInvisible=n}),!1,!1,"Legt fest, ob das Objekt auf Mausevents (buttondown, mouse move, ...) reagiert, wenn es unsichtbar ist.",!1)),n.addMethod(new E("tint",new O([{identifier:"colorAsRGBAString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"Ãberzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht.",!1)),n.addMethod(new E("copy",new O([]),zr(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Grafikobjekts und git sie zurÃ¼ck.",!1)),n.addMethod(new E("bringToFront",new O([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("bringToFront"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),n.addMethod(new E("sendToBack",new O([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("sendToBack"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),n}return Lr(t,e),t}(Z),Wr=function(e){function t(e,n){var i;Ar(this,t),(i=Fr(this,Ir(t).call(this,e,n))).angle=0,i.hitPolygonInitial=null,i.hitPolygonTransformed=null,i.hitPolygonDirty=!0,i.reactToMouseEventsWhenInvisible=!1,i.mouseLastSeenInsideObject=!1,i.trackMouseMove=!1;for(var r=null,o=0,a=[{identifier:"MouseUp",signature:"(double, double, int)"},{identifier:"MouseDown",signature:"(double, double, int)"},{identifier:"MouseMove",signature:"(double, double)"},{identifier:"MouseEnter",signature:"(double, double)"},{identifier:"MouseLeave",signature:"(double, double)"}];o<a.length;o++){var s=a[o],l=n.class.getMethodBySignature("on"+s.identifier+s.signature);null==(null==l?void 0:l.program)&&null==(null==l?void 0:l.invoke)||(null==r&&(r={shapeHelper:zr(i),types:{},methods:{}},i.worldHelper.mouseListenerShapes.push(r)),r.types[s.identifier.toLowerCase()]=!0,r.methods[s.identifier.toLowerCase()]=l)}return i}var n,i,r;return Lr(t,e),n=t,(i=[{key:"copyFrom",value:function(e){if(this.centerXInitial=e.centerXInitial,this.centerYInitial=e.centerYInitial,null!=e.hitPolygonInitial){this.hitPolygonInitial=[];var t=!0,n=!1,i=void 0;try{for(var r,o=e.hitPolygonInitial[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.hitPolygonInitial.push(Object.assign({},a))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}this.setHitPolygonDirty(!0),this.hitPolygonDirty=e.hitPolygonDirty,this.reactToMouseEventsWhenInvisible=e.reactToMouseEventsWhenInvisible,this.mouseLastSeenInsideObject=e.mouseLastSeenInsideObject,this.displayObject.localTransform.copyFrom(e.displayObject.transform.localTransform),this.displayObject.updateTransform()}},{key:"setHitPolygonDirty",value:function(e){this.hitPolygonDirty=e}},{key:"bringToFront",value:function(){var e=this.displayObject.parent,t=e.children.length-1;e.setChildIndex(this.displayObject,t)}},{key:"sendToBack",value:function(){this.displayObject.parent.setChildIndex(this.displayObject,0)}},{key:"addToDefaultGroup",value:function(){null!=this.worldHelper.defaultGroup&&(this.runtimeObject.intrinsicData.Actor=this,this.worldHelper.defaultGroup.add(this.runtimeObject))}},{key:"testdestroyed",value:function(e){return!!this.isDestroyed&&(this.worldHelper.interpreter.throwException("Es wurde die Methode "+e+" eines bereits mit destroy() zerstÃ¶rten Grafikobjekts aufgerufen."),!0)}},{key:"tint",value:function(e){var t=ir.parseColorToOpenGL(e);this.displayObject.tint&&(this.displayObject.tint=t.color),this.render()}},{key:"setVisible",value:function(e){this.displayObject.visible=e}},{key:"collidesWith",value:function(e){if(null==this.lineElements&&null!=e.lineElements)return e.collidesWith(this);this.displayObject.updateTransform(),e.displayObject.updateTransform();var t=this.displayObject.getBounds(),n=e.displayObject.getBounds();return!(t.left>n.right||n.left>t.right)&&!(t.top>n.bottom||n.top>t.bottom)&&(e.shapes?e.collidesWith(this):null==this.hitPolygonInitial||null==e.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),e.hitPolygonDirty&&e.transformHitPolygon(),Er(this.hitPolygonTransformed,e.hitPolygonTransformed)))}},{key:"containsPoint",value:function(e,t){return!!this.displayObject.getBounds().contains(e,t)&&(null==this.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),jr(this.hitPolygonTransformed,{x:e,y:t})))}},{key:"transformHitPolygon",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),this.hitPolygonTransformed=[];var t=this.displayObject.transform.worldTransform,n=!0,i=!1,r=void 0;try{for(var o,a=this.hitPolygonInitial[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.hitPolygonTransformed.push({x:t.a*s.x+t.c*s.y+t.tx,y:t.b*s.x+t.d*s.y+t.ty})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}this.setHitPolygonDirty(!1)}},{key:"isOutsideView",value:function(){var e=this.displayObject.getBounds(!0),t=this.worldHelper.app.screen;return e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom}},{key:"move",value:function(e,t){this.displayObject.localTransform.translate(e,t),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0)}},{key:"rotate",value:function(e,t,n){if(this.displayObject.updateTransform(),null==t){var i=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(i,i),t=i.x,n=i.y}else{var r=new PIXI.Point(t,n);this.worldHelper.stage.localTransform.apply(r,r),this.displayObject.transform.worldTransform.applyInverse(r,r),this.displayObject.localTransform.apply(r,r),t=r.x,n=r.y}this.displayObject.localTransform.translate(-t,-n),this.displayObject.localTransform.rotate(-e/180*Math.PI),this.displayObject.localTransform.translate(t,n),this.displayObject.transform.onChange(),this.setHitPolygonDirty(!0),this.angle+=e}},{key:"scale",value:function(e,t,n){if(this.displayObject.updateTransform(),null==t){var i=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(i,i),t=i.x,n=i.y}else{var r=new PIXI.Point(t,n);this.worldHelper.stage.localTransform.apply(r,r),this.displayObject.transform.worldTransform.applyInverse(r,r),this.displayObject.localTransform.apply(r,r),t=r.x,n=r.y}this.displayObject.localTransform.translate(-t,-n),this.displayObject.localTransform.scale(e,e),this.displayObject.localTransform.translate(t,n),this.displayObject.transform.onChange(),this.setHitPolygonDirty(!0)}},{key:"getCenterX",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);return this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),this.worldHelper.stage.localTransform.applyInverse(e,e),e.x}},{key:"getCenterY",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);return this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),this.worldHelper.stage.localTransform.applyInverse(e,e),e.y}},{key:"destroy",value:function(){_r(Ir(t.prototype),"destroy",this).call(this),null!=this.belongsToGroup&&this.belongsToGroup.remove(this.runtimeObject)}},{key:"getCollidingShapes",value:function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.intrinsicData.Actor.collidesWith(this)&&n.push({type:t,value:l})}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}])&&Dr(n.prototype,i),r&&Dr(n,r),t}(kr);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?Qr(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ur(e,t)}function Ur(e,t){return(Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zr=function(e){function t(e){var n;Nr(this,t),(n=Gr(this,Hr(t).call(this,"Bitmap",e,"Rechteckige Bitmap mit beliebiger AuflÃ¶sung und Positionierung in der Grafikausgabe"))).setBaseClass(e.typeStore.getType("Shape"));var i=n.module.typeStore.getType("Color");return n.addMethod(new E("Bitmap",new O([{identifier:"pointsX",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"pointsY",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"left",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=t[6].value,u=new qr(i,r,o,a,s,l,e.main.getInterpreter(),n);n.intrinsicData.Actor=u}),!1,!1,"Instanziert eine neue Bitmap. pointsX bzw. pointsY bezeichnet Anzahl der Bildpunkte in x bzw. y-Richtung, (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),n.addMethod(new E("getColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value;return t.intrinsicData.Actor.getFarbeAsObject(n,r,i)}),!1,!1,"Gibt die Farbe des Punkts (x, y) zurÃ¼ck.",!1)),n.addMethod(new E("setColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t.intrinsicData.Actor.setzeFarbe(n,i,r,o)}),!1,!1,"Setzt die Farbe des Pixels bei (x, y). Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau und 0.0 <= alpha <= 1.0.",!1)),n.addMethod(new E("setColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;t.intrinsicData.Actor.setzeFarbe(n,i,r)}),!1,!1,"Setzt die Farbe des Pixels bei (x, y). Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau.",!1)),n.addMethod(new E("setColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;t.intrinsicData.Actor.setzeFarbe(n,i,r)}),!1,!1,'Setzt die Farbe des Pixels bei (x, y). Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new E("setColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t.intrinsicData.Actor.setzeFarbe(n,i,r,o)}),!1,!1,'Setzt die Farbe des Pixels bei (x, y). Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)". 0.0 <= alpha <= 1.0.',!1)),n.addMethod(new E("isColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"colorAsRGBAString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;return t.intrinsicData.Actor.istFarbe(n,i,r)}),!1,!1,'Gibt genau dann true zurÃ¼ck, wenn das Pixel bei (x, y) die angegebene Farbe besitzt. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new E("isColor",new O([{identifier:"x",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;return t.intrinsicData.Actor.istFarbe(n,i,r,1)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn das Pixel bei (x, y) die angegebene Farbe besitzt. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau und 0.0 <= alpha <= 1.0",!1)),n.addMethod(new E("fillAll",new O([{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value;t.intrinsicData.Actor.fillAll(n,i)}),!1,!1,"FÃ¼llt die ganze Bitmap mit einer Farbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau und 0.0 <= alpha <= 1.0",!1)),n.addMethod(new E("fillAll",new O([{identifier:"colorAsRGBAString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.fillAll(n)}),!1,!1,'FÃ¼llt die ganze Bitmap mit einer Farbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new E("copy",new O([]),Qr(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Bitmap-Objekts und git sie zurÃ¼ck.",!1)),n}return Kr(t,e),t}(Z),qr=function(e){function t(e,n,i,r,o,a,s,l){var u;return Nr(this,t),(u=Gr(this,Hr(t).call(this,s,l))).anzahlX=e,u.anzahlY=n,u.left=i,u.top=r,u.width=o,u.height=a,u.centerXInitial=i+o/2,u.centerYInitial=r+a/2,u.hitPolygonInitial=[{x:i,y:r},{x:i,y:r+a},{x:i+o,y:r+a},{x:i+o,y:r}],u.render(),u.addToDefaultGroup(),u}var n,i,r;return Kr(t,e),n=t,(i=[{key:"getCopy",value:function(e){for(var n=new A(e),i=new t(this.anzahlX,this.anzahlY,this.left,this.top,this.width,this.height,this.worldHelper.interpreter,n),r=0;r<this.colorArray.length;r++)i.colorArray[r]=this.colorArray[r];return i.colorBuffer.update(),n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){null==this.displayObject&&(this.initGraphics(),this.worldHelper.stage.addChild(this.displayObject))}},{key:"initGraphics",value:function(){var e=new Float32Array(this.anzahlX*this.anzahlY*4*2);this.colorArray=new Float32Array(this.anzahlX*this.anzahlY*4*4);for(var t=new Int32Array(this.anzahlX*this.anzahlY*6),n=this.width/this.anzahlX,i=this.height/this.anzahlY,r=0;r<this.anzahlY;r++)for(var o=0;o<this.anzahlX;o++){var a=o*n+this.left,s=r*i+this.top,l=8*(o+r*this.anzahlX);e[l]=a,e[l+1]=s,e[l+2]=a+n,e[l+3]=s,e[l+4]=a,e[l+5]=s+i,e[l+6]=a+n,e[l+7]=s+i;var u=(o+r)%2;l=16*(o+r*this.anzahlX);for(var c=0;c<16;c++)this.colorArray[l+c]=u}for(var d=0,h=0;h<this.anzahlY;h++)for(var p=0;p<this.anzahlX;p++){var f=4*(p+h*this.anzahlX);t[d=6*(p+h*this.anzahlX)]=f,t[d+1]=f+1,t[d+2]=f+2,t[d+3]=f+1,t[d+4]=f+3,t[d+5]=f+2}var y=new PIXI.Buffer(e,!0);this.colorBuffer=new PIXI.Buffer(this.colorArray,!1);var m=new PIXI.Buffer(t,!0,!0),v=(new PIXI.Geometry).addAttribute("aVertexPosition",y,2).addIndex(m).addAttribute("aColor",this.colorBuffer,4),g=PIXI.Shader.from("\n    \n        precision mediump float;\n        attribute vec2 aVertexPosition;\n        attribute vec4 aColor;\n    \n        uniform mat3 translationMatrix;\n        uniform mat3 projectionMatrix;\n    \n        varying vec4 vColor;\n    \n        void main() {\n    \n            vColor = aColor;\n            gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    \n        }","precision mediump float;\n    \n        varying vec4 vColor;\n    \n        void main() {\n            gl_FragColor = vColor;\n        }\n    \n    ");this.displayObject=new PIXI.Mesh(v,g,null,PIXI.DRAW_MODES.TRIANGLES),this.displayObject.position.set(this.left,this.top)}},{key:"getFarbeAsObject",value:function(e,t,n){var i=16*(e+t*this.anzahlX),r=this.colorArray[i],o=this.colorArray[i+1],a=this.colorArray[i+2],s=(this.colorArray[i+3],new A(n)),l={red:Math.round(255*r),green:Math.round(255*o),blue:Math.round(255*a),hex:ir.intColorToHexRGB(65536*Math.round(255*r)+256*Math.round(255*o)+Math.round(255*a))};return s.intrinsicData=l,s}},{key:"istFarbe",value:function(e,t,n,i){var r,o=16*(e+t*this.anzahlX);if("string"==typeof n){var a=ir.parseColorToOpenGL(n);r=a.color,a.alpha}else r=n;var s=((16711680&r)>>16)/255,l=((65280&r)>>8)/255,u=(255&r)/255,c=this.colorArray[o],d=this.colorArray[o+1],h=this.colorArray[o+2];return Math.abs(s-c)<.5&&Math.abs(l-d)<.5&&Math.abs(u-h)<.5}},{key:"setzeFarbe",value:function(e,t,n,i){var r,o=16*(e+t*this.anzahlX);if("string"==typeof n){var a=ir.parseColorToOpenGL(n);r=a.color,null==i&&(i=a.alpha)}else r=n,null==i&&(i=1);var s=((16711680&r)>>16)/255,l=((65280&r)>>8)/255,u=(255&r)/255;this.colorArray[o]=s,this.colorArray[o+1]=l,this.colorArray[o+2]=u,this.colorArray[o+3]=i,this.colorArray[o+4]=s,this.colorArray[o+5]=l,this.colorArray[o+6]=u,this.colorArray[o+7]=i,this.colorArray[o+8]=s,this.colorArray[o+9]=l,this.colorArray[o+10]=u,this.colorArray[o+11]=i,this.colorArray[o+12]=s,this.colorArray[o+13]=l,this.colorArray[o+14]=u,this.colorArray[o+15]=i,this.colorBuffer.update()}},{key:"fillAll",value:function(e,t){var n;if("string"==typeof e){var i=ir.parseColorToOpenGL(e);n=i.color,t=i.alpha}else n=e;for(var r=0;r<this.anzahlY;r++)for(var o=0;o<this.anzahlX;o++){var a=16*(o+r*this.anzahlX),s=((16711680&n)>>16)/255,l=((65280&n)>>8)/255,u=(255&n)/255;this.colorArray[a]=s,this.colorArray[a+1]=l,this.colorArray[a+2]=u,this.colorArray[a+3]=t,this.colorArray[a+4]=s,this.colorArray[a+5]=l,this.colorArray[a+6]=u,this.colorArray[a+7]=t,this.colorArray[a+8]=s,this.colorArray[a+9]=l,this.colorArray[a+10]=u,this.colorArray[a+11]=t,this.colorArray[a+12]=s,this.colorArray[a+13]=l,this.colorArray[a+14]=u,this.colorArray[a+15]=t}this.colorBuffer.update()}},{key:"setzeFarbeRGBA",value:function(e,t,n,i,r,o){var a=16*(e+t*this.anzahlX);n/=255,i/=255,r/=255,this.colorArray[a]=n,this.colorArray[a+1]=i,this.colorArray[a+2]=r,this.colorArray[a+3]=o,this.colorArray[a+4]=n,this.colorArray[a+5]=i,this.colorArray[a+6]=r,this.colorArray[a+7]=o,this.colorArray[a+8]=n,this.colorArray[a+9]=i,this.colorArray[a+10]=r,this.colorArray[a+11]=o,this.colorArray[a+12]=n,this.colorArray[a+13]=i,this.colorArray[a+14]=r,this.colorArray[a+15]=o,this.colorBuffer.update()}},{key:"getFarbe",value:function(e,t){var n=16*(e+t*this.anzahlX);return 65536*Math.trunc(255*this.colorArray[n])+256*Math.trunc(255*this.colorArray[n+1])+Math.trunc(255*this.colorArray[n+2])}}])&&Vr(n.prototype,i),r&&Vr(n,r),t}(Wr);function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t,n){return(Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=io(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function to(e,t,n){return t&&eo(e.prototype,t),n&&eo(e,n),e}function no(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?ro(e):t}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var so=function(e){function t(e){var n;Yr(this,t),(n=no(this,io(t).call(this,"FilledShape",e,"Basisklasse fÃ¼r grafische Objekte mit FÃ¼llfarbe und Randfarbe, beide wahlweise auch transparent"))).setBaseClass(e.typeStore.getType("Shape")),n.isAbstract=!0;ro(n);var i=n.module.typeStore.getType("Color");return n.addMethod(new E("getFillColor",new O([]),i,(function(e){var t=e[0].value.intrinsicData.Actor;return t.getFarbeAsObject(t.fillColor,t.fillColor,i)}),!1,!1,"Gibt die FÃ¼llfarbe des Objekts zurÃ¼ck.",!1)),n.addMethod(new E("getBorderColor",new O([]),i,(function(e){var t=e[0].value.intrinsicData.Actor;return t.getFarbeAsObject(t.borderColor,t.borderColor,i)}),!1,!1,"Gibt die Randfarbe des Objekts zurÃ¼ck.",!1)),n.addAttribute(new j("borderWidth",ct,(function(e){var t=e.object.intrinsicData.Actor;e.value=null!=t?t.borderWidth:"---"}),!1,I.protected,!0,"Randbreite in Pixeln")),n.addMethod(new E("setAlpha",new O([{identifier:"alphaValue",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setAlpha")||i.setAlpha(n)}),!1,!1,'Setzt die Durchsichtigkeit von FÃ¼llung und Rand. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig."',!1)),n.addMethod(new E("getAlpha",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getAlpha"))return t.fillAlpha}),!1,!1,'Setzt die Durchsichtigkeit von FÃ¼llung und Rand. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig."',!1)),n.addMethod(new E("setFillColor",new O([{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setFillColor")||i.setFillColor(n)}),!1,!1,"Setzt die FÃ¼llfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau",!1)),n.addMethod(new E("setFillColor",new O([{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setFillColor")||r.setFillColor(n,i)}),!1,!1,"Setzt die FÃ¼llfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau und 0.0 <= alpha <= 1.0",!1)),n.addMethod(new E("setFillColor",new O([{identifier:"color",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setFillColor")||i.setFillColor(n)}),!1,!1,'Setzt die FÃ¼llfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new E("setFillColor",new O([{identifier:"color",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setFillColor")||r.setFillColor(n,i)}),!1,!1,'Setzt die FÃ¼llfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" oder "rgb(172, 22, 18)" und 0.0 <= alpha <= 1.0"',!1)),n.addMethod(new E("setBorderColor",new O([{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderColor")||i.setBorderColor(n)}),!1,!1,'Setzt die Randfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau"',!1)),n.addMethod(new E("setBorderColor",new O([{identifier:"color",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setBorderColor")||r.setBorderColor(n,i)}),!1,!1,'Setzt die Randfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grÃ¼n + blau und 0.0 <= alpha <= 1.0"',!1)),n.addMethod(new E("setBorderColor",new O([{identifier:"color",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setBorderColor")||r.setBorderColor(n,i)}),!1,!1,'Setzt die Randfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" oder "rgb(172, 22, 18)" und 0.0 <= alpha <= 1.0"',!1)),n.addMethod(new E("setBorderColor",new O([{identifier:"colorAsRGBAString",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderColor")||i.setBorderColor(n)}),!1,!1,'Setzt die Randfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new E("setBorderWidth",new O([{identifier:"widthInPixel",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderWidth")||i.setBorderWidth(n)}),!1,!1,'Setzt die Linienbreite des Randes (Einheit: Pixel)"',!1)),n}return oo(t,e),to(t,[{key:"rgbaToHex",value:function(e,t){for(var n=null==e?"---":e.toString(16);n.length<6;)n="0"+n;var i=Math.round(255*t).toString(16);return i.length<2&&(i="0"+i),"#"+n+i}}]),t}(Z),lo=function(e){function t(e,n){var i;return Yr(this,t),(i=no(this,io(t).call(this,e,n))).fillColor=8421631,i.fillAlpha=1,i.borderColor=null,i.borderAlpha=1,i.borderWidth=10,i}return oo(t,e),to(t,[{key:"copyFrom",value:function(e){Jr(io(t.prototype),"copyFrom",this).call(this,e),this.fillColor=e.fillColor,this.fillAlpha=e.fillAlpha,this.borderColor=e.borderColor,this.borderAlpha=e.borderAlpha,this.borderWidth=e.borderWidth}},{key:"setAlpha",value:function(e){this.fillAlpha=e,this.borderAlpha=e,this.render()}},{key:"setBorderColor",value:function(e,t){if("string"==typeof e){var n=ir.parseColorToOpenGL(e);this.borderColor=n.color,this.borderAlpha=null==t?n.alpha:t}else this.borderColor=e,this.borderAlpha=t;this.render()}},{key:"setFillColor",value:function(e,t){if("string"==typeof e){var n=ir.parseColorToOpenGL(e);this.fillColor=n.color,this.fillAlpha=null==t?n.alpha:t}else this.fillColor=e,this.fillAlpha=t;this.render()}},{key:"setBorderWidth",value:function(e){this.borderWidth=e,this.render()}},{key:"getFarbeAsObject",value:function(e,t,n){if(null==e)return null;var i=(16711680&e)>>16,r=(65280&e)>>8,o=255&e,a=new A(n),s={red:i,green:r,blue:o,hex:ir.intColorToHexRGB(e)};return a.intrinsicData=s,a}}]),t}(Wr);function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ho(e,t,n){return(ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yo(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fo(e,t){return!t||"object"!==uo(t)&&"function"!=typeof t?mo(e):t}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bo=function(e){function t(e){var n;return po(this,t),(n=fo(this,yo(t).call(this,"Circle",e,"Kreis"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Circle",new O([{identifier:"mx",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new wo(i,r,o,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert einen neuen Kreis. (mx, my) ist der Mittelpunt, r sein Radius.",!0)),n.addMethod(new E("setRadius",new O([{identifier:"radius",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||i.setRadius(n)}),!1,!1,'Setzt den Radius des Kreises."',!1)),n.addMethod(new E("getRadius",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.r*t.displayObject.scale.x}),!1,!1,"Gibt den Radius zurÃ¼ck.",!1)),n.addMethod(new E("copy",new O([]),mo(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Circle-Objekts und git sie zurÃ¼ck.",!1)),n}return vo(t,e),t}(Z),wo=function(e){function t(e,n,i,r,o){var a;po(this,t),(a=fo(this,yo(t).call(this,r,o))).mx=e,a.my=n,a.r=i,a.centerXInitial=e,a.centerYInitial=n,a.hitPolygonInitial=[];for(var s=Math.PI/8,l=0;l<16;l++){var u=s*l;a.hitPolygonInitial.push({x:e+i*Math.cos(u),y:n+i*Math.sin(u)})}return a.render(),a.addToDefaultGroup(),a}var n,i,r;return vo(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.mx,this.my,this.r,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.drawCircle(this.mx,this.my,this.r),e.closePath(),null!=this.fillColor&&e.endFill()}},{key:"setRadius",value:function(e){this.r=e,this.render()}},{key:"isOutsideView",value:function(){return ho(yo(t.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my;return i*i+r*r<=this.r*this.r}}])&&co(n.prototype,i),r&&co(n,r),t}(lo);function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Co=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,r=So(t).call(this,"Color",e,"Farbe"),(n=!r||"object"!==ko(r)&&"function"!=typeof r?Po(i):r).setBaseClass(e.typeStore.getType("Object"));var o=function(e){var t=ir.predefinedColors[e],i=new A(Po(n)),r={red:(16711680&t)>>16,green:(65280&t)>>8,blue:255&t,hex:ir.intColorToHexRGB(t)};i.intrinsicData=r,n.addAttribute(new j(e,Po(n),(function(e){e.value=i}),!0,I.public,!0,"Die Farbe "+e+" ("+ir.intColorToHexRGB(t)+" oder "+ir.intColorToRGB(t)))};for(var a in ir.predefinedColors)o(a);return n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n.addMethod(new E("Color",new O([{identifier:"red",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=Math.trunc(e[1].value),i=Math.trunc(e[2].value),r=Math.trunc(e[3].value),o={red:n,green:i,blue:r,hex:"rgb("+n+", "+i+", "+r+")"};t.intrinsicData=o}),!1,!1,"Instanziert eine neue Farbe. Red, green und blue sind die Farbanteile, jeweils als integer-Zahlen im Bereich von 0 bis 255.",!0)),n.addMethod(new E("randomColor",new O([]),lt,(function(e){e[0].value;return Math.floor(16777215*Math.random())}),!1,!0,"Gibt eine zufÃ¤llige Farbe (ohne Transparenz) zurÃ¼ck.",!0)),n.addMethod(new E("randomColor",new O([{identifier:"minimumRGBValue",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){e[0].value;var t=e[1].value;return t<0&&(t=0),t>255&&(t=255),65536*(Math.floor(Math.random()*(256-t))+t)+256*(Math.floor(Math.random()*(256-t))+t)+(Math.floor(Math.random()*(256-t))+t)}),!1,!0,"Gibt eine zufÃ¤llige Farbe (ohne Transparenz) zurÃ¼ck. Min ist der Mindestwert fÃ¼r den Rot-, GrÃ¼n- und Blauanteil, wobei jeder der Anteile und daher auch min zwischen 0 und 255 (jeweils einschlieÃlich) liegen muss.",!0)),n.addMethod(new E("randomColor",new O([{identifier:"minimumRGBValue",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"maximumRGBValue",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){e[0].value;var t=e[1].value,n=e[1].value;if(t<0&&(t=0),t>255&&(t=255),n<0&&(n=0),n>255&&(n=255),n<t){var i=n;n=t,t=i}return 65536*(Math.floor(Math.random()*(n-t+1))+t)+256*(Math.floor(Math.random()*(n-t+1))+t)+(Math.floor(Math.random()*(n-t+1))+t)}),!1,!0,"Gibt eine zufÃ¤llige Farbe (ohne Transparenz) zurÃ¼ck. Min ist der Mindestwert fÃ¼r den Rot-, GrÃ¼n- und Blauanteil, max der HÃ¶chstwert, wobei jeder der Anteile und daher auch min zwischen 0 und 255 (jeweils einschlieÃlich) liegen muss.",!0)),n.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.intrinsicData.hex}),!1,!1,"Verwandelt die Farbe in einen String.",!1)),n.addMethod(new E("equals",new O([{identifier:"otherColor",type:Po(n),declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData,r=n.intrinsicData;return i.red==r.red&&i.green==r.green&&i.blue==r.blue}),!1,!1,"Vergleicht zwei Farben",!1)),n.addMethod(new E("getRed",new O([]),lt,(function(e){return e[0].value.intrinsicData.red}),!1,!1,"Gibt den Rotanteil der Farbe zurÃ¼ck (0 - 255).",!1)),n.addMethod(new E("getGreen",new O([]),lt,(function(e){return e[0].value.intrinsicData.green}),!1,!1,"Gibt den GrÃ¼nanteil der Farbe zurÃ¼ck (0 - 255).",!1)),n.addMethod(new E("getBlue",new O([]),lt,(function(e){return e[0].value.intrinsicData.blue}),!1,!1,"Gibt den Blauanteil der Farbe zurÃ¼ck (0 - 255).",!1)),n.addMethod(new E("fromRGB",new O([{identifier:"red",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){e[0].value;return 65536*e[1].value+256*e[2].value+e[3].value}),!1,!0,"Berechnet aus Rot-, GrÃ¼n- und Blauwert (alle zwischen 0 und 255) die Farbe.",!1)),n.addMethod(new E("fromRGBA",new O([{identifier:"red",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){e[0].value;for(var t=e[1].value,n=e[2].value,i=e[3].value,r=e[4].value,o=(16777216*t+65536*n+256*i+Math.floor(255*r)).toString(16);o.length<8;)o="0"+o;return"#"+o}),!1,!0,"Berechnet aus Rot-, GrÃ¼n- und Blauwert (alle zwischen 0 und 255) sowie Alpha-Wert (zwischen 0 und 1) die Farbe.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,e),t}(Z);function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jo(e,t,n){return(jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Do(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oo(e,t){return!t||"object"!==To(t)&&"function"!=typeof t?_o(e):t}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Io=function(e){function t(e){var n;return Eo(this,t),(n=Oo(this,Do(t).call(this,"Ellipse",e,"Ellipse"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Ellipse",new O([{identifier:"mx",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"rx",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"ry",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new zo(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert eine neue Ellipse. (mx, my) ist der Mittelpunt, rx und ry sind ihre Radien.",!0)),n.addMethod(new E("setRadiusX",new O([{identifier:"rx",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setRadiusX(n)}),!1,!1,'Setzt den x-Radius der Ellipse"',!1)),n.addMethod(new E("setRadiusY",new O([{identifier:"ry",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setRadiusY(n)}),!1,!1,'Setzt den y-Radius der Ellipse"',!1)),n.addMethod(new E("copy",new O([]),_o(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Ellipse-Objekts und git sie zurÃ¼ck.",!1)),n}return Ao(t,e),t}(Z),zo=function(e){function t(e,n,i,r,o,a){var s;Eo(this,t),(s=Oo(this,Do(t).call(this,o,a))).mx=e,s.my=n,s.rx=i,s.ry=r,s.centerXInitial=e,s.centerYInitial=n,s.hitPolygonInitial=[];for(var l=Math.PI/8,u=0;u<16;u++){var c=l*u;s.hitPolygonInitial.push({x:e+i*Math.cos(c),y:n+r*Math.sin(c)})}return s.render(),s.addToDefaultGroup(),s}var n,i,r;return Ao(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.mx,this.my,this.rx,this.ry,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.drawEllipse(this.mx,this.my,this.rx,this.ry),e.closePath(),null!=this.fillColor&&e.endFill()}},{key:"setRadiusX",value:function(e){this.rx=e,this.render()}},{key:"setRadiusY",value:function(e){this.rx=e,this.render()}},{key:"isOutsideView",value:function(){return jo(Do(t.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my;return i*i/(this.rx*this.rx)+r*r/(this.ry*this.ry)<=1}}])&&Mo(n.prototype,i),r&&Mo(n,r),t}(lo);function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ro(e,t,n){return(Ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=No(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $o(e,t){return!t||"object"!==Lo(t)&&"function"!=typeof t?Vo(e):t}function Vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qo=function(e){function t(e){var n;Wo(this,t),(n=$o(this,No(t).call(this,"CollisionPair",e,"Speichert die Referenzen auf zwei Figuren, die gerade kollidiert sind. Diese Klasse von den Kollisionsmethden der Klasse Group benutzt."))).setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("Shape");return n.addAttribute(new j("shapeA",i,(function(e){var t=e.object;e.value=t.intrinsicData.ShapeA}),!1,I.public,!0,"Erstes an der Kollision beteiligtes Shape")),n.addAttribute(new j("shapeB",i,(function(e){var t=e.object;e.value=t.intrinsicData.ShapeB}),!1,I.public,!0,"Zweites an der Kollision beteiligtes Shape")),n}return Go(t,e),t}(Z),Ko=function(e){function t(e){var n;Wo(this,t),(n=$o(this,No(t).call(this,"Group",e,"Klasse zum Gruppieren grafischer Elemente. Die gruppierten Elemente kÃ¶nnen miteinander verschoben, gedreht, gestreckt sowie ein- und ausgeblendet werden. Zudem besitzt die Klasse Methoden zur schnellen Erkennung von Kollision mit Elementen auÃerhalb der Gruppe."))).setBaseClass(e.typeStore.getType("Shape"));var i=e.typeStore.getType("CollisionPair"),r=new jt(i),o=e.typeStore.getType("Shape");n.addMethod(new E("Group",new O([]),null,(function(t){var n=t[0].value,i=new Uo(e.main.getInterpreter(),n);n.intrinsicData.Actor=i}),!1,!1,"Instanziert eine neue Gruppe. Ihr kÃ¶nnen mit der Methode add Elemente hinzugefÃ¼gt werden, die dann mit der Gruppe verschoben, gedreht, ... werden.",!0)),n.addMethod(new E("Group",new O([{identifier:"shapes",type:new jt(e.typeStore.getType("Shape")),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=new Uo(e.main.getInterpreter(),n);n.intrinsicData.Actor=r;var o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.add(c.value)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}),!1,!1,"Instanziert eine neue Gruppe und fÃ¼gt die Ã¼bergebenen Grafikobjekte der Gruppe hinzu. Der Gruppe kÃ¶nnen mit der Methode add weitere Grafikobjekte hinzugefÃ¼gt werden, die dann mit der Gruppe verschoben, gedreht, ... werden.",!0)),n.addMethod(new E("add",new O([{identifier:"shapes",type:new jt(o),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i.add(u.value)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}),!1,!1,"FÃ¼gt die Grafikobjekte der Gruppe hinzu.",!1)),n.addMethod(new E("get",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),o,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Actor.getElement(n)}),!1,!1,"Gibt das Grafikelement der Gruppe mit dem entsprechenden Index zurÃ¼ck. VORSICHT: Das erste Element hat Index 0!",!1)),n.addMethod(new E("remove",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.removeElementAt(n)}),!1,!1,"Entfernt das Grafikelement aus der Gruppe mit dem entsprechenden Index, zerstÃ¶rt es jedoch nicht. VORSICHT: Das erste Element hat Index 0!",!1)),n.addMethod(new E("remove",new O([{identifier:"shape",type:o,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.remove(n)}),!1,!1,"Entfernt das Ã¼bergebene Grafikelement aus der Gruppe, zerstÃ¶rt es jedoch nicht.",!1));var a=new jt(o);return n.addMethod(new E("getCollidingShapes",new O([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(i.testdestroyed("getCollidingShapes")||null==n)return[];var r=i.getCollidingObjects(n),a=[],s=!0,l=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.push({type:o,value:h})}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return a}),!1,!1,"Gibt die Objekte der Gruppe zurÃ¼ck, die mit dem Ã¼bergebenen Shape kollidieren.",!1)),n.addMethod(new E("getCollisionPairs",new O([{identifier:"group",type:Vo(n),declaration:null,usagePositions:null,isFinal:!0},{identifier:"maxOneCollisionPerShape",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value,o=t.intrinsicData.Actor,a=n.intrinsicData.Actor;if(!o.testdestroyed("getCollidingShapes"))return o.getCollidingObjects2(a,i,r)}),!1,!1,"ÃberprÃ¼ft, welche Objekte der Gruppe mit welchen der anderen kollidieren. Gibt fÃ¼r jede Kollision ein Collisionpair-Objekt zurÃ¼ck, das die beiden kollidierenden Objekte enthÃ¤lt. Falls maxOneCollisionPerShape == true ist jedes Objekt dabei aber nur in max. einem Collisionpair-Objekt enthalten.",!1)),n.addMethod(new E("size",new O([]),lt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("size"))return t.shapes.length}),!1,!1,"Gibt zurÃ¼ck, wie viele Elemente in der Gruppe enthalten sind.",!1)),o.addMethod(new E("getCollidingShapes",new O([{identifier:"group",type:Vo(n),declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value.intrinsicData.Actor,i=t.intrinsicData.Actor;if(!i.testdestroyed("getCollidingShapes"))return i.getCollidingShapes(n,o)}),!1,!1,"Gibt alle Shapes der Gruppe group zurÃ¼ck, die mit dem Shape kollidieren.",!1)),n.addMethod(new E("copy",new O([]),Vo(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Group-Objekts (und aller seiner enthaltenen Grafikobjekte!) und git sie zurÃ¼ck.",!1)),n}return Go(t,e),t}(Z),Uo=function(e){function t(e,n){var i;return Wo(this,t),(i=$o(this,No(t).call(this,e,n))).shapes=[],i.displayObject=new PIXI.Container,i.worldHelper.stage.addChild(i.displayObject),i.addToDefaultGroup(),i}var n,i,r;return Go(t,e),n=t,(i=[{key:"removeElementAt",value:function(e){if(e<0||e>=this.shapes.length)this.worldHelper.interpreter.throwException("In der Gruppe gibt es kein Element mit Index "+e+".");else{var t=this.shapes[e];this.remove(t)}}},{key:"getElement",value:function(e){if(!(e<0||e>=this.shapes.length))return this.shapes[e];this.worldHelper.interpreter.throwException("In der Gruppe gibt es kein Element mit Index "+e+".")}},{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.worldHelper.interpreter,n);n.intrinsicData.Actor=i;var r=!0,o=!1,a=void 0;try{for(var s,l=this.shapes[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=u.intrinsicData.Actor.getCopy(u.class),d=c.intrinsicData.Actor;i.shapes.push(c),d.belongsToGroup=i,i.displayObject.addChild(d.displayObject)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i.copyFrom(this),i.render(),n}},{key:"setTimerPaused",value:function(e){this.timerPaused=e;var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.intrinsicData.Actor.timerPaused=e}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"add",value:function(e){var t=e.intrinsicData.Actor;if(t.isDestroyed)this.worldHelper.interpreter.throwException("Ein schon zerstÃ¶rtes Objekt kann keiner Gruppe hinzugefÃ¼gt werden.");else{this.shapes.push(e),null!=t.belongsToGroup&&t.belongsToGroup.remove(e),t.belongsToGroup=this;var n=(new PIXI.Matrix).copyFrom(this.displayObject.transform.worldTransform);n.invert(),t.displayObject.localTransform.prepend(n.prepend(this.worldHelper.stage.localTransform)),t.displayObject.transform.onChange(),this.displayObject.addChild(t.displayObject),t.displayObject.updateTransform();var i=0,r=0,o=!0,a=!1,s=void 0;try{for(var l,u=this.shapes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value.intrinsicData.Actor;i+=c.getCenterX(),r+=c.getCenterY()}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d=i/this.shapes.length,h=r/this.shapes.length;this.displayObject.updateTransform();var p=this.displayObject.worldTransform.applyInverse(new PIXI.Point(d,h));this.centerXInitial=p.x,this.centerYInitial=p.y}}},{key:"remove",value:function(e){var t=this.shapes.indexOf(e);if(t>=0){this.shapes.splice(t,1);var n=e.intrinsicData.Actor,i=(new PIXI.Matrix).copyFrom(n.displayObject.transform.worldTransform);this.displayObject.removeChildAt(t);var r=(new PIXI.Matrix).copyFrom(this.worldHelper.stage.localTransform);r.invert(),n.displayObject.localTransform.identity(),n.displayObject.localTransform.append(i.prepend(r)),n.displayObject.transform.onChange(),this.worldHelper.stage.addChild(n.displayObject),n.displayObject.updateTransform(),n.belongsToGroup=null}}},{key:"render",value:function(){}},{key:"destroy",value:function(){var e=!0,n=!1,i=void 0;try{for(var r,o=this.shapes.slice(0)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.intrinsicData.Actor.destroy()}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}Ro(No(t.prototype),"destroy",this).call(this)}},{key:"collidesWith",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)if(r.value.intrinsicData.Actor.collidesWith(e))return!0}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return!1}},{key:"setHitPolygonDirty",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.intrinsicData.Actor.setHitPolygonDirty(e)}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"containsPoint",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.shapes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(o.value.intrinsicData.Actor.containsPoint(e,t))return!0}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!1}},{key:"getCollidingObjects",value:function(e){var t=[],n=e.intrinsicData.Actor,i=!0,r=!1,o=void 0;try{for(var a,s=this.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.intrinsicData.Actor.collidesWith(n)&&t.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t}},{key:"getCollidingObjects2",value:function(e,t,n){var i=[],r=new Map,o=!0,a=!1,s=void 0;try{for(var l,u=this.shapes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value.intrinsicData.Actor,d=!0,h=!1,p=void 0;try{for(var f,y=e.shapes[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value.intrinsicData.Actor;if(c.collidesWith(m)){if(!n||null==r.get(m)){r.set(m,!0);var v=new A(t);v.initializeAttributeValues(),v.intrinsicData.ShapeA=c.runtimeObject,v.intrinsicData.ShapeB=m.runtimeObject,i.push({type:t,value:v})}if(n)break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return i}}])&&Bo(n.prototype,i),r&&Bo(n,r),t}(Wr);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jo(e,t){return(Jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=qo(this,Xo(t).call(this,"Key",e,"AufzÃ¤hlung von Sondertasten zur Benutzung in den Methoden Actor.onKeyUp, Actor.onKeyTyped und Actor.onKeyDown"))).setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new j("ArrowUp",pt,(function(e){e.value="ArrowUp"}),!0,I.public,!0,"")),n.addAttribute(new j("ArrowDown",pt,(function(e){e.value="ArrowDown"}),!0,I.public,!0,"")),n.addAttribute(new j("ArrowLeft",pt,(function(e){e.value="ArrowLeft"}),!0,I.public,!0,"")),n.addAttribute(new j("ArrowRight",pt,(function(e){e.value="ArrowRight"}),!0,I.public,!0,"")),n.addAttribute(new j("Enter",pt,(function(e){e.value="Enter"}),!0,I.public,!0,"")),n.addAttribute(new j("Space",pt,(function(e){e.value=" "}),!0,I.public,!0,"")),n.addAttribute(new j("Shift",pt,(function(e){e.value="Shift"}),!0,I.public,!0,"")),n.addAttribute(new j("Alt",pt,(function(e){e.value="Alt"}),!0,I.public,!0,"")),n.addAttribute(new j("Strg",pt,(function(e){e.value="Control"}),!0,I.public,!0,"")),n.addAttribute(new j("PageUp",pt,(function(e){e.value="PageUp"}),!0,I.public,!0,"")),n.addAttribute(new j("PageDown",pt,(function(e){e.value="PageDown"}),!0,I.public,!0,"")),n.addAttribute(new j("Backspace",pt,(function(e){e.value="Backspace"}),!0,I.public,!0,"")),n.addAttribute(new j("Escape",pt,(function(e){e.value="Escape"}),!0,I.public,!0,"")),n.addAttribute(new j("Entf",pt,(function(e){e.value="Delete"}),!0,I.public,!0,"")),n.addAttribute(new j("Einf",pt,(function(e){e.value="Insert"}),!0,I.public,!0,"")),n.addAttribute(new j("Ende",pt,(function(e){e.value="End"}),!0,I.public,!0,"")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jo(e,t)}(t,e),t}(Z);function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?oa(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var la=function(e){function t(e){var n;return na(this,t),(n=ia(this,ra(t).call(this,"Polygon",e,"Wahlweise geschlossenes Polygon (mit FÃ¼llung und Rand) oder offener Streckenzug"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Polygon",new O([{identifier:"closeAndFill",type:dt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:new jt(ct),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=[];r.forEach((function(e){return o.push(e.value)}));var a=new ua(o,i,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Polygon. Die Punkte werden als Array von double-Werten der Form {x1, y1, x2, y2, ...} Ã¼bergeben.",!0)),n.addMethod(new E("Polygon",new O([{identifier:"closeAndFill",type:dt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:new jt(ct),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=[];r.forEach((function(e){return o.push(e.value)}));var a=new ua(o,i,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Polygon. Die Punkte werden als double-Werte der Form x1, y1, x2, y2, ... Ã¼bergeben.",!0)),n.addMethod(new E("Polygon",new O([{identifier:"closeAndFill",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=new ua([],i,e.main.getInterpreter(),n);n.intrinsicData.Actor=r}),!1,!1,"Instanziert ein neues Polygon ohne Punkte.",!0)),n.addMethod(new E("addPoint",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("addPoint")||r.addPoint(n,i)}),!1,!1,'FÃ¼gt dem Polygon einen Punkt hinzu."',!1)),n.addMethod(new E("addPoints",new O([{identifier:"points",type:new jt(ct),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("addPoints"))for(var r=0;r<n.length-1;r+=2)i.addPoint(n[r].value,n[r+1].value,r>=n.length-2)}),!1,!1,'FÃ¼gt dem Polygon mehrere Punkte hinzu. Diese werden in einem double[] Ã¼bergeben, das abwechselnd die x- und y-Koordinaten enthÃ¤lt."',!1)),n.addMethod(new E("copy",new O([]),oa(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Polygon-Objekts und git sie zurÃ¼ck.",!1)),n}return aa(t,e),t}(Z),ua=function(e){function t(e,n,i,r){var o;na(this,t),(o=ia(this,ra(t).call(this,i,r))).closeAndFill=n;var a=0,s=0;o.hitPolygonInitial=[];for(var l=0;l<e.length;){var u=e[l++],c=e[l++];a+=u,s+=c,o.hitPolygonInitial.push({x:u,y:c})}return e.length>1&&(o.centerXInitial=a/o.hitPolygonInitial.length,o.centerYInitial=s/o.hitPolygonInitial.length),n||(o.borderColor=255),o.render(),o.addToDefaultGroup(),o}var n,i,r;return aa(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t([],this.closeAndFill,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;if(null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&this.closeAndFill&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),this.hitPolygonInitial.length>0){e.moveTo(this.hitPolygonInitial[0].x,this.hitPolygonInitial[0].y);for(var t=1;t<this.hitPolygonInitial.length;t++)e.lineTo(this.hitPolygonInitial[t].x,this.hitPolygonInitial[t].y)}this.closeAndFill&&e.closePath(),null!=this.fillColor&&this.closeAndFill&&e.endFill()}},{key:"addPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial.push({x:i.x,y:i.y}),this.hitPolygonDirty=!0,n&&this.render()}},{key:"setPoint",value:function(e,t,n){0!=n&&1!=n||(this.hitPolygonInitial[n]={x:e,y:t},this.hitPolygonDirty=!0,this.render())}},{key:"setPoints",value:function(e,t,n,i){this.hitPolygonInitial=[{x:e,y:t},{x:n,y:i}],this.hitPolygonDirty=!0,this.render()}}])&&ta(n.prototype,i),r&&ta(n,r),t}(lo);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?ya(e):t}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=function(e){function t(e){var n;return ha(this,t),(n=pa(this,fa(t).call(this,"Rectangle",e,"Rechteck"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Rectangle",new O([{identifier:"left",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new ba(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues, achsenparalleles Rechteck-Objekt. (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),n.addMethod(new E("setWidth",new O([{identifier:"width",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setWidth")||(t.width=n/t.displayObject.scale.x,t.render())}),!1,!1,"Setzt die Breite des Rechtecks.",!1)),n.addMethod(new E("setHeight",new O([{identifier:"height",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setHeight")||(t.height=n/t.displayObject.scale.y,t.render())}),!1,!1,"Setzt die HÃ¶he des Rechtecks.",!1)),n.addMethod(new E("getWidth",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.width*t.displayObject.scale.x}),!1,!1,"Gibt die Breite zurÃ¼ck.",!1)),n.addMethod(new E("getHeight",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.height*t.displayObject.scale.y}),!1,!1,"Gibt die HÃ¶he zurÃ¼ck.",!1)),n.addMethod(new E("copy",new O([]),ya(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Rectangle-Objekts und git sie zurÃ¼ck.",!1)),n}return ma(t,e),t}(Z),ba=function(e){function t(e,n,i,r,o,a){var s;return ha(this,t),(s=pa(this,fa(t).call(this,o,a))).left=e,s.top=n,s.width=i,s.height=r,s.centerXInitial=e+i/2,s.centerYInitial=n+r/2,s.hitPolygonInitial=[{x:e,y:n},{x:e,y:n+r},{x:e+i,y:n+r},{x:e+i,y:n}],s.render(),s.addToDefaultGroup(),s}var n,i,r;return ma(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.left,this.top,this.width,this.height,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.moveTo(this.left,this.top),e.lineTo(this.left+this.width,this.top),e.lineTo(this.left+this.width,this.top+this.height),e.lineTo(this.left,this.top+this.height),e.closePath(),null!=this.fillColor&&e.endFill()}}])&&da(n.prototype,i),r&&da(n,r),t}(lo);function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e,t){return!t||"object"!==wa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sa(e){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ka(this,Sa(t).call(this,"RepeatType",e,[{type:s.pushEnumValue,position:null,identifier:"once"},{type:s.pushEnumValue,position:null,identifier:"loop"},{type:s.pushEnumValue,position:null,identifier:"backAndForth"}]))).documentation="Gibt an, auf welche Art eine Sprite-Animation abgespielt werden soll.",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(t,e),t}($t);function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ta(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?Oa(e):t}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Aa=function(e){function t(e){var n;return Ma(this,t),(n=ja(this,Ea(t).call(this,"RoundedRectangle",e,"Rechteck mit abgerundeten Ecken"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("RoundedRectangle",new O([{identifier:"left",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radius",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new Fa(i,r,o,a,s,e.main.getInterpreter(),n);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues, achsenparalleles abgerundetes Rechteck-Objekt. (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),n.addMethod(new E("getWidth",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.width*t.displayObject.scale.x}),!1,!1,"Gibt die Breite zurÃ¼ck.",!1)),n.addMethod(new E("getHeight",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.height*t.displayObject.scale.y}),!1,!1,"Gibt die HÃ¶he zurÃ¼ck.",!1)),n.addMethod(new E("getRadius",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.radius*t.displayObject.scale.y}),!1,!1,"Gibt den Eckradius zurÃ¼ck.",!1)),n.addMethod(new E("copy",new O([]),Oa(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des RoundedRectangle-Objekts und git sie zurÃ¼ck.",!1)),n}return Da(t,e),t}(Z),Fa=function(e){function t(e,n,i,r,o,a,s){var l;return Ma(this,t),(l=ja(this,Ea(t).call(this,a,s))).left=e,l.top=n,l.width=i,l.height=r,l.radius=o,l.centerXInitial=e+i/2,l.centerYInitial=n+r/2,l.hitPolygonInitial=[],l.addCenterCircle(e+o,n+o,Math.PI/2),l.addCenterCircle(e+o,n+r-o,Math.PI),l.addCenterCircle(e+i-o,n+r-o,3*Math.PI/2),l.addCenterCircle(e+i-o,n+o,0),l.hitPolygonInitial.push({x:e+o,y:n}),l.render(),l.addToDefaultGroup(),l}var n,i,r;return Da(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.left,this.top,this.width,this.height,this.radius,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"addCenterCircle",value:function(e,t,n){for(var i=Math.PI/2/8,r=0;r<=8;r++)this.hitPolygonInitial.push({x:e+this.radius*Math.cos(n+i*r),y:t-this.radius*Math.sin(n+i*r)})}},{key:"render",value:function(){var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.drawRoundedRect(this.left,this.top,this.width,this.height,this.radius),null!=this.fillColor&&e.endFill()}}])&&Ta(n.prototype,i),r&&Ta(n,r),t}(lo);function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ra=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=za(this,La(t).call(this,"ScaleMode",e,[{type:s.pushEnumValue,position:null,identifier:"linear"},{type:s.pushEnumValue,position:null,identifier:"nearest_neighbour"}]))).documentation="Art der Interpolation der Pixelfarben beim Skalieren von grafischen Objekten",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(t,e),t}($t);function Wa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"init",value:function(){var t=!0,n=!1,i=void 0;try{for(var r,o=e.sounds[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.player=new Howl({src:[a.url],preload:!0}),e.soundMap.set(a.name,a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"play",value:function(t){var n=e.soundMap.get(t);null!=n&&n.player.play()}}],(n=null)&&Wa(t.prototype,n),i&&Wa(t,i),e}();function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}$a.sounds=[{url:"assets/mp3/nearby_explosion_with_debris.mp3",name:"nearby_explosion_with_debris",description:"nahe Explosion mit herabfallenden TrÃ¼mmern"},{url:"assets/mp3/nearby_explosion.mp3",name:"nearby_explosion",description:"nahe Explosion"},{url:"assets/mp3/far_bomb.mp3",name:"far_bomb",description:"fernes GerÃ¤usch einer Bombe"},{url:"assets/mp3/cannon_boom.mp3",name:"cannon_boom",description:"einzelner Kanonendonner"},{url:"assets/mp3/far_explosion.mp3",name:"far_explosion",description:"ferne Explosion"},{url:"assets/mp3/laser_shoot.mp3",name:"laser_shoot",description:"Laserschuss (oder was man dafÃ¼r hÃ¤lt...)"},{url:"assets/mp3/short_bell.mp3",name:"short_bell",description:"kurzes Klingeln (wie bei alter Landenkasse)"},{url:"assets/mp3/flamethrower.mp3",name:"flamethrower",description:"Flammenwerfer"},{url:"assets/mp3/digging.mp3",name:"digging",description:"GerÃ¤usch beim Sandschaufeln"},{url:"assets/mp3/short_digging.mp3",name:"short_digging",description:"kurzes GerÃ¤usch beim Sandschaufeln"},{url:"assets/mp3/shoot.mp3",name:"shoot",description:"SchussgerÃ¤usch"},{url:"assets/mp3/short_shoot.mp3",name:"short_shoot",description:"ein kurzer Schuss"},{url:"assets/mp3/step.mp3",name:"step",description:"ein Schritt"},{url:"assets/mp3/boulder.mp3",name:"boulder",description:"GerÃ¤usch eines Steins, der auf einen zweiten fÃ¤llt"},{url:"assets/mp3/pong_d5.wav",name:"pong_d",description:"Tiefer Pong-Ton"},{url:"assets/mp3/pong_f5.wav",name:"pong_f",description:"Hoher Pong-Ton"}],$a.soundMap=new Map;var Qa=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Na(this,Ga(t).call(this,"Sound",e,"AufzÃ¤hlung aller GerÃ¤usche"))).setBaseClass(e.typeStore.getType("Object"));var i=!0,r=!1,o=void 0;try{for(var a,s=function(){var e=a.value;n.addAttribute(new j(e.name,pt,(function(t){t.value=e.name}),!0,I.public,!0,e.description))},l=$a.sounds[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)s()}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n.addMethod(new E("playSound",new O([{identifier:"sound",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[1].value;$a.play(t)}),!1,!0,"Spielt einen Sound ab. Die MÃ¶glichen Sounds sind als statische Variablen der Klasse Sound hinterlegt. Tippe als Parameter also Sound gefolgt von einem Punkt ein, um eine Auswahl zu sehen!")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(t,e),t}(Z);function Ka(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ua=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getPolygonForTexture",value:function(t,n,i,r){null==n&&(n=0),t+="#"+n;var o=e.polygonStore[t];return null==o&&(o=e.getPolygon(r,i.worldHelper),e.polygonStore[t]=o),o}},{key:"getPolygon",value:function(t,n){var i=n.app.renderer.plugins.extract.pixels(t),r=t.width,o=t.height;if(i.length!==4*r*o)return[{x:0,y:0},{x:r,y:0},{x:r,y:o},{x:0,y:o}];var a=[],s=[];e.addPointsOnLine({x:0,y:0},{x:r-1,y:0},9,s),e.addPointsOnLine({x:r-1,y:0},{x:r-1,y:o-1},9,s),e.addPointsOnLine({x:r-1,y:o-1},{x:0,y:o-1},9,s),e.addPointsOnLine({x:0,y:o-1},{x:0,y:0},9,s);for(var l={x:r/2,y:o/2},u=0,c=s;u<c.length;u++){var d=c[u];e.probe(a,d,l,r,o,i)}for(var h,p,f,y,m,v,g=!1;!g;){g=!0;for(var b=0;b<a.length-1;b++)h=a[b],p=a[(b+2)%a.length],f=a[b+1],y=void 0,m=void 0,v=void 0,y=p.x-h.x,m=p.y-h.y,((v=Math.sqrt(m*m+y*y))<1e-9?Mr(h,f):Math.abs(m*f.x-y*f.y+p.x*h.y-p.y*h.x)/v)<2&&(a.splice(b+1,1),g=!1)}return a}},{key:"addPointsOnLine",value:function(e,t,n,i){for(var r=(t.x-e.x)/(n-1),o=(t.y-e.y)/(n-1),a=1;a<=n-1+.1;a++)i.push({x:e.x+r*a,y:e.y+o*a})}},{key:"probe",value:function(t,n,i,r,o,a){for(var s,l,u=Mr(n,i),c=(i.x-n.x)/u,d=(i.y-n.y)/u,h=0;h<=u-2&&(s=n.x+h*c,l=n.y+h*d,e.isTransparent(s,l,r,o,a));h++);t.push({x:s,y:l})}},{key:"isTransparent",value:function(e,t,n,i,r){return e<0||t<0||e>n||t>i||0==r[4*Math.round(e)+4*n*Math.round(t)+3]}}],(n=null)&&Ka(t.prototype,n),i&&Ka(t,i),e}();function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ja(e,t){return!t||"object"!==Za(t)&&"function"!=typeof t?es(e):t}function Ya(e){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ts(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}function ns(e,t){return(ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ua.polygonStore={};var is=function(e){function t(e){var n;Xa(this,t),(n=Ja(this,Ya(t).call(this,"Sprite",e,"Ein Sprite ist eine kleine Pixelgrafik, die verschoben, gedreht und skaliert werden kann. Zudem besitzt es Methoden zum Erkennen von Kollisionen mit anderen grafischen Objekten."))).setBaseClass(e.typeStore.getType("Shape"));var i=e.typeStore.getType("ScaleMode");return n.addMethod(new E("Sprite",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"scalemode",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new rs(i,r,o.enumValue.identifier,a,e.main.getInterpreter(),n,s.enumValue.identifier);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. Falls scale ungleich 1 ist wird die Bitmap des Sprites VOR dem Rendern um den Faktor scale gestreckt. Dabei wird die nearest neighbour-Interpolation verwendet damit aus Einzelpixeln schÃ¶ne Quadrate werden. SpriteLibraryEntry ist ein AuzÃ¤hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhÃ¤ltst Du ein Auswahl von Bildern. Einen Ãberblick Ã¼ber die Bilder bekommst Du auch Ã¼ber den MenÃ¼punkt Hilfe->Sprite-BilderÃ¼bersicht.",!0)),n.addMethod(new E("Sprite",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new rs(i,r,o.enumValue.identifier,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein AuzÃ¤hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhÃ¤ltst Du ein Auswahl von Bildern. Einen Ãberblick Ã¼ber die Bilder bekommst Du auch Ã¼ber den MenÃ¼punkt Hilfe->Sprite-BilderÃ¼bersicht.",!0)),n.addMethod(new E("Sprite",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new rs(i,r,o.enumValue.identifier,null,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein AuzÃ¤hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhÃ¤ltst Du ein Auswahl von Bildern. Einen Ãberblick Ã¼ber die Bilder bekommst Du auch Ã¼ber den MenÃ¼punkt Hilfe->Sprite-BilderÃ¼bersicht.",!0)),n.addMethod(new E("setImage",new O([{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setImage")||i.setTexture(n.enumValue.identifier)}),!1,!1,"Ãndert das Bild des Sprites. SpriteLibraryEntry ist ein AuzÃ¤hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhÃ¤ltst Du ein Auswahl von Bildern. Einen Ãberblick Ã¼ber die Bilder bekommst Du auch Ã¼ber den MenÃ¼punkt Hilfe->Sprite-BilderÃ¼bersicht.",!1)),n.addMethod(new E("setImage",new O([{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setImage")||r.setTexture(n.enumValue.identifier,i)}),!1,!1,"Ãndert das Bild des Sprites. SpriteLibraryEntry ist ein AuzÃ¤hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhÃ¤ltst Du ein Auswahl von Bildern. Einen Ãberblick Ã¼ber die Bilder bekommst Du auch Ã¼ber den MenÃ¼punkt Hilfe->Sprite-BilderÃ¼bersicht.",!1)),n.addMethod(new E("setImageIndex",new O([{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setImage")||i.setTexture(i.textureName,n)}),!1,!1,"Ãndert den Bildindex des Sprites.",!1)),n.addMethod(new E("playAnimation",new O([{identifier:"indexArray",type:new jt(lt),declaration:null,usagePositions:null,isFinal:!0},{identifier:"repeatType",type:e.typeStore.getType("RepeatType"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"imagesPerSecond",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor,a=[],s=!0,l=!1,u=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.push(h.value)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}o.testdestroyed("playAnimation")||o.playAnimation(a,i.enumValue.identifier,r)}),!1,!1,"Spielt eine Animation ab.",!1)),n.addMethod(new E("playAnimation",new O([{identifier:"fromIndex",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"toIndex",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"repeatType",type:e.typeStore.getType("RepeatType"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"imagesPerSecond",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.Actor;if(!a.testdestroyed("playAnimation")){var s=[];if(n<i&&i-n<1e4)for(var l=n;l<i;l++)s.push(l);a.playAnimation(s,r.enumValue.identifier,o)}}),!1,!1,"Spielt eine Animation ab.",!1)),n.addMethod(new E("stopAnimation",new O([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("stopAnimation")||t.stopAnimation(!0)}),!1,!1,"Stoppt die gerade laufende Animation und macht das Sprite unsichtbar.",!1)),n.addMethod(new E("pauseAnimation",new O([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("pauseAnimation")||t.pauseAnimation()}),!1,!1,"Pausiert die laufende Animation.",!1)),n.addMethod(new E("resumeAnimation",new O([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("resumeAnimation")||t.resumeAnimation()}),!1,!1,"FÃ¤hrt mit einer pausierten Animation wieder fort.",!1)),n.addMethod(new E("setAlpha",new O([{identifier:"alphaValue",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setAlpha")||i.setAlpha(n)}),!1,!1,"Setzt die Durchsichtigkeit. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig.",!1)),n.addMethod(new E("copy",new O([]),es(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Sprite-Objekts und git sie zurÃ¼ck.",!1)),n}return ts(t,e),t}(Z),rs=function(e){function t(e,n,i,r,o,a){var s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"linear";Xa(this,t),(s=Ja(this,Ya(t).call(this,o,a))).x=e,s.y=n,s.name=i,s.index=r,s.scaleMode=l,s.animationIndices=[],s.animationRuns=!1,s.imagesPerMillisecond=1,s.animationTime=0,s.animationPaused=!1,s.repeatType="once",s.textureName="",s.setTexture(null,r);var u=s.displayObject;return s.displayObject.localTransform.translate(s.x-u.width/2,s.y-u.height/2),s.displayObject.transform.onChange(),s.worldHelper.stage.addChild(u),s.centerXInitial=u.width/2,s.centerYInitial=u.height/2,s.addToDefaultGroup(),s}var n,i,r;return ts(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.x,this.y,this.name,this.index,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"setAlpha",value:function(e){this.displayObject.alpha=e}},{key:"setTexture",value:function(e,t){if(e!=this.name||t!=this.index){null==e&&(e=this.name),null==t&&(t=0),this.index=t,this.textureName=e;var n="";null!=window.javaOnlineDir&&(n=window.javaOnlineDir);var i=PIXI.Loader.shared.resources[n+"assets/graphics/spritesheet.json"],r=e+"#"+t,o=i.textures[r];if(null!=o){if("nearest_neighbour"==this.scaleMode){var a=this.worldHelper.scaledTextures[r];if(null==a){var s=new PIXI.Sprite(o),l=PIXI.RenderTexture.create({width:s.width,height:s.height,scaleMode:PIXI.SCALE_MODES.NEAREST});this.worldHelper.app.renderer.render(s,l,!0),this.worldHelper.scaledTextures[r]=l,a=l}null==(o=a)&&(o=i.textures[r])}var u=this.displayObject;null==u?(u=new PIXI.Sprite(o),this.displayObject=u):u.texture=o,this.hitPolygonInitial=Ua.getPolygonForTexture(e,t,this,new PIXI.Sprite(i.textures[r])),this.hitPolygonDirty=!0}else null==this.displayObject&&(this.displayObject=new PIXI.Sprite)}}},{key:"render",value:function(){}},{key:"playAnimation",value:function(e,t,n){this.stopAnimation(!1),this.animationIndices=e,this.repeatType=t,this.imagesPerMillisecond=n/1e3,this.animationTime=0,this.animationRuns=!0,this.worldHelper.spriteAnimations.push(this)}},{key:"stopAnimation",value:function(e){if(this.animationRuns){var t=this.worldHelper.spriteAnimations,n=t.indexOf(this);t.splice(n,1)}this.animationRuns=!1,e&&this.setVisible(!1)}},{key:"pauseAnimation",value:function(){this.animationPaused=!0}},{key:"resumeAnimation",value:function(){this.animationPaused=!1}},{key:"tick",value:function(e){if(!this.animationPaused){var t;if("backAndForth"==this.repeatType){var n=2*this.animationIndices.length/this.imagesPerMillisecond,i=Math.trunc(this.animationTime/n),r=this.animationTime-i*n;(t=this.imagesPerMillisecond*r)>=this.animationIndices.length&&(t=2*this.animationIndices.length-t),t=Math.trunc(t)}else if("loop"==this.repeatType){var o=this.animationIndices.length/this.imagesPerMillisecond,a=Math.trunc(this.animationTime/o),s=this.animationTime-a*o;t=this.imagesPerMillisecond*s,t=Math.trunc(t)}else if((t=Math.trunc(this.imagesPerMillisecond*this.animationTime))>=this.animationIndices.length)return void this.stopAnimation(!0);this.animationTime+=e,this.setTexture(null,this.animationIndices[t])}}}])&&qa(n.prototype,i),r&&qa(n,r),t}(Wr);function os(e){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){return!t||"object"!==os(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ls(e,t){return(ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var us=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=as(this,ss(t).call(this,"SpriteLibrary",e,SpriteLibrary.filter((function(e){return null==e.index||0==e.index})).map((function(e){return{type:s.pushEnumValue,position:null,identifier:e.name}}))))).documentation="AufzÃ¤hlung der Sprite-Grafiken",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ls(e,t)}(t,e),t}($t);function cs(e){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){return!t||"object"!==cs(t)&&"function"!=typeof t?ys(e):t}function fs(e){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ms(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gs=function(e){function t(e){var n;return hs(this,t),(n=ps(this,fs(t).call(this,"Text",e,"Text, der innerhalb der Grafikausgabe dargestellt werden kann"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Text",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"fontsize",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new bs(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues Textobjekt. (x, y) sind die Koordinaten des Textankers (default: links oben), fontsize die HÃ¶he des Textes in Pixeln.",!0)),n.addMethod(new E("setFontsize",new O([{identifier:"fontsize",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setFontsize(n)}),!1,!1,'Setzt die SchriftgrÃ¶Ãe des Textes (Einheit: Pixel)."',!1)),n.addMethod(new E("setAlignment",new O([{identifier:"alignment",type:e.typeStore.getType("Alignment"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setAlignment(n.enumValue.identifier)}),!1,!1,'Setzt die Ausrichtung in X-Richtung. ZulÃ¤ssige Werte sind "Alignment.left", "Alignment.right" und "Alignment.center".',!1)),n.addMethod(new E("setText",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setText(n)}),!1,!1,'Setzt den Text."',!1)),n.addMethod(new E("copy",new O([]),ys(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Text-Objekts und git sie zurÃ¼ck.",!1)),n.addMethod(new E("getWidth",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.getWidth()}),!1,!1,"Gibt die Breite des Textes zurÃ¼ck.",!1)),n.addMethod(new E("getHeight",new O([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.getHeight()}),!1,!1,"Gibt die HÃ¶he des Textes zurÃ¼ck.",!1)),n}return ms(t,e),t}(Z),bs=function(e){function t(e,n,i,r,o,a){var s;return hs(this,t),(s=ps(this,fs(t).call(this,o,a))).x=e,s.y=n,s.fontsize=i,s.text=r,s.alignment="left",s.textStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:s.fontsize,fontStyle:"normal",fontWeight:"normal",fill:[s.fillColor],stroke:s.borderColor,strokeThickness:s.borderWidth,dropShadow:!1,wordWrap:!1,align:"left"}),s.centerXInitial=e,s.centerYInitial=n,s.borderColor=null,s.textStyle.stroke=null,s.hitPolygonInitial=[],s.render(),s.addToDefaultGroup(),s}var n,i,r;return ms(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.x,this.y,this.fontsize,this.text,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.alignment=this.alignment,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;if(null==this.displayObject)e=new PIXI.Text(this.text,this.textStyle),this.displayObject=e,this.displayObject.localTransform.translate(this.x,this.y),this.displayObject.transform.onChange(),this.worldHelper.stage.addChild(e);else{switch(e.text=this.text,this.textStyle.fill=this.fillColor,this.textStyle.stroke=this.borderColor,this.textStyle.strokeThickness=this.borderWidth,e.alpha=this.fillAlpha,this.textStyle.fontSize=this.fontsize,this.alignment){case"left":e.anchor.x=0;break;case"center":e.anchor.x=.5;break;case"right":e.anchor.x=1}e.style=this.textStyle}if(this.centerXInitial=0,this.centerYInitial=0,null!=this.text){var t=PIXI.TextMetrics.measureText(this.text,this.textStyle);this.centerXInitial=t.width/2,this.centerYInitial=t.height/2}}},{key:"setFontsize",value:function(e){this.fontsize=e,this.render()}},{key:"setText",value:function(e){this.text=e,this.render()}},{key:"setAlignment",value:function(e){this.alignment=e,this.render()}},{key:"getWidth",value:function(){return this.displayObject.width}},{key:"getHeight",value:function(){return this.displayObject.height}}])&&ds(n.prototype,i),r&&ds(n,r),t}(lo);function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){return!t||"object"!==ws(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ss(e){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ks(this,Ss(t).call(this,"Math",e,"Klasse mit statischen Methoden zur Berechnung mathematischer Funktionen (sin, cos, abs, ...) und zur Ermittlung von Zufallszahlen."))).setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new j("PI",ct,(function(e){e.value=Math.PI}),!0,I.public,!0,"Die Kreiszahl Pi (3.1415...)")),n.addAttribute(new j("E",ct,(function(e){e.value=Math.E}),!0,I.public,!0,"Die Eulersche Zahl e")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n.addMethod(new E("round",new O([{identifier:"Wert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.round(e[1].value)}),!1,!0,"**Rundet** den Wert")),n.addMethod(new E("floor",new O([{identifier:"Wert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.floor(e[1].value)}),!1,!0,"Rundet den Wert ab, sucht also die **nÃ¤chstkleinere** ganze Zahl")),n.addMethod(new E("ceil",new O([{identifier:"Wert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.ceil(e[1].value)}),!1,!0,"Rundet den Wert auf, sucht also die **nÃ¤chstgrÃ¶Ãere** Zahl.")),n.addMethod(new E("signum",new O([{identifier:"Wert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.sign(e[1].value)}),!1,!0,"Gibt das Vorzeichen der Zahl zurÃ¼ck, d.h. \n  - -1, falls die Zahl **negativ** ist,\n  - 0, falls die Zahl **0** ist und\n  - +1, falls die Zahl **positiv** ist.")),n.addMethod(new E("sqrt",new O([{identifier:"Wert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.sqrt(e[1].value)}),!1,!0,"Gibt die **Quadratwurzel** der Zahl zurÃ¼ck. FÃ¼r andere Wurzeln benutze Math.pow(a, b), z.B. Math.pow(10, 1.0/3.0) fÃ¼r die Kubikwurzel aus 10.")),n.addMethod(new E("random",new O([]),ct,(function(e){return Math.random()}),!1,!0,"Gibt eine Zufallszahl aus dem Intervall [0;1[ zurÃ¼ck.")),n.addMethod(new E("pow",new O([{identifier:"Basis",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Exponent",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.pow(e[1].value,e[2].value)}),!1,!0,'Math.pow(a, b) gibt "a hoch b" zurÃ¼ck.')),n.addMethod(new E("toDegrees",new O([{identifier:"WinkelInRad",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[1].value/Math.PI*180}),!1,!0,"Wandelt einen Winkel von Rad in Grad um, d.h. berechnet Winkel/Pi*180.")),n.addMethod(new E("toRadians",new O([{identifier:"WinkelInGrad",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[1].value/180*Math.PI}),!1,!0,"Wandelt einen Winkel von Grad in Rad um, d.h. berechnet Winkel/180*Pi.")),n.addMethod(new E("exp",new O([{identifier:"Zahl",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.exp(e[1].value)}),!1,!0,'Berechnet "e hoch die Zahl".')),n.addMethod(new E("log",new O([{identifier:"Zahl",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.log(e[1].value)}),!1,!0,"Berechnet den natÃ¼rlichen Logarithmus der Zahl.")),n.addMethod(new E("log10",new O([{identifier:"Zahl",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.log10(e[1].value)}),!1,!0,"Berechnet den Zehnerlogarithmus der Zahl.")),n.addMethod(new E("sin",new O([{identifier:"WinkelInRad",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.sin(e[1].value)}),!1,!0,"Berechnet den Sinus des Winkels.")),n.addMethod(new E("cos",new O([{identifier:"WinkelInRad",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.cos(e[1].value)}),!1,!0,"Berechnet den Cosinus des Winkels.")),n.addMethod(new E("tan",new O([{identifier:"WinkelInRad",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.tan(e[1].value)}),!1,!0,"Berechnet den Tangens des Winkels.")),n.addMethod(new E("asin",new O([{identifier:"WertDesSinus",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.asin(e[1].value)}),!1,!0,"Berechnet den Arcus-Sinus des Wertes in Rad.")),n.addMethod(new E("acos",new O([{identifier:"WertDesCosinus",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.acos(e[1].value)}),!1,!0,"Berechnet den Arcus-Cosinus des Wertes in Rad.")),n.addMethod(new E("atan",new O([{identifier:"WertDesTangens",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.atan(e[1].value)}),!1,!0,"Berechnet den Arcus-Tangens des Wertes in Rad.")),n.addMethod(new E("atan2",new O([{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.atan2(e[1].value,e[2].value)}),!1,!0,"Sind (x, y) die kartesischen Koordinaten eines Punktes, so ist Math.atan2(x, y) der Winkel alpha der Polarkoordinaten (alpha, r) des Punktes. \n**Bem.: **Alpha wird in Rad berechnet.")),n.addMethod(new E("abs",new O([{identifier:"Wert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),n.addMethod(new E("abs",new O([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),n.addMethod(new E("abs",new O([{identifier:"Wert",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),n.addMethod(new E("max",new O([{identifier:"a",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die grÃ¶Ãere der beiden Zahlen zurÃ¼ck.")),n.addMethod(new E("max",new O([{identifier:"a",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die grÃ¶Ãere der beiden Zahlen zurÃ¼ck.")),n.addMethod(new E("max",new O([{identifier:"a",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die grÃ¶Ãere der beiden Zahlen zurÃ¼ck.")),n.addMethod(new E("min",new O([{identifier:"a",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zurÃ¼ck.")),n.addMethod(new E("min",new O([{identifier:"a",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zurÃ¼ck.")),n.addMethod(new E("min",new O([{identifier:"a",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zurÃ¼ck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(t,e),t}(Z);function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ms(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function js(e){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Es(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Os(e,t)}function Os(e,t){return(Os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ds=function(e){function t(e){var n;return Ts(this,t),(n=Ms(this,js(t).call(this,"System",e,"Klasse mit statischen Methoden fÃ¼r Systemfunktionen, z.B. Sound, LÃ¶schen der Ausgabe usw."))).deltaTimeMillis=0,n.printStream=new A(e.typeStore.getType("PrintStream")),n.setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new j("out",e.typeStore.getType("PrintStream"),(function(e){e.value=n.printStream}),!0,I.public,!0,"PrintStream-Objekt, mit dem Text ausgegeben werden kann.")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n.addMethod(new E("currentTimeMillis",new O([]),lt,(function(e){return Date.now()+n.deltaTimeMillis}),!1,!0,"Gibt die Anzahl der Millisekunden, die seit dem 01.01.1970 00:00:00 UTC vergangen sind, zurÃ¼ck.")),n}return Es(t,e),t}(Z),_s=function(e){function t(e){var n;return Ts(this,t),(n=Ms(this,js(t).call(this,"PrintStream",e,"Interne Hilfsklasse, um System.out.println zu ermÃ¶glichen. Das Objekt System.out ist von der Klasse PrintStream."))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new E("print",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){e.main.getInterpreter().printManager.print(t[1].value)}),!1,!0,"Gibt den Text aus.")),n.addMethod(new E("println",new O([{identifier:"text",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){e.main.getInterpreter().printManager.println(t[1].value)}),!1,!0,"Gibt den Text aus, gefolgt von einem Zeilensprung.")),n}return Es(t,e),t}(Z);function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Is(e,t){return!t||"object"!==As(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ls(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bs(e,t)}function Bs(e,t){return(Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rs=function(e){function t(e){var n;return Fs(this,t),(n=Is(this,zs(t).call(this,"SystemTools",e,"Klasse mit statischen Methoden fÃ¼r Systemfunktionen, z.B. LÃ¶schen der Ausgabe, Registrieren eines Tastaturlisteners usw."))).setBaseClass(e.typeStore.getType("Object")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n.addMethod(new E("clearScreen",new O([]),null,(function(t){e.main.getInterpreter().printManager.clear()}),!1,!0,"LÃ¶scht den Bildschirm")),n.addMethod(new E("addKeyListener",new O([{identifier:"keyListener",type:e.typeStore.getType("KeyListener"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[1].value,i=n.class.getMethodBySignature("onKeyTyped(String)");null!=i&&e.main.getInterpreter().keyboardTool.keyPressedCallbacks.push((function(t){var r=null==i?void 0:i.program,o=null==i?void 0:i.invoke,a=[{type:n.class,value:n},{type:pt,value:t}];null!=r?e.main.getInterpreter().runTimer(i,a,null,!1):null!=o&&o([])}))}),!1,!0,"FÃ¼gt einen KeyListener hinzu, dessen Methode keyTyped immer dann aufgerufen wird, wenn eine Taste gedrÃ¼ckt und anschlieÃend losgelassen wird.")),n}return Ls(t,e),t}(Z),Ws=function(e){function t(e){var n;return Fs(this,t),(n=Is(this,zs(t).call(this,"KeyListener",e,"Interface mit Methode onKeyTyped. Eine Klasse, die dieses Interface implementiert, kann auf Tastatureingaben reagieren. Ein Objekt dieser Klasse muss zuvor aber mit System.addKeyListener() registriert werden."))).addMethod(new E("onKeyTyped",new O([{identifier:"key",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, nachdem eine Taste gedrÃ¼ckt wurde.")),n}return Ls(t,e),t}(X);function $s(e){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gs(e,t){return!t||"object"!==$s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hs(e){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Us=function(e){function t(e){var n;return Ns(this,t),(n=Gs(this,Hs(t).call(this,"Runnable",e))).addMethod(new E("run",new O([]),st,null,!1,!1,"Wird vom Timer immer wieder aufgerufen")),n}return Qs(t,e),t}(X),Zs=function(e){function t(e){var n;return Ns(this,t),(n=Gs(this,Hs(t).call(this,"Timer",e,"Timer Klasse zur periodischen AusfÃ¼hrung von Methoden"))).timerEntries=[],n.timerRunning=!1,n.setBaseClass(e.typeStore.getType("Object")),n.staticClass.classObject=new A(n.staticClass),n.staticClass.classObject.initializeAttributeValues(),n.addMethod(new E("repeat",new O([{identifier:"runnable",type:e.typeStore.getType("Runnable"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"deltaTimeInMs",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[1].value,i=e[2].value,r={timerListener:t,dt:i,lastTimeFired:0,running:!0,method:t.class.getMethod("run",new O([]))};n.timerEntries.push(r),console.log("TimerListener added with dt = "+i+" ms.")}),!1,!0,"FÃ¼gt ein neues TimerListener-Objekt hinzu und ruft dessen tick-Methode immer wieder auf.")),n.processTimerEntries(),n}var n,i,r;return Qs(t,e),n=t,(i=[{key:"processTimerEntries",value:function(){var e,t;if(this.timerEntries.length>0){var n=null===(t=null===(e=this.module)||void 0===e?void 0:e.main)||void 0===t?void 0:t.getInterpreter();if(null!=n){if(!this.timerRunning&&n.state==Xi.running){var i=performance.now(),r=!0,o=!1,a=void 0;try{for(var s,l=this.timerEntries[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=i-u.lastTimeFired;c>=u.dt&&(this.runEntry(u,n,Math.round(c)),u.lastTimeFired=i)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}switch(n.state){case Xi.done:case Xi.error:case Xi.not_initialized:this.timerEntries=[],this.timerRunning=!1}}}var d=this;setTimeout((function(){d.processTimerEntries()}),10)}},{key:"runEntry",value:function(e,t,n){var i=[{type:e.timerListener.class,value:e.timerListener}];this.timerRunning=!0;var r=this;t.runTimer(e.method,i,(function(e){r.timerRunning=!1}),!1)}}])&&Vs(n.prototype,i),r&&Vs(n,r),t}(Z);function qs(e){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xs(e,t){return!t||"object"!==qs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ys(e,t){return(Ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var el=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Xs(this,Js(t).call(this,"Map",e,"Interface mit Methoden einer Map (SchlÃ¼ssel-Wert-Speicher)"));var i=e.typeStore.getType("Object"),r=i.clone();r.identifier="K",r.isTypeVariable=!0;var o={identifier:"K",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=i.clone();a.identifier="V",a.isTypeVariable=!0;var s={identifier:"V",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};return n.typeVariables.push(s),n.addMethod(new E("size",new O([]),lt,null,!0,!1,"Gibt die Anzahl der Elemente der Map zurÃ¼ck.")),n.addMethod(new E("isEmpty",new O([]),dt,null,!0,!1,"Testet, ob die Map leer ist.")),n.addMethod(new E("containsKey",new O([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"Gibt genau dann true zurÃ¼ck, wenn die Map zum SchlÃ¼ssel key einen Wert enthÃ¤lt.")),n.addMethod(new E("containsValue",new O([{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,null,!0,!1,"Gibt genau dann true zurÃ¼ck, wenn die Map den Wert enthÃ¤lt.")),n.addMethod(new E("get",new O([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),a,null,!0,!1,"Gibt den Wert zum SchlÃ¼ssel key zurÃ¼ck. Gibt null zurÃ¼ck, falls die Map zum SchlÃ¼ssel key keinen Wert enthÃ¤lt.")),n.addMethod(new E("put",new O([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"value",type:r,declaration:null,usagePositions:null,isFinal:!0}]),a,null,!0,!1,"Speichert das key-value pair in der Map. Falls zum key vorher schon ein Value gespeichert war, wird dieser zurÃ¼ckgegeben. In der Map wird er dann durch den neuen Value Ã¼berschrieben. Falls es zum key noch keinen value in der Map gab, wird null zurÃ¼ckgegeben.")),n.addMethod(new E("clear",new O([]),null,null,!0,!1,"Entfernt alle Element aus dieser Map.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ys(e,t)}(t,e),t}(X);function tl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nl=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.keyArray=[],this.valueArray=[],this.map=new Map}var t,n,i;return t=e,(n=[{key:"get",value:function(e){return this.map.get(e.value)}},{key:"set",value:function(e,t){var n=this.map.get(e.value);return null==n?this.keyArray.push(e):this.valueArray.splice(this.valueArray.indexOf(n),1),this.valueArray.push(t),this.map.set(e.value,t),n}},{key:"allElementsPrimitive",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.keyArray[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!(o.type instanceof M||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.valueArray[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(!(d.type instanceof M||["String","_Double","Integer","Boolean","Character"].indexOf(d.type.identifier)>=0))return!1}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive()){for(var e="[",t=0;t<this.keyArray.length;t++)e+=this.keyArray[t].value+" => "+this.valueArray[t].value,t<this.keyArray.length-1&&(e+=", ");return e+"]"}for(var n={line:1,column:1,length:1},i=[{type:s.noOp,position:n,stepFinished:!1},{type:s.pushConstant,dataType:pt,value:"[",position:n,stepFinished:!1}],r=new O([]),o=0;o<this.valueArray.length;o++){var a=this.keyArray[o];a.type instanceof M||a.type instanceof ot?i.push({type:s.pushConstant,dataType:pt,value:a.type.castTo(a,pt).value,position:n,stepFinished:!1}):(i.push({type:s.pushConstant,dataType:a.type,value:a.value,stepFinished:!1,position:n}),i.push({type:s.callMethod,method:a.type.getMethod("toString",r),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:n})),i.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:n}),i.push({type:s.pushConstant,dataType:pt,value:" => ",position:n,stepFinished:!1}),i.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:n});var l=this.valueArray[o];null==l.value||l.type instanceof M||l.type instanceof ot?i.push({type:s.pushConstant,dataType:pt,value:null==l.value?"null":l.type.castTo(l,pt).value,position:n,stepFinished:!1}):(i.push({type:s.pushConstant,dataType:l.type,value:l.value,stepFinished:!1,position:n}),i.push({type:s.callMethod,method:l.type.getMethod("toString",r),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:n})),i.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:n}),o<this.valueArray.length-1&&(i.push({type:s.pushConstant,dataType:pt,value:", ",position:n,stepFinished:!1}),i.push({type:s.binaryOp,leftType:pt,operator:s.plus,stepFinished:!1,position:n}))}i.push({type:s.pushConstant,dataType:pt,value:"]",position:n,stepFinished:!1}),i.push({type:s.binaryOp,operator:s.plus,leftType:pt,stepFinished:!1,position:n}),i.push({type:s.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:n,methodWasInjected:!0});var u={module:this.module,statements:i,labelManager:null},c=new E("toString",new O([]),pt,u,!1,!1);return this.interpreter.runTimer(c,[],(function(){return console.log("List.toString fertig!")}),!0),""}},{key:"size",value:function(){return this.valueArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"containsKey",value:function(e){return null!=this.map.get(e.value)}},{key:"containsValue",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.valueArray[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)if(r.value.value==e.value)return!0}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return!1}},{key:"clear",value:function(){this.valueArray=[],this.keyArray=[],this.map.clear()}}])&&tl(t.prototype,n),i&&tl(t,i),e}();function il(e){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(e,t){return!t||"object"!==il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t){return(al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sl=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=rl(this,ol(t).call(this,"HashMap",e,"Map-Klasse mit Zugriffszeit proportional zu log(Anzahl der Elemente)"));var i=e.typeStore.getType("Object");n.setBaseClass(i);var r=i.clone();r.identifier="K",r.isTypeVariable=!0;var o={identifier:"K",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=i.clone();a.identifier="V",a.isTypeVariable=!0;var s={identifier:"V",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Map").clone();return l.typeVariables=[o,s],n.implements.push(l),n.addMethod(new E("HashMap",new O([]),null,(function(t){var n=t[0].value,i=new nl(n,e.main.getInterpreter(),e);n.intrinsicData.MapHelper=i}),!1,!1,"Instanziert eine neue HashMap",!0)),n.addMethod(new E("put",new O([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1],i=e[2];return t.intrinsicData.MapHelper.set(n,i)}),!1,!1,"Speichert das key-value pair in der Map. Falls zum key vorher schon ein Value gespeichert war, wird dieser zurÃ¼ckgegeben. In der Map wird er dann durch den neuen Value Ã¼berschrieben. Falls es zum key noch keinen value in der Map gab, wird null zurÃ¼ckgegeben.")),n.addMethod(new E("clear",new O([]),null,(function(e){return e[0].value.intrinsicData.MapHelper.clear()}),!1,!1,"Entfernt alle Key-Value-Pairs aus dieser HashMap.")),n.addMethod(new E("containsKey",new O([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.MapHelper.containsKey(n)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn die Map zum SchlÃ¼ssel key einen Wert enthÃ¤lt.")),n.addMethod(new E("containsValue",new O([{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),dt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.MapHelper.containsValue(n)}),!1,!1,"Gibt genau dann true zurÃ¼ck, wenn die Map den Wert enthÃ¤lt.")),n.addMethod(new E("get",new O([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1],i=t.intrinsicData.MapHelper.get(n);return null==i?null:i.value}),!1,!1,"Gibt den Wert zum SchlÃ¼ssel key zurÃ¼ck. Gibt null zurÃ¼ck, falls die Map zum SchlÃ¼ssel key keinen Wert enthÃ¤lt.")),n.addMethod(new E("isEmpty",new O([]),dt,(function(e){return e[0].value.intrinsicData.MapHelper.isEmpty()}),!1,!1,"Testet, ob die HashMap leer ist.")),n.addMethod(new E("size",new O([]),lt,(function(e){return e[0].value.intrinsicData.MapHelper.size()}),!1,!1,"Gibt die Anzahl der key-value-pairs der HashMap zurÃ¼ck.")),n.addMethod(new E("toString",new O([]),pt,(function(e){return e[0].value.intrinsicData.MapHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&al(e,t)}(t,e),t}(Z);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(e){return(ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hl=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=ul(t).call(this,"Triangle",e,"Dreieck"))||"object"!==ll(r)&&"function"!=typeof r?cl(i):r).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Triangle",new O([{identifier:"x1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x3",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y3",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){for(var n=t[0].value,i=[],r=1;r<=6;r++)i.push(t[r].value);var o=new ua(i,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=o}),!1,!1,"Instanziert ein neues Dreieck.",!0)),n.addMethod(new E("copy",new O([]),cl(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Triangle-Objekts und git sie zurÃ¼ck.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(t,e),t}(Z);function pl(e){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yl(e,t){return!t||"object"!==pl(t)&&"function"!=typeof t?vl(e):t}function ml(e){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bl(e,t)}function bl(e,t){return(bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wl=function(e){function t(e){var n;fl(this,t),(n=yl(this,ml(t).call(this,"LocalDateTime",e,"Ein LocalDate-Objekt speichert einen Zeitpunkt (Datum und Uhrzeit)."))).setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("DayOfWeek"),r=e.typeStore.getType("Month");return n.addMethod(new E("now",new O([]),vl(n),(function(e){var t=new A(vl(n)),i={date:new Date};return t.intrinsicData=i,t}),!1,!0,"Holt den aktuellen Zeitpunkt von der Systemuhr des Rechners und gibt ihn als LocalDateTime-Objekt zurÃ¼ck.",!1)),n.addMethod(new E("of",new O([{identifier:"year",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"month",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dayOfMonth",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hour",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"minute",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"second",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),vl(n),(function(e){var t=new A(vl(n)),i=Math.trunc(e[1].value),r=Math.trunc(e[2].value),o=Math.trunc(e[3].value),a=Math.trunc(e[4].value),s=Math.trunc(e[5].value),l=Math.trunc(e[6].value),u={date:new Date(i,r-1,o,a,s,l)};return t.intrinsicData=u,t}),!1,!0,"Gibt ein LocalDateTime-Objekt zurÃ¼ck, das den durch year, month (1 - 12), dayOfMonth, hour, minute, second beschriebenen Zeitpunkt reprÃ¤sentiert.",!1)),n.addMethod(new E("of",new O([{identifier:"year",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"month",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dayOfMonth",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hour",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"minute",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"second",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),vl(n),(function(e){var t=new A(vl(n)),i=Math.trunc(e[1].value),r=e[2].value,o=Math.trunc(e[3].value),a=Math.trunc(e[4].value),s=Math.trunc(e[5].value),l=Math.trunc(e[6].value),u={date:new Date(i,r.enumValue.ordinal,o,a,s,l)};return t.intrinsicData=u,t}),!1,!0,"Gibt ein LocalDateTime-Objekt zurÃ¼ck, das den durch year, month (1 - 12), dayOfMonth, hour, minute, second beschriebenen Zeitpunkt reprÃ¤sentiert.",!1)),n.addMethod(new E("plusDays",new O([{identifier:"days",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),vl(n),(function(e){var t=e[0].value,i=Math.trunc(e[1].value),r=t.intrinsicData.date,o=new Date(r.getTime()+24*i*3600*1e3),a=new A(vl(n)),s={date:o};return a.intrinsicData=s,a}),!1,!1,"Gibt ein neues LocalDateTime-Objekt zurÃ¼ck, das einen Zeitpunkt reprÃ¤sentiert, der um die Ã¼bergebene Anzahl von Tagen spÃ¤ter liegt.",!1)),n.addMethod(new E("minusDays",new O([{identifier:"days",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),vl(n),(function(e){var t=e[0].value,i=Math.trunc(e[1].value),r=t.intrinsicData.date,o=new Date(r.getTime()-24*i*3600*1e3),a=new A(vl(n)),s={date:o};return a.intrinsicData=s,a}),!1,!1,"Gibt ein neues LocalDateTime-Objekt zurÃ¼ck, das einen Zeitpunkt reprÃ¤sentiert, der um die Ã¼bergebene Anzahl von Tagen frÃ¼her liegt.",!1)),n.addMethod(new E("compareTo",new O([{identifier:"date",type:vl(n),declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.date.getTime(),r=n.intrinsicData.date.getTime();return Math.sign(i-r)}),!1,!1,"Gibt 1 zurÃ¼ck, falls das Datum grÃ¶Ãer ist als das Ã¼bergebene, 0, falls sie gleich sind und -1, falls das Datum kleiner ist als das Ã¼bergebene.",!1)),n.addMethod(new E("until",new O([{identifier:"date",type:vl(n),declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){var t=e[0].value,n=e[1].value;return(t.intrinsicData.date.getTime()-n.intrinsicData.date.getTime())/86400}),!1,!1,"Gibt zurÃ¼ck, wie viele Tage (gerundet) zwischen den beiden Zeitpunkten liegen.",!1)),n.addMethod(new E("getYear",new O([]),lt,(function(e){return e[0].value.intrinsicData.date.getFullYear()}),!1,!1,"Gibt das Jahr zurÃ¼ck.",!1)),n.addMethod(new E("getMonthValue",new O([]),lt,(function(e){return e[0].value.intrinsicData.date.getMonth()+1}),!1,!1,"Gibt den Monat als Zahl zurÃ¼ck (Januar == 1, Februar == 2, ..., Dezember == 12).",!1)),n.addMethod(new E("getDayOfMonth",new O([]),lt,(function(e){return e[0].value.intrinsicData.date.getDate()}),!1,!1,"Gibt den Tag innerhalb des Monats zurÃ¼ck (Zahl von 1 bis 31).",!1)),n.addMethod(new E("getHour",new O([]),lt,(function(e){return e[0].value.intrinsicData.date.getHours()}),!1,!1,"Gibt die Stunde innerhalb des Tages zurÃ¼ck.",!1)),n.addMethod(new E("getMinute",new O([]),lt,(function(e){return e[0].value.intrinsicData.date.getMinutes()}),!1,!1,"Gibt die Minute zurÃ¼ck.",!1)),n.addMethod(new E("getSecond",new O([]),lt,(function(e){return e[0].value.intrinsicData.date.getSeconds()}),!1,!1,"Gibt die Sekunde zurÃ¼ck.",!1)),n.addMethod(new E("toString",new O([]),pt,(function(e){var t=e[0].value.intrinsicData.date,n=function(e){return e<10?"0"+e:""+e};return"".concat(n(t.getDate()),".").concat(n(t.getMonth()+1),".").concat(n(t.getFullYear())," ").concat(n(t.getHours()),":").concat(n(t.getMinutes()),":").concat(n(t.getSeconds()))}),!1,!1,"Gibt den Wert in der Form 12.03.2007 10:15:30 zurÃ¼ck.",!1)),n.addMethod(new E("getDayOfWeek",new O([]),i,(function(e){var t=e[0].value.intrinsicData.date.getDay();return i.enumInfoList[t-1].object}),!1,!1,"Gibt die den Wochentag zurÃ¼ck. Falls Du ihn als Zahl (0 == Montag, ...) benÃ¶tigst, nutze getDayOfWeek().toOrdinal(). ",!1)),n.addMethod(new E("getMonth",new O([]),r,(function(e){var t=e[0].value.intrinsicData.date.getMonth();return r.enumInfoList[t].object}),!1,!1,"Gibt die den Monat zurÃ¼ck. Falls Du ihn als Zahl (1 == Januar, ...) benÃ¶tigst, nutze getMonthValue()",!1)),n}return gl(t,e),t}(Z),kl=function(e){function t(e){var n;return fl(this,t),(n=yl(this,ml(t).call(this,"DayOfWeek",e,[{type:s.pushEnumValue,position:null,identifier:"Montag"},{type:s.pushEnumValue,position:null,identifier:"Dienstag"},{type:s.pushEnumValue,position:null,identifier:"Mittwoch"},{type:s.pushEnumValue,position:null,identifier:"Donnerstag"},{type:s.pushEnumValue,position:null,identifier:"Freitag"},{type:s.pushEnumValue,position:null,identifier:"Samstag"},{type:s.pushEnumValue,position:null,identifier:"Sonntag"}]))).documentation="Wochentag",n}return gl(t,e),t}($t),Sl=function(e){function t(e){var n;return fl(this,t),(n=yl(this,ml(t).call(this,"Month",e,[{type:s.pushEnumValue,position:null,identifier:"Januar"},{type:s.pushEnumValue,position:null,identifier:"Februar"},{type:s.pushEnumValue,position:null,identifier:"MÃ¤rz"},{type:s.pushEnumValue,position:null,identifier:"April"},{type:s.pushEnumValue,position:null,identifier:"Mai"},{type:s.pushEnumValue,position:null,identifier:"Juni"},{type:s.pushEnumValue,position:null,identifier:"Juli"},{type:s.pushEnumValue,position:null,identifier:"August"},{type:s.pushEnumValue,position:null,identifier:"Septemter"},{type:s.pushEnumValue,position:null,identifier:"Oktober"},{type:s.pushEnumValue,position:null,identifier:"November"},{type:s.pushEnumValue,position:null,identifier:"Dezember"}]))).documentation="Monat",n}return gl(t,e),t}($t);function Pl(e){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tl(e,t){return(Tl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ml=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=xl(t).call(this,"Line",e,"Strecke (gerade Linie zwischen zwei Punkten)"))||"object"!==Pl(r)&&"function"!=typeof r?Cl(i):r).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Line",new O([{identifier:"x1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new ua([i,r,o,a],!1,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert eine Strecke mit Anfangspunkt (x1/y1) und Endpunkt (x2/y2).",!0)),n.addMethod(new E("copy",new O([]),Cl(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie der Strecke und git sie zurÃ¼ck.",!1)),n.addMethod(new E("setPoint",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("setPoint")||o.setPoint(n,i,r-1)}),!1,!1,"Ãndert einen Punkt des Polygons. index == 1 bedeutet: Anfangspunkt; index == 2 bedeutet: Endpunkt",!1)),n.addMethod(new E("setPoints",new O([{identifier:"x1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.Actor;a.testdestroyed("setPoints")||a.setPoints(n,i,r,o)}),!1,!1,"Ãndert die Punkte der Strecke. (x1/y1) ist der neue Anfangspunkt, (x2/y2) ist der neue Endpunkt.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tl(e,t)}(t,e),t}(Z);function jl(e){return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function El(e){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dl(e,t){return(Dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _l=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,r=El(t).call(this,"Vector2",e,"ReprÃ¤sentiert einen zweidimensionalen Vektor"),(n=!r||"object"!==jl(r)&&"function"!=typeof r?Ol(i):r).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new E("Vector2",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=new Map;r.set("x",{type:ct,value:n}),r.set("y",{type:ct,value:i}),t.attributeValues.set("Vector2",r)}),!1,!1,"Instanziert einen neuen zweidimensionalen Vektor mit den Komponenten x und y.",!0)),n.addMethod(new E("fromPolarCoordinates",new O([{identifier:"r",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"alphaDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Ol(n),(function(e){var t=new A(Ol(n)),i=e[1].value,r=e[2].value;r*=Math.PI/180;var o=new Map;return o.set("x",{type:ct,value:Math.cos(r)*i}),o.set("y",{type:ct,value:Math.sin(r)*i}),t.attributeValues.set("Vector2",o),t}),!1,!0,"Gibt einen neuen zweidimensionalen Vektor zurÃ¼ck, der mit den Polarkoordinaten (r/alphaDeg) gebildet wird. Datei ist r (Abstand zum Ursprung des Koordinatensystems) und alphaDeg (Winkel zur positiven x-Achse in Grad).",!1)),n.addMethod(new E("toString",new O([]),pt,(function(e){var t=e[0].value.attributeValues.get("Vector2"),n=t.get("x").value,i=t.get("y").value;return"(".concat(n,"/").concat(i,")")}),!1,!1,'Gibt den Vektor als Zeichenkette in der Form "(x/y)" zurÃ¼ck.',!1)),n.addMethod(new E("getAngleDeg",new O([]),ct,(function(e){var t=e[0].value.attributeValues.get("Vector2"),n=t.get("x").value,i=t.get("y").value,r=Math.atan2(i,n)/Math.PI*180;return r>=0?r:360+r}),!1,!1,"Gibt den zur positiven x-Achse in Grad zurÃ¼ck.",!1)),n.addMethod(new E("getAngleRad",new O([]),ct,(function(e){var t=e[0].value.attributeValues.get("Vector2"),n=t.get("x").value,i=t.get("y").value,r=Math.atan2(i,n);return r>=0?r:2*Math.PI+r}),!1,!1,"Gibt den zur positiven x-Achse im BogenmaÃ zurÃ¼ck.",!1)),n.addMethod(new E("getLength",new O([]),ct,(function(e){var t=e[0].value.attributeValues.get("Vector2"),n=t.get("x").value,i=t.get("y").value;return Math.sqrt(n*n+i*i)}),!1,!1,"Gibt die LÃ¤nge des Vectors zurÃ¼ck.",!1)),n.addMethod(new E("toUnitVector",new O([]),Ol(n),(function(e){var t=e[0].value.attributeValues.get("Vector2"),i=t.get("x").value,r=t.get("y").value,o=new A(Ol(n)),a=Math.sqrt(i*i+r*r);Math.abs(a)>1e-11?(i/=a,r/=a):(i=0,r=0);var s=new Map;return s.set("x",{type:ct,value:i}),s.set("y",{type:ct,value:r}),o.attributeValues.set("Vector2",s),o}),!1,!1,"Gibt den zum Vektor zugehÃ¶rigen Einheitsvektor (d.h. den Vektor mit derselben Richtung, aber der LÃ¤nge 1) zurÃ¼ck.",!1)),n.addMethod(new E("setLength",new O([{identifier:"length",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Ol(n),(function(e){var t=e[0].value.attributeValues.get("Vector2"),n=t.get("x").value,i=t.get("y").value,r=e[1].value,o=Math.sqrt(n*n+i*i);o>0&&(t.get("x").value=n/o*r,t.get("y").value=i/o*r)}),!1,!1,"Ãndert den Vektor so, dass er seine Richtung beibehÃ¤lt, aber auf die angegebene LÃ¤nge gestreckt/gestaucht wird.",!1)),n.addMethod(new E("plus",new O([{identifier:"vector",type:Ol(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Ol(n),(function(e){var t=e[0].value.attributeValues.get("Vector2"),i=t.get("x").value,r=t.get("y").value,o=e[1].value.attributeValues.get("Vector2"),a=o.get("x").value,s=o.get("y").value,l=new A(Ol(n)),u=new Map;return u.set("x",{type:ct,value:i+a}),u.set("y",{type:ct,value:r+s}),l.attributeValues.set("Vector2",u),l}),!1,!1,"Gibt die Summe zurÃ¼ck, die sich aus Addition dieses Vektor mit dem Ã¼bergebenen Vektor ergibt. WICHTIG: Diese Methode Ã¤ndert das Objekt nicht, fÃ¼r das sie aufgerufen wurde!",!1)),n.addMethod(new E("minus",new O([{identifier:"vector",type:Ol(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Ol(n),(function(e){var t=e[0].value.attributeValues.get("Vector2"),i=t.get("x").value,r=t.get("y").value,o=e[1].value.attributeValues.get("Vector2"),a=o.get("x").value,s=o.get("y").value,l=new A(Ol(n)),u=new Map;return u.set("x",{type:ct,value:i-a}),u.set("y",{type:ct,value:r-s}),l.attributeValues.set("Vector2",u),l}),!1,!1,"Gibt die Differenz zurÃ¼ck, die sich aus Subtraktion des Ã¼bergebenen Vektors von diesem Vektor ergibt. WICHTIG: Diese Methode Ã¤ndert das Objekt nicht, fÃ¼r das sie aufgerufen wurde!",!1)),n.addMethod(new E("scalarProduct",new O([{identifier:"vector1",type:Ol(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"vector2",type:Ol(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ct,(function(e){var t=e[1].value.attributeValues.get("Vector2"),n=t.get("x").value,i=t.get("y").value,r=e[2].value.attributeValues.get("Vector2");return n*r.get("x").value+i*r.get("y").value}),!1,!0,"Gibt das Skalarprodukt der beiden Vektoren zurÃ¼ck.",!1)),n.addMethod(new E("scaledBy",new O([{identifier:"scalar",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Ol(n),(function(e){var t=e[0].value.attributeValues.get("Vector2"),i=t.get("x").value,r=t.get("y").value,o=e[1].value,a=new A(Ol(n)),s=new Map;return s.set("x",{type:ct,value:i*o}),s.set("y",{type:ct,value:r*o}),a.attributeValues.set("Vector2",s),a}),!1,!1,"Gibt das Produkt zurÃ¼ck, das sich aus Multiplikation dieses Vektor mit dem Ã¼bergebenen Skalar ergibt. WICHTIG: Diese Methode Ã¤ndert das Objekt nicht, fÃ¼r das sie aufgerufen wurde!",!1)),n.addMethod(new E("rotatedBy",new O([{identifier:"angleDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Ol(n),(function(e){var t=e[0].value.attributeValues.get("Vector2"),i=t.get("x").value,r=t.get("y").value,o=-e[1].value*Math.PI/180,a=Math.sin(o),s=Math.cos(o),l=new A(Ol(n)),u=new Map;return u.set("x",{type:ct,value:i*s-r*a}),u.set("y",{type:ct,value:i*a+r*s}),l.attributeValues.set("Vector2",u),l}),!1,!1,"Gibt den um den Ã¼bergebenen Winkel (in Grad) rotierten Vektor zurÃ¼ck. Positiver Winkel => Rotation GEGEN DEN Uhrzeigersinn. WICHTIG: Diese Methode Ã¤ndert das Objekt nicht, fÃ¼r das sie aufgerufen wurde!",!1)),n.addMethod(new E("distance",new O([{identifier:"x1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[1].value,n=e[2].value,i=e[3].value-t,r=e[4].value-n;return Math.sqrt(i*i+r*r)}),!1,!0,"Berechnet den Abstand der Punkte (x1/y1) und (x2/y2).")),n.addAttribute(new j("x",ct,null,!1,I.public,!1,"x-Komponente des Vektors")),n.addAttribute(new j("y",ct,null,!1,I.public,!1,"y-Komponente des Vektors")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dl(e,t)}(t,e),t}(Z);function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){return!t||"object"!==Al(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zl(e){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ll(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bl(e,t)}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rl=function(e){function t(e){var n;return Fl(this,t),(n=Il(this,zl(t).call(this,"MouseListener",e,"Interface mit Methoden, die aufgerufen werden, wenn Maus-Ereignisse eintreten. Ein Objekt dieser Klasse muss zuvor aber mit world.addMouseListener() registriert werden, wobei world das aktuelle World-Objekt ist."))).addMethod(new E("onMouseUp",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste Ã¼ber dem Grafikbereich losgelassen wird.")),n.addMethod(new E("onMouseDown",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste Ã¼ber dem Grafikbereich gedrÃ¼ckt wird.")),n.addMethod(new E("onMouseMove",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger Ã¼ber dem Grafikbereich bewegt wird.")),n.addMethod(new E("onMouseEnter",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger in den Grafikbereich hineinbewegt wird.")),n.addMethod(new E("onMouseLeave",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger aus dem Grafikbereich herausbewegt wird.")),n}return Ll(t,e),t}(X),Wl=function(e){function t(e){var n;Fl(this,t),n=Il(this,zl(t).call(this,"MouseAdapter",e,"Klasse mit leeren Methoden, die aufgerufen werden, wenn Maus-Ereignisse eintreten. Ein Objekt einer Kindklasse dieser Klasse muss zuvor aber mit world.addMouseListener() registriert werden, wobei world das aktuelle World-Objekt ist."));var i=e.typeStore.getType("MouseListener");return n.implements.push(i),n.addMethod(new E("onMouseUp",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste Ã¼ber dem Grafikbereich losgelassen wird.")),n.addMethod(new E("onMouseDown",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste Ã¼ber dem Grafikbereich gedrÃ¼ckt wird.")),n.addMethod(new E("onMouseMove",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger Ã¼ber dem Grafikbereich bewegt wird.")),n.addMethod(new E("onMouseEnter",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger in den Grafikbereich hineinbewegt wird.")),n.addMethod(new E("onMouseLeave",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger aus dem Grafikbereich herausbewegt wird.")),n}return Ll(t,e),t}(Z);function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){return!t||"object"!==$l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hl(e){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t){return(Ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kl=function(e){function t(e){var n;Nl(this,t),n=Gl(this,Hl(t).call(this,"WebSocketClient",e,"Ein Objekt der Klasse WebSocketClient reprÃ¤sentiert einen anderen Rechner, mit dem dieser Rechner Ã¼ber den WebSocket in Kontakt steht."));var i=e.typeStore.getType("Object");n.setBaseClass(i),n.addMethod(new E("send",new O([{identifier:"message",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.send(n,i)}),!1,!1,"Sendet Daten (message) an diesen Client. Den messageType kannst Du frei wÃ¤hlen. Die client bekommt ihn zusammen mit den Daten Ã¼bermittelt. Tipp: Du kannst auch Objekte senden, musst sie dazu aber vorher serialisieren, d.h. mithilfe der Methode toJson in eine Zeichenkette verwandeln.",!1)),n.addMethod(new E("setUserData",new O([{identifier:"schlÃ¼ssel",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"wert",type:i,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.setUserData(n,i)}),!1,!1,"Mit dieser Methode kannst Du beliebige Objektreferenzen in diesem WebSocketClient-Objekt speichern. Den SchlÃ¼ssel kannst Du dabei frei wÃ¤hlen und spÃ¤ter nutzen, um den Wert durch die Methode getUserData wieder zu holen.",!1)),n.addMethod(new E("getUserData",new O([{identifier:"schlÃ¼ssel",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;return t.getUserData(n)}),!1,!1,'Mit dieser Methode kannst Du eine Objektreferenz erhalten, die Du zuvor mit der Methode setUserData gespeichert hast. Bemerkung1: Diese Methode entfernt die Objekreferenz nicht aus dem WebSocketClient-Objekt. Bemerkung2: Damit Du alle Methoden des erhaltenen Objekts aufrufen kannst, musst Du dem Computer mitteilen, von welcher Klasse es ist ("casten"). Das geht fÃ¼r die Klasse MeineNutzerDaten bspw. so: MeineNutzerDaten mnd = (MeineNutzerDaten)client.getUserData("schlÃ¼ssel");',!1));for(var r=function(){var e=a[o];n.addMethod(new E(e.getter,new O([]),pt,(function(t){return t[0].value.intrinsicData.Helper[e.att]}),!1,!1,"Gibt den "+e.help+" des Clients zurÃ¼ck.",!1))},o=0,a=[{att:"rufname",getter:"getFirstName",help:"Rufnamen"},{att:"familienname",getter:"getLastName",help:"Familiennamen"},{att:"username",getter:"getUsername",help:"Benutzernamen"},{att:"nickname",getter:"getNickname",help:"Spielernamen"}];o<a.length;o++)r();return n.addMethod(new E("getIndex",new O([]),lt,(function(e){return e[0].value.intrinsicData.Helper.index}),!1,!1,'GehÃ¶rt ein Client zu einer mit findClient bzw. findClients gefundenen Gruppe, so erhÃ¤ltst Du mit dieser Methode die "Rangfolge" dieses Clients in dieser Gruppe. Allen Clients wird dieselbe Rangfolgeordnung vom Server mitgeteilt. So lÃ¤sst sich bspw. einfach festlegen, welcher Client eine besondere Rolle (Server) in der Gruppe erhalten soll (z.B. Client mit Index 1). Bemerkung: Der Index ist eine Zahl zwischen 1 und der Anzahl der Clients in der Gruppe.',!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ql(e,t)}(t,e),t}(Z),Ul=function(){function e(t,n,i,r,o,a,s){Nl(this,e),this.runtimeObject=t,this.webSocketHelper=n,this.id=i,this.rufname=r,this.familienname=o,this.username=a,this.nickname=s,this.keyValueStore={},this.index=0,this.connected=!0}var t,n,i;return t=e,(n=[{key:"send",value:function(e,t){this.webSocketHelper.sendToClient(this.id,e,t)}},{key:"getUserData",value:function(e){return this.keyValueStore[e]}},{key:"setUserData",value:function(e,t){this.keyValueStore[e]=t}}])&&Vl(t.prototype,n),i&&Vl(t,i),e}();function Zl(e){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ql(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jl(e,t){return!t||"object"!==Zl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t){return(eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tu=function(e){function t(e){var n;Xl(this,t),(n=Jl(this,Yl(t).call(this,"WebSocket",e,"Ein Objekt der Klasse WebSocket kann Daten Ã¼ber das Internet senden und empfangen. Um die Klasse benutzen zu kÃ¶nnen, musst Du eine eigene Klasse schreiben, die die Klasse WebSocket erweitert und die Methoden onConnect, onMessage, onOtherClientConnected und onOtherClientDisconnected Ã¼berschreibt."))).setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("WebSocketClient"),r=e.typeStore.getType("System");return n.addMethod(new E("WebSocket",new O([]),null,(function(e){var t,o,a=e[0].value,s=null===(o=null===(t=n.module)||void 0===t?void 0:t.main)||void 0===o?void 0:o.getInterpreter(),l=new nu(a,s,i,r);a.intrinsicData.Helper=l}),!1,!1,"Instanziert ein neues WebSocket-Objekt.",!0)),n.addMethod(new E("open",new O([{identifier:"sessionCode",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"nickName",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Helper;r.connect(n,i),t.intrinsicData.Helper=r}),!1,!1,"Startet die Verbindung mit dem Server. Den SessionCode kannst Du frei wÃ¤hlen. Mit allen anderen Clients, die eine Verbindung mit demselben SessionCode aufbauen, kannst Du anschlieÃend Daten austauschen. Auch der Nickname ist frei wÃ¤hlbar. Er ist fÃ¼r alle anderen Clients sichtbar.",!1)),n.addMethod(new E("sendToAll",new O([{identifier:"message",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.sendToAll(n,i)}),!1,!1,"Sendet Daten (message) an alle anderen Clients. Den messageType kannst Du frei wÃ¤hlen. Die empfangenden Clients bekommen ihn zusammen mit den Daten Ã¼bermittelt. Tipp: Du kannst auch Objekte senden, musst sie dazu aber vorher serialisieren, d.h. mithilfe der Methode toJson in eine Zeichenkette verwandeln.",!1)),n.addMethod(new E("findClients",new O([{identifier:"count",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;t.findClientsFromCount(n)}),!1,!1,'Sucht die Ã¼bergebene Anzahl von "kontaktbereiten" Clients, d.h. solchen Clients, die exakt dieselbe Suchanfrage abgegeben haben. Findet der Server die Clients, so ruft er bei allen beteiligten Clients onClientsFound auf.',!1)),n.addMethod(new E("findClients",new O([{identifier:"nicknames",type:new jt(pt),declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value.map((function(e){return e.value}));t.findClientsFromNicknames(n)}),!1,!1,"Sucht die Clients mit den angegebenen Nicknames. Haben sie eine entsprechende Suchanfrage (d.h. dieselben Nicknames) abgegeben, so so ruft der Server bei allen beteiligten Clients onClientsFound auf.",!1)),n.addMethod(new E("findClient",new O([{identifier:"nickname",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;t.findClientsFromNicknames([n])}),!1,!1,"Sucht den Client mit dem angegebenen Nickname. Hat er eine entsprechende Suchanfrage (d.h. mit dem Nickname DIESES clients) abgegeben, so so ruft der Server bei beiden Clients onClientsFound auf.",!1)),n.addMethod(new E("close",new O([]),st,(function(e){e[0].value.intrinsicData.Helper.disconnect()}),!1,!1,"Beendet die Verbindung. Bei allen anderen Clients, die sich mit derselben sessionId verbunden haben, wird daraufhin die Methode onOtherClientDisconnected aufgerufen.",!1)),n.addMethod(new E("onOpen",new O([]),null,null,!1,!1,"Wird aufgerufen, sobald die Verbindung mit dem Server zustandegekommen ist.",!1)),n.addMethod(new E("onClose",new O([]),null,null,!1,!1,"Wird aufgerufen, nachdem die Verbindung geschlossen wurde.",!1)),n.addMethod(new E("onMessage",new O([{identifier:"sender",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"message",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn eine Nachricht eines anderen Clients empfangen wurde.",!1)),n.addMethod(new E("onOtherClientConnected",new O([{identifier:"otherClient",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn sich ein anderer Client unter Nutzung desselben sessionCodes mit dem Server verbunden hat.",!1)),n.addMethod(new E("onOtherClientDisConnected",new O([{identifier:"otherClient",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn ein anderer Client unter Nutzung desselben sessionCodes die Verbindung mit dem Server beendet hat.",!1)),n.addMethod(new E("onClientsFound",new O([{identifier:"clients",type:new jt(i),declaration:null,usagePositions:null,isFinal:!0},{identifier:"ownIndex",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn die durch die Methoden findClient bzw. findClients zuvor gesuchten Clients gefunden wurden.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}(t,e),t}(Z),nu=function(){function e(t,n,i,r){Xl(this,e),this.runtimeObject=t,this.interpreter=n,this.webSocketClientType=i,this.systemClassType=r,this.clientList=[],this.idToClientMap={},this.isOpen=!1,this.unsentMessages=[];var o=t.class;this.onOpenMethod=o.methods.find((function(e){return"onOpen()"==e.signature})),this.onCloseMethod=o.methods.find((function(e){return"onClose()"==e.signature})),this.onMessageMethod=o.methods.find((function(e){return"onMessage(WebSocketClient, String, String)"==e.signature})),this.onClientConnectedMethod=o.methods.find((function(e){return"onOtherClientConnected(WebSocketClient)"==e.signature})),this.onClientDisconnectedMethod=o.methods.find((function(e){return"onOtherClientDisconnected(WebSocketClient)"==e.signature})),this.onClientsFoundMethod=o.methods.find((function(e){return"onClientsFound(WebSocketClient[], int)"==e.signature}))}var t,n,r;return t=e,(n=[{key:"connect",value:function(e,t){var n=this;this.interpreter.main.isEmbedded()?this.interpreter.throwException("Die NetzwerkfunktionalitÃ¤ten stehen nur eingeloggten Nutzern in der Entwicklungsumgebung zur VerfÃ¼gung und kÃ¶nnen daher leider hier nicht ausprobiert werden."):i("getWebSocketToken",{},(function(i){var r=(window.location.protocol.startsWith("https")?"wss://":"ws://")+window.location.host+"/websocket";n.connection=new WebSocket(r),n.connection.onerror=function(e){n.onError(e)},n.connection.onclose=function(e){n.onClose(e)},n.connection.onmessage=function(e){n.onMessage(e)},n.connection.onopen=function(r){var o={command:1,token:i.token,nickname:t,sessionCode:e};n.interpreter.webSocketsToCloseAfterProgramHalt.push(n.connection),n.isOpen=!0,n.sendIntern(JSON.stringify(o)),n.onOpen()}}))}},{key:"sendIntern",value:function(e){if(this.isOpen)try{this.connection.send(e)}catch(e){console.log(e)}else this.unsentMessages.push(e)}},{key:"onClose",value:function(e){this.isOpen=!1,this.runMethod(this.onCloseMethod,[])}},{key:"sendToClient",value:function(e,t,n){var i={command:3,data:t,dataType:n,recipient_id:e};this.sendIntern(JSON.stringify(i))}},{key:"sendToAll",value:function(e,t){var n={command:2,data:e,dataType:t};this.sendIntern(JSON.stringify(n))}},{key:"disconnect",value:function(){this.sendIntern(JSON.stringify({command:4})),this.connection.close();var e=this.interpreter.webSocketsToCloseAfterProgramHalt;e.splice(e.indexOf(this.connection),1)}},{key:"onMessage",value:function(e){var t=JSON.parse(e.data);if(null!=t.command)switch(t.command){case 1:var n=new A(this.webSocketClientType);n.initializeAttributeValues();var i=new Ul(n,this,t.user_id,t.rufname,t.familienname,t.username,t.nickname);n.intrinsicData.Helper=i,this.clientList.push(i),this.idToClientMap[t.user_id]=i,this.runMethod(this.onClientConnectedMethod,[{type:this.webSocketClientType,value:n}]);break;case 2:var r=this.idToClientMap[t.from_client_id];if(null==r)return;this.runMethod(this.onMessageMethod,[{type:this.webSocketClientType,value:r.runtimeObject},{type:pt,value:t.data},{type:pt,value:t.dataType}]);break;case 3:var o=this.idToClientMap[t.disconnecting_client_id];if(null==o)return;this.clientList.splice(this.clientList.indexOf(o),1),this.idToClientMap[t.disconnecting_client_id]=void 0,this.runMethod(this.onClientDisconnectedMethod,[{type:this.webSocketClientType,value:o.runtimeObject}]);break;case 4:this.systemClassType.deltaTimeMillis=t.currentTimeMills-Date.now(),this.client_id=t.client_id;break;case 5:break;case 6:this.onClientsFound(t)}}},{key:"onClientsFound",value:function(e){var t=0,n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.clients[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.id==this.client_id)t=l.index;else{var u=this.idToClientMap[l.id];null!=u&&(u.index=l.index,n.push({type:this.webSocketClientType,value:u.runtimeObject}))}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var c={type:new jt(this.webSocketClientType),value:n};this.runMethod(this.onClientsFoundMethod,[c,{type:lt,value:t}])}},{key:"onError",value:function(e){this.interpreter.throwException("Kommunikationsfehler beim WebSocket")}},{key:"onOpen",value:function(){var e=this;this.isOpen=!0,this.unsentMessages.length>0&&(this.unsentMessages.forEach((function(t){return e.sendIntern(t)})),this.unsentMessages=[]),this.runMethod(this.onOpenMethod,[])}},{key:"runMethod",value:function(e,t){null!=e&&(t.splice(0,0,{type:this.runtimeObject.class,value:this.runtimeObject}),this.interpreter.state==Xi.waitingForInput?this.interpreter.executeImmediatelyInNewStackframe(e.program,t):this.interpreter.runTimer(e,t,(function(){}),!1))}},{key:"findClientsFromCount",value:function(e){var t={command:6,count:e,nicknames:[]};this.sendIntern(JSON.stringify(t))}},{key:"findClientsFromNicknames",value:function(e){var t={command:6,count:e.length,nicknames:e};this.sendIntern(JSON.stringify(t))}}])&&ql(t.prototype,n),r&&ql(t,r),e}();function iu(e){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ru(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ou(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function au(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function su(e,t,n){return t&&au(e.prototype,t),n&&au(e,n),e}function lu(e,t){return!t||"object"!==iu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uu(e){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cu(e,t){return(cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var du=function(e){function t(e){var n;ou(this,t),(n=lu(this,uu(t).call(this,"PApplet",e,"Processing-Applet"))).module=e,n.setBaseClass(e.typeStore.getType("Object")),n.documentation="Wenn Du Deine Klasse von PApplet ableitest (class Test extends PApplet{...}), kannst Du auf diese Weise ein Processing-Applet erstellen (siehe https://processing.org), indem Du ihre Methoden draw(), mousePressed(), usw. Ã¼berschreibst und mit Inhalt fÃ¼llst. Du startest das Applet, indem Du ein Objekt Deiner Klasse instanzierst und davon die main-Methode aufrufst: new Test().main();";[["mouseX","aktuelle x-Koordinate des Mauszeigers"],["mouseY","aktuelle y-Koordinate des Mauszeigers"],["pMouseX","x-Koordinate des Mauszeigers im vorhergehenden Frame"],["pMouseY","y-Koordinate des Mauszeigers im vorhergehenden Frame"],["LEFT","links"],["CENTER","Mitte"],["RIGHT","rechts"],["TOP","obenbÃ¼ndig"],["BASELINE","bÃ¼ndig auf der Grundlinie"],["BOTTOM","untenbÃ¼ndig"],["width","Breite des Zeichenbereichs"],["height","HÃ¶he des Zeichenbereichs"],["keyCode","Zahlencode der zuletzt gedrÃ¼ckten Taste"],["mouseButton","zuletzt gedrÃ¼ckte Maustaste, kann die Werte LEFT, RIGHT und CENTER annehmen"],["CORNER","Mode zum Zeichnen von Rechtecken"],["CORNERS","Mode zum Zeichnen von Rechtecken"],["RADIUS","Mode zum Zeichnen von Rechtecken"],["POINTS","zeichne nachfolgend Einzelpunkte"],["LINES","zeichne nachfolgend einzelne Linien"],["TRIANGLES","zeichne nachfolgend einzelne Dreiecke"],["TRIANGLE_STRIP","zeichne nachfolgend einen Triangle-Strip"],["TRIANGLE_FAN","zeichne nachfolgend einen Triangle-Fan"],["QUADS","zeichne nachfolgend Vierecke"],["QUAD_STRIP","zeichne nachfolgend einen Quad-Strip"],["TESS","zeichne nachfolgend ein TESS - geht nur bei createCanvas(width, height, WEBGL)"],["CLOSE","endShape(CLOSE) schlieÃt den Linienzug"],["DEGREES","angleMode(DEGREES) sorgt dafÃ¼r, dass nachfolgende Winkelangaben in Grad interpretiert werden."],["RADIANS","angleMode(RADIANS) sorgt dafÃ¼r, dass nachfolgende Winkelangaben im BogenmaÃ interpretiert werden."]].forEach((function(t){n.addAttribute(new j(t[0],lt,(function(n){n.value=e.main.getInterpreter().processingHelper.p5o[t[0]]}),!1,I.public,!0,t[1]))}));return[["WEBGL","WebGL-Renderer zur 3D-Ausgabe"],["P2D","Renderer zur zweidimensionalen Ausgabe"],["RGB","Color-Mode RGB (rot, grÃ¼n, blau)"],["HSL","Color-Mode HSL"],["HSB","Color-Mode HSB"]].forEach((function(t){n.addAttribute(new j(t[0],pt,(function(n){n.value=e.main.getInterpreter().processingHelper.p5o[t[0]]}),!1,I.public,!0,t[1]))})),n.addAttribute(new j("key",ft,(function(t){t.value=e.main.getInterpreter().processingHelper.p5o.key}),!1,I.public,!0,"letzte gedrÃ¼ckte Taste")),n.addMethod(new E("Processing",new O([]),null,(function(e){var t=e[0].value,i=n.getProcessingHelper(t);t.intrinsicData.Processing=i}),!1,!1,"Legt eine neues Processing-Applet an",!0)),n.addMethod(new E("main",new O([{identifier:"name",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value.intrinsicData.Processing,i=e.main.getInterpreter();i.currentProgramPosition++,n.main(),i.currentProgramPosition--}),!1,!1,"Startet das Processing-Applet.",!1)),n.addMethod(new E("main",new O([]),null,(function(t){var n=t[0].value.intrinsicData.Processing,i=e.main.getInterpreter();i.currentProgramPosition++,n.main(),i.currentProgramPosition--}),!1,!1,"Startet das Processing-Applet.",!1)),n.addMethod(new E("loop",new O([]),null,(function(e){e[0].value.intrinsicData.Processing.loop()}),!1,!1,"Startet nach noLoop() die Renderer-Loop wieder neu, so dass draw() wieder periodisch aufgerufen wird.",!1)),n.addMethod(new E("noLoop",new O([]),null,(function(e){e[0].value.intrinsicData.Processing.noLoop()}),!1,!1,"Stoppt die Render-Loop, so dass draw() nicht mehr aufgerufen wird. Kann mit loop() wieder gestartet werden.",!1)),n.addMethod(new E("size",new O([{identifier:"width",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value;t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),n.addMethod(new E("createCanvas",new O([{identifier:"width",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value;t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),n.addMethod(new E("createCanvas",new O([{identifier:"width",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"renderer",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value,r=e[3].value;t.renderer=r,t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),n.addMethod(new E("draw",new O([]),st,null,!1,!1,'Die draw-Methode wird 60-mal pro Sekunde aufgerufen ("Render-Loop"). Die Render-Loop kann mit der Methode noLoop() gestoppt und mit loop() wieder gestartet werden. redraw() ruft (im gestoppten Zustand) draw genau ein Mal auf.',!1)),n.addMethod(new E("settings",new O([]),st,null,!1,!1,"Die settings-Methode wird aufgerufen, nachdem das Processing-Applet durch Aufruf der Methode main gestartet wurde. Im Unterschied zur Original Java-Version von Processing hat die Methode settings hier keine andere Bewandtnis als die - unmittelbar darauf aufgerufene - Methode setup. In beiden Methoden kann man bspw. mit createCanvas(width, height) das Koordinatensystem einrichten und Figuren zeichnen.",!1)),n.addMethod(new E("setup",new O([]),st,null,!1,!1,"Die setup-Methode wird beim Programmstart nach der settings-Methode aufgerufen. Im Unterschied zur Original Java-Version von Processing hat die Methode setup hier keine andere Bewandtnis als die - unmittelbar davor aufgerufene - Methode settings. In beiden Methoden kann man bspw. mit createCanvas(width, height) das Koordinatensystem einrichten und Figuren zeichnen.",!1)),n.addMethod(new E("mousePressed",new O([]),st,null,!1,!1,"Die mousePressed-Methode wird immer dann aufgerufen, wenn gerade eine Maustaste heruntergedrÃ¼ckt wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade heruntergedrÃ¼ckte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new E("mouseReleased",new O([]),st,null,!1,!1,"Die mouseReleased-Methode wird immer dann aufgerufen, wenn gerade eine Maustaste losgelassen wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade losgelassene Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new E("mouseClicked",new O([]),st,null,!1,!1,"Die mouseClicked-Methode wird immer dann aufgerufen, wenn eine Maustaste auf dem Zeichenbereich gedrÃ¼ckt und anschlieÃend losgelassen wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade losgelassene Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new E("mouseDragged",new O([]),st,null,!1,!1,"Die mouseDragged-Methode wird immer dann aufgerufen, wenn eine Maustaste gerade heruntergedrÃ¼ckt ist und die Position des Mauszeigers sich verÃ¤ndert hat. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die zuletzt gedrÃ¼ckte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new E("mouseMoved",new O([]),st,null,!1,!1,"Die mouseMoved-Methode wird immer dann aufgerufen, wenn die Position des Mauszeigers sich verÃ¤ndert hat. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die zuletzt gedrÃ¼ckte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new E("mouseEntered",new O([]),st,null,!1,!1,"Die mouseEntered-Methode wird immer dann aufgerufen, wenn der Mauszeiger von auÃen neu in den Zeichenbereich hineinfÃ¤hrt.",!1)),n.addMethod(new E("mouseExited",new O([]),st,null,!1,!1,"Die mouseExited-Methode wird immer dann aufgerufen, wenn der Mauszeiger den Zeichnbereich gerade verlassen hat.",!1)),n.addMethod(new E("keyPressed",new O([]),st,null,!1,!1,"Die keyPressed-Methode wird immer dann aufgerufen, wenn eine Taste gerade heruntergedrÃ¼ckt wurde. Informationen zur Taste kÃ¶nnen den Attributen key (String) und keyCode (int) entnommen werden.",!1)),n.addMethod(new E("keyReleased",new O([]),st,null,!1,!1,"Die keyReleased-Methode wird immer dann aufgerufen, wenn eine Taste gerade losgelassen wurde. Informationen zur Taste kÃ¶nnen den Attributen key (String) und keyCode (int) entnommen werden.",!1)),n.addProcessingMethod("clear",[],[],"LÃ¶scht die ZeichenflÃ¤che."),n.addProcessingMethod("background",["rgb"],ut,"Ãbermalt die komplette ZeichenflÃ¤che mit der Ã¼bergebenen Farbe."),n.addProcessingMethod("background",["colorAsString"],pt,"Ãbermalt die komplette ZeichenflÃ¤che mit der Ã¼bergebenen Farbe. Ãbergeben wird eine Zeichenkette der Form 'rgb(0,0,255)' oder 'rgb(0%, 0%, 100%)' oder 'rgba(0, 0, 255, 1)' oder 'rgba(0%, 0%, 100%, 1)' und all diese Kombinationen statt rgb auch mit hsl und hsb.",pt),n.addProcessingMethod("background",["v1","v2","v3"],ut,"Ãbermalt die komplette ZeichenflÃ¤che mit der Ã¼bergebenen Farbe. v1, v2 und v3 sind - abhÃ¤ngig vom aktuellen color mode - rot, grÃ¼n und blauwert oder Farbe, SÃ¤ttigung und Helligkeit"),n.addProcessingMethod("fill",["rgb"],lt,"Setzt die FÃ¼llfarbe."),n.addProcessingMethod("fill",["rgb"],pt,"Setzt die FÃ¼llfarbe."),n.addProcessingMethod("fill",["rgb","alpha"],[lt,ut],"Setzt die FÃ¼llfarbe."),n.addProcessingMethod("fill",["gray"],ut,"Setzt die FÃ¼llfarbe."),n.addProcessingMethod("fill",["v1","v2","v3"],ut,"Setzt die FÃ¼llfarbe. v1, v2 und v3 sind - abhÃ¤ngig vom aktuellen color mode - rot, grÃ¼n und blauwert oder Farbe, SÃ¤ttigung und Helligkeit"),n.addProcessingMethod("fill",["v1","v2","v3","alpha"],ut,"Setzt die FÃ¼llfarbe. v1, v2 und v3 sind - abhÃ¤ngig vom aktuellen color mode - rot, grÃ¼n und blauwert oder Farbe, SÃ¤ttigung und Helligkeit"),n.addProcessingMethod("noFill",[],[],"Die nachfolgend gezeichneten Figuren werden nicht gefÃ¼llt."),n.addProcessingMethod("stroke",["rgb"],lt,"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["rgb"],pt,"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["rgb","alpha"],[lt,ut],"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["gray"],ut,"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["v1","v2","v3"],ut,"Setzt die Linienfarbe. v1, v2 und v3 sind - abhÃ¤ngig vom aktuellen color mode - rot, grÃ¼n und blauwert oder Farbe, SÃ¤ttigung und Helligkeit"),n.addProcessingMethod("stroke",["v1","v2","v3","alpha"],ut,"Setzt die Linienfarbe. v1, v2 und v3 sind - abhÃ¤ngig vom aktuellen color mode - rot, grÃ¼n und blauwert oder Farbe, SÃ¤ttigung und Helligkeit"),n.addProcessingMethod("strokeWeight",["weight"],ut,"Setzt die Linienbreite."),n.addProcessingMethod("noStroke",[],[],"Die nachfolgend gezeichneten Figuren werden ohne Rand gezeichnet."),n.addProcessingMethod("color",["gray"],ut,"Gibt den Grauton als String-kodierte Farbe zurÃ¼ck.",pt),n.addProcessingMethod("color",["colorAsString"],pt,"Gibt die Farbe zurÃ¼ck. Ãbergeben kann eine Zeichenkette der Form 'rgb(0,0,255)' oder 'rgb(0%, 0%, 100%)' oder 'rgba(0, 0, 255, 1)' oder 'rgba(0%, 0%, 100%, 1)' und all diese Kombinationen statt rgb auch mit hsl und hsb.",pt),n.addProcessingMethod("color",["gray","alpha"],ut,"Gibt den Grauton als String-kodierte Farbe zurÃ¼ck.",pt),n.addProcessingMethod("color",["v1","v2","v3"],ut,"Gibt die aus v1, v2, v3 gebildete Farbe String-kodiert zurÃ¼ck.",pt),n.addProcessingMethod("color",["v1","v2","v3","alpha"],ut,"Gibt die aus v1, v2, v3 und alpha gebildete Farbe String-kodiert zurÃ¼ck.",pt),n.addProcessingMethod("lerpColor",["colorA","colorB","t"],[pt,pt,ut],"Gibt eine Zwischenfarbe zwischen colorA und colorB zurÃ¼ck. t == 0 bedeutet: colorA, t == 1 bedeutet: colorB, t == 0.5 bedeutet: genau zwischen beiden, usw.",pt),n.addProcessingMethod("colorMode",["mode"],pt,"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. MÃ¶glich sind die Werte RGB, HSL und HSB."),n.addProcessingMethod("colorMode",["mode","max"],[pt,ut],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. MÃ¶glich sind die Werte RGB, HSL und HSB fÃ¼r Mode. Max ist der Maximalwert jeder Farbkomponente."),n.addProcessingMethod("colorMode",["mode","max1","max2","max3"],[pt,ut,ut,ut],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. MÃ¶glich sind die Werte RGB, HSL und HSB fÃ¼r Mode. Max ist der Maximalwert jeder Farbkomponente."),n.addProcessingMethod("colorMode",["mode","max1","max2","max3","maxAlpha"],[pt,ut,ut,ut,ut],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. MÃ¶glich sind die Werte RGB, HSL und HSB fÃ¼r Mode. Max ist der Maximalwert jeder Farbkomponente."),n.addProcessingMethod("rectMode",["mode"],pt,"Setzt den Modus, in dem nachfolgende Aufrufe von rect(...) interpretiert werden. MÃ¶glich sind die Werte CORNER, CORNERS, RADIUS und CENTER."),n.addProcessingMethod("rect",["left","top","width","height"],ut,"Zeichnet ein Rechteck. (left, top) ist die linke obere Ecke, width die Breite und height die HÃ¶he des Rechtecks."),n.addProcessingMethod("rect",["left","top","width","height","radius"],ut,"Zeichnet ein Rechteck mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width die Breite und height die HÃ¶he des Rechtecks."),n.addProcessingMethod("rect",["left","top","width","height","radius1","radius2","radius3","radius4"],ut,"Zeichnet ein Rechteck mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width die Breite und height die HÃ¶he des Rechtecks."),n.addProcessingMethod("square",["left","top","width"],ut,"Zeichnet ein Quadrat. (left, top) ist die linke obere Ecke, width SeitenlÃ¤nge des Quadrats."),n.addProcessingMethod("square",["left","top","width","radius"],ut,"Zeichnet ein Quadrat mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width SeitenlÃ¤nge des Quadrats. Radius ist der Eckenradius."),n.addProcessingMethod("square",["left","top","width","radius1","radius2","radius3","radius4"],ut,"Zeichnet ein Quadrat mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width SeitenlÃ¤nge des Quadrats. Radius ist der Eckenradius."),n.addProcessingMethod("rect",["left","top","width","height","radius"],ut,"Zeichnet ein Rechteck. (left, top) ist die linke obere Ecke, width die Breite und height die HÃ¶he des Rechtecks. Radius ist der Eckenradius"),n.addProcessingMethod("ellipse",["left","top","width","height"],ut,"Zeichnet eine Ellipse. (left, top) ist die linke obere Ecke der Boundingbox der Ellipse, width ihre Breite und height ihre HÃ¶he. Das lÃ¤sst sich aber mit ellipseMode(...) Ã¤ndern!"),n.addProcessingMethod("circle",["x","y","extent"],ut,"Zeichnet einen Kreis. (x, y) ist der Mittelpunkt des Kreises, extent der doppelte Radius."),n.addProcessingMethod("ellipseMode",["mode"],pt,"Setzt den Modus, in dem nachfolgende Aufrufe von ellipse(...) interpretiert werden. MÃ¶glich sind die Werte CORNER, CORNERS, RADIUS und CENTER."),n.addProcessingMethod("line",["x1","y1","x2","y2"],ut,"Zeichnet eine Strecke von (x1, y1) nach (x2, y2)."),n.addProcessingMethod("line",["x1","y1","z1","x2","y2","z2"],ut,"Zeichnet eine Strecke von (x1, y1, z1) nach (x2, y2, z2)."),n.addProcessingMethod("triangle",["x1","y1","x2","y2","x3","y3"],ut,"Zeichnet eine Dreieck mit den Eckpunkten (x1, y1), (x2, y2) und (x3, y3)."),n.addProcessingMethod("quad",["x1","y1","x2","y2","x3","y3","x4","y4"],ut,"Zeichnet eine Viereck mit den Eckpunkten (x1, y1), (x2, y2), (x3, y3) und (x4, y4)."),n.addProcessingMethod("bezier",["x1","y1","x2","y2","x3","y3","x4","y4"],ut,"Zeichnet eine kubische Bezierkurve mit den Ankerpunkten (x1, y1), (x4, y4) und den Kontrollpunkten (x2, y2), (x3, y3)."),n.addProcessingMethod("curve",["x1","y1","x2","y2","x3","y3","x4","y4"],ut,"Zeichnet eine Catmull-Rom-Kurve vom Punkt (x2, y2) nach (x3, y3) so, als wÃ¼rde sie von (x1, x2) kommen und es am Ende zu (x4, y4) weitergehen."),n.addProcessingMethod("curvePoint",["a","b","c","d","t"],ut,"Will man die Zwischenpunkte einer Curve erhalten (Beginn b, Ende c, als wÃ¼rde sie von a kommen und nach d gehen), so verwendet man sowohl fÃ¼r die x- als auch fÃ¼r die y-Koordinate diese Funktion. t gibt an, welchen Punkt der Kurve man haben mÃ¶chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",ut),n.addProcessingMethod("curveTangent",["a","b","c","d","t"],ut,"Will man die Zwischentangenten einer Curve erhalten (Beginn b, Ende c, als wÃ¼rde sie von a kommen und nach d gehen), so verwendet man sowohl fÃ¼r die x- als auch fÃ¼r die y-Koordinate diese Funktion. t gibt an, welchen Punkt der Kurve man haben mÃ¶chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",ut),n.addProcessingMethod("bezierPoint",["x1","x2","x3","x4","t"],ut,"Will man die Zwischenpunkte einer Bezierkurve erhalten (Ankerkoordinaten x1, x4 und StÃ¼tzkoordinaten x2, x3), so nutzt man - einzeln sowohl fÃ¼r die x- also auch fÃ¼r die y-Koordinate - diese Funktion. t gibt an, welchen Punkt der Kurve man haben mÃ¶chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",ut),n.addProcessingMethod("bezierTangent",["x1","x2","x3","x4","t"],ut,"Will man die Zwischentangenten einer Bezierkurve erhalten (Ankerkoordinaten x1, x4 und StÃ¼tzkoordinaten x2, x3), so nutzt man - einzeln sowohl fÃ¼r die x- also auch fÃ¼r die y-Koordinate - diese Funktion. t gibt an, welchen Punkt der Kurve man haben mÃ¶chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",ut),n.addProcessingMethod("beginShape",[],[],"Beginnt mit dem Zeichnen eines Polygons. Die einzelnen Punkte werden mit der Methode vertex(x, y) gesetzt."),n.addProcessingMethod("endShape",[],[],"Endet das Zeichnen eines Polygons."),n.addProcessingMethod("beginShape",["kind"],pt,"Beginnt mit dem Zeichnen eines Polygons. Die einzelnen Punkte werden mit der Methode vertex(x, y) gesetzt. MÃ¶gliche Werte fÃ¼r kind sind: POINTS, LINES, TRIANGLES, TRIANGLE_STRIP, TRIANGLE_FAN, QUADS, QUAD_STRIP"),n.addProcessingMethod("endShape",["kind"],pt,"endShape(CLOSE) schlieÃt den Linienzug."),n.addProcessingMethod("vertex",["x","y"],ut,"Setzt zwischen beginShape() und endShape() einen Punkt."),n.addProcessingMethod("point",["x","y"],ut,"Zeichnet einen Punkt."),n.addProcessingMethod("set",["x","y","color"],[ut,ut,pt],"Setzt die Farbe des Pixels bei (x, y)."),n.addProcessingMethod("vertex",["x","y","z"],ut,"Setzt zwischen beginShape() und endShape() einen Punkt."),n.addProcessingMethod("point",["x","y","z"],ut,"Zeichnet einen Punkt."),n.addProcessingMethod("curveVertex",["x","y"],ut,"Setzt zwischen beginShape() und endShape() einen Punkt. Processing zeichnet damit eine Kurve nach dem Catmull-Rom-Algorithmus."),n.addProcessingMethod("curvevertex",["x","y","z"],ut,"Setzt zwischen beginShape() und endShape() einen Punkt. Processing zeichnet damit eine Kurve nach dem Catmull-Rom-Algorithmus."),n.addProcessingMethod("box",["size"],ut,"Zeichnet einen 3D-WÃ¼rfel mit der SeitenlÃ¤nge size."),n.addProcessingMethod("box",["sizeX","sizeY","sizeZ"],ut,"Zeichnet einen 3D-WÃ¼rfel mit den angegebenen SeitenlÃ¤ngen."),n.addProcessingMethod("resetMatrix",[],[],"Setzt alle erfolgten Transformationen zurÃ¼ck."),n.addProcessingMethod("push",[],[],"Sichert den aktuellen Zeichenzustand, d.h. die Farben und Transformationen, auf einen Stack."),n.addProcessingMethod("pop",[],[],"Holt den obersten Zeichenzustand, d.h. die Farben und Transformationen, vom Stack."),n.addProcessingMethod("scale",["factor"],ut,"Streckt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("scale",["factorX","factorY"],ut,"Streckt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("scale",["factorX","factorY","factorZ"],ut,"Streckt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("translate",["x","y"],ut,"Verschiebt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("translate",["x","y","z"],ut,"Verschiebt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("rotate",["angle"],ut,"Rotiert die nachfolgend gezeichneten Figuren. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("rotateX",["angle"],ut,"Rotiert die nachfolgend gezeichneten Figuren um die X-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("rotateY",["angle"],ut,"Rotiert die nachfolgend gezeichneten Figuren um die Y-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("shearX",["angle"],ut,"Schert die nachfolgend gezeichneten Figuren in Richtung derX-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("shearY",["angle"],ut,"Schert die nachfolgend gezeichneten Figuren in Richtung der Y-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("rotateZ",["angle"],ut,"Rotiert die nachfolgend gezeichneten Figuren um die Z-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("angleMode",["mode"],pt,"Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie winkel bei Rotationen interpretiert werden. Default ist RADIANS."),n.addProcessingMethod("textSize",["size"],ut,"Setzt die SchriftgrÃ¶Ãe in Pixel."),n.addProcessingMethod("textAlign",["alignX"],lt,"Setzt die Ausrichtung des nÃ¤chsten ausgegebenen Textes in x-Richtung. MÃ¶gliche Werte sind CENTER, LEFT, RIGHT"),n.addProcessingMethod("textAlign",["alignX","alignY"],lt,"Setzt die Ausrichtung des nÃ¤chsten ausgegebenen Textes. MÃ¶gliche Werte fÃ¼r alignX sind CENTER, LEFT, RIGHT, mÃ¶gliche Werte fÃ¼r alignY sind TOP, CENTER, BASELINE, BOTTOM"),n.addProcessingMethod("text",["text","x","y"],[pt,ut,ut],"Gibt Text aus."),n.addProcessingMethod("text",["text","x","y","x2","y2"],[pt,ut,ut,ut,ut],"Gibt Text aus. x2 und y2 sind die Breite und HÃ¶he des Textausgabebereichs. Hat der Text horizontal nicht Platz, so wird er entsprechend umgebrochen."),n.addProcessingMethod("random",["low","high"],ut,"Gibt eine Zufallszahl zwischen low und high zurÃ¼ck.",ut),n.addProcessingMethod("random",["high"],ut,"Gibt eine Zufallszahl zwischen 0 und high zurÃ¼ck.",ut),n.addProcessingMethod("sqrt",["n"],ut,"Gibt die Quadratwurzel von n zurÃ¼ck.",ut),n.addProcessingMethod("pow",["basis","exponent"],ut,'Gibt die den Wert der Potenz ("basis hoch exponent") zurÃ¼ck.',ut),n.addProcessingMethod("max",["a","b"],ut,"Gibt den grÃ¶Ãeren der beiden Werte zurÃ¼ck.",ut),n.addProcessingMethod("min",["a","b"],ut,"Gibt den kleineren der beiden Werte zurÃ¼ck.",ut),n.addProcessingMethod("abs",["n"],ut,"Gibt den Betrag des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("sin",["n"],ut,"Gibt den Sinus des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("cos",["n"],ut,"Gibt den Cosinus des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("tan",["n"],ut,"Gibt den Tangens des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("asin",["n"],ut,"Gibt den Arcussinus des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("acos",["n"],ut,"Gibt den Arcussosinus des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("radians",["angle"],ut,"Wandelt einen Winkel vom GradmaÃ ins BogenmaÃ um.",ut),n.addProcessingMethod("degrees",["angle"],ut,"Wandelt einen Winkel vom BogenmaÃ ins GradmaÃ um.",ut),n.addProcessingMethod("atan",["n"],ut,"Gibt den Arcussangens des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("atan2",["x","y"],ut,"Gibt den Arcussangens des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("sqrt",["x","y"],ut,"Gibt die Quadratwurzel des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("sq",["x","y"],ut,"Gibt das Quadrat des Wertes zurÃ¼ck.",ut),n.addProcessingMethod("abs",["n"],lt,"Gibt den Betrag des Wertes zurÃ¼ck.",lt),n.addProcessingMethod("round",["n"],ut,"Rundet den Wert auf eine ganze Zahl.",lt),n.addProcessingMethod("ceil",["n"],ut,"Rundet den Wert auf eine ganze Zahl (Aufrunden!).",lt),n.addProcessingMethod("floor",["n"],ut,"Rundet den Wert auf eine ganze Zahl (Abfrunden!).",lt),n.addProcessingMethod("dist",["x1","y1","x2","y2"],ut,"Berechnet den Abstand der Punkte (x1, y1) und (x2, y2).",ut),n.addProcessingMethod("lerp",["a","b","t"],ut,"Berechnet den a + (b - a)*t. WÃ¤hlt man t zwischen 0 und 1, so kann man damit die Zwischenwerte zwischen a und b errechnen.",ut),n.addProcessingMethod("constrain",["value","min","max"],ut,"BeschrÃ¤nkt value auf den Bereich [min, max], genauer: Ist value < min, so wird min zurÃ¼ckgegeben. Ist value > max, so wird max zurÃ¼ckgegeben. Ansonsten wird value zurÃ¼ckgegeben.",ut),n.addProcessingMethod("year",[],[],"Aktuelle Jahreszahl",lt),n.addProcessingMethod("month",[],[],"Monat: 1 == Januar, 12 == Dezember",lt),n.addProcessingMethod("day",[],[],"Tag (innerhalb des Monats) des aktuellen Datums",lt),n.addProcessingMethod("hour",[],[],"Stundenzahl der aktuellen Uhrzeit",lt),n.addProcessingMethod("hour",[],[],"Stundenzahl der aktuellen Uhrzeit",lt),n.addProcessingMethod("minute",[],[],"Minutenzahl der aktuellen Uhrzeit",lt),n.addProcessingMethod("second",[],[],"Sekundenzahl der aktuellen Uhrzeit",lt),n.addProcessingMethod("frameRate",["n"],lt,"Setzt die Framerate (Anzahl der Aufrufe von draw() pro Sekunde)"),n.addProcessingMethod("textWidth",["text"],pt,"Gibt die Breite des Texts zurÃ¼ck.",ut),n.addProcessingMethod("textAscent",["text"],pt,"Gibt den Ascent Textes zurÃ¼ck ( = HÃ¶he des grÃ¶Ãten Zeichens Ã¼ber der Grundlinie).",ut),n.addProcessingMethod("textDescent",["text"],pt,"Gibt den Descent Textes zurÃ¼ck ( = Tiefe des tiefsten Zeichens unter der Grundlinie).",ut),n.addProcessingMethod("textLeading",["leading"],ut,"Setzt den Abstand zweier aufeinanderfolgender Textzeilen."),n.addProcessingMethod("cursor",["type"],pt,'Ãndert das Aussehen des Mauscursors. Type ist einer der Werte "arrow", "cross", "text", "move", "hand", "wait", "progress".'),n.addProcessingMethod("noCursor",["type"],pt,"Hat zur Folge, dass der Mauscursor Ã¼ber dem Zeichenbereich unsichtbar ist."),n.addProcessingMethod("copy",["sx","sy","sw","sh","dx","dy","dw","dh"],ut,"Kopiert den rechteckigen Bereich mit der linken oberen Ecke (sx, sy) sowie der Breite sw und der HÃ¶he sh in den Bereich mit der linken oberen Ecke (dx, dy), der Breite dw und der HÃ¶he dh."),n.addProcessingMethod("millis",[],[],"Gibt die Millisekunden zurÃ¼ck, die vergangen sind, seit setup() aufgerufen wurde."),n.addProcessingMethod("redraw",[],[],"FÃ¼hrt draw() genau ein Mal aus. Macht ggf. Sinn, wenn die Render-Loop zuvor mit noLoop() gestoppt wurde."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cu(e,t)}(t,e),su(t,[{key:"addProcessingMethod",value:function(e,t,n,i,r){var o=[];if(Array.isArray(n))for(var a=0;a<t.length;a++)o.push({identifier:t[a],type:n[a],declaration:null,usagePositions:null,isFinal:!0});else o=t.map((function(e){return{identifier:e,type:n,declaration:null,usagePositions:null,isFinal:!0}}));null==r?this.addMethod(new E(e,new O(o),null,(function(t){var n,i=t[0].value.intrinsicData.Processing,r=t.slice(1).map((function(e){return e.value}));(n=i.p5o)[e].apply(n,ru(r))}),!1,!1,i,!1)):this.addMethod(new E(e,new O(o),r,(function(t){var n,i=t[0].value.intrinsicData.Processing,r=t.slice(1).map((function(e){return e.value}));return(n=i.p5o)[e].apply(n,ru(r))}),!1,!1,i,!1))}},{key:"getProcessingHelper",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t,n,i=null===(n=null===(t=this.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter();if(null==i.processingHelper){if(null==i.worldHelper)return new hu(this.module,i,e);i.throwException("Processing kann nicht gleichzeitig mit der herkÃ¶mmlichen Grafikausgabe genutzt werden.")}else i.throwException("Es kann nur ein einziges Processing-Applet instanziert werden.")}}]),t}(Z),hu=function(){function e(t,n,i){var r,o=this;ou(this,e),this.module=t,this.interpreter=n,this.runtimeObject=i,this.width=800,this.height=600,this.loopStopped=!1,this.interpreter.processingHelper=this,this.$containerOuter=jQuery("<div></div>");var a=this.module.main.getInterpreter().printManager.getGraphicsDiv();this.onSizeChanged=function(){var e=a.parents(".jo_tabs"),t=e.width(),n=e.height();o.height/o.width>n/t?a.css({width:o.width/o.height*n+"px",height:n+"px"}):a.css({height:o.height/o.width*t+"px",width:t+"px"})},a.off("sizeChanged"),a.on("sizeChanged",this.onSizeChanged),this.onSizeChanged(),this.$containerInner=jQuery("<div></div>"),this.$containerOuter.append(this.$containerInner),a.append(this.$containerOuter),a.show(),a[0].oncontextmenu=function(e){e.preventDefault()},null===(r=this.module.main.getRightDiv())||void 0===r||r.adjustWidthToWorld()}return su(e,[{key:"createCanvas",value:function(e,t){this.width=e,this.height=t,this.onSizeChanged(),this.p5o.createCanvas(this.width,this.height,this.renderer),this.$div.find("canvas").css({width:"",height:""})}},{key:"main",value:function(){this.interpreter.timerExtern=!0,this.setupProcessing(this.$containerInner)}},{key:"setupProcessing",value:function(e){var t=this,n=!0;this.$div=e;this.p5o=new p5((function(e){e.setup=function(){t.renderer=e.P2D;var i=function(){n=!1},r=2;t.runMethod("setup",(function(){0==--r&&i()})),t.runMethod("settings",(function(){0==--r&&i()}))},e.preload=function(){t.runMethod("preload")},e.draw=function(){t.interpreter.state!=Xi.running||t.loopStopped||n||(n=!0,t.runMethod("draw",(function(){n=!1}))),t.tick()},e.mousePressed=function(){t.runMethod("mousePressed")},e.mouseReleased=function(){t.runMethod("mouseReleased")},e.mouseClicked=function(){t.runMethod("mouseClicked")},e.mouseDragged=function(){t.runMethod("mouseDragged")},e.mouseEntered=function(){t.runMethod("mouseEntered")},e.mouseExited=function(){t.runMethod("mouseExited")},e.mouseMoved=function(){t.runMethod("mouseMoved")},e.keyPressed=function(){t.runMethod("keyPressed")},e.keyReleased=function(){t.runMethod("keyReleased")}}),e[0]),e.find("canvas").css({width:"",height:""})}},{key:"tick",value:function(){this.interpreter.state==Xi.running&&(this.interpreter.timerFunction(33.33,!0,.5),this.interpreter.timerStopped=!1,this.interpreter.timerFunction(33.33,!1,.08))}},{key:"loop",value:function(){this.loopStopped=!1}},{key:"noLoop",value:function(){this.loopStopped=!0}},{key:"runMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.runtimeObject.class,i=n.getMethodBySignature(e+"()"),r=null==i?void 0:i.program;if(null!=r){var o=[{type:n,value:this.runtimeObject}];this.interpreter.runTimer(i,o,(function(e){null!=t&&t()}),"draw"==e)}else null!=t&&t()}},{key:"destroyWorld",value:function(){null!=this.p5o&&this.p5o.remove(),this.$containerOuter.remove(),this.module.main.getInterpreter().printManager.getGraphicsDiv().hide(),this.interpreter.timerExtern=!1,this.interpreter.processingHelper=null}}]),e}();function pu(e){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function yu(e,t,n){return(yu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gu(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vu(e,t){return!t||"object"!==pu(t)&&"function"!=typeof t?bu(e):t}function gu(e){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}function ku(e,t){return(ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Su=function(e){function t(e){var n;return mu(this,t),(n=vu(this,gu(t).call(this,"Turtle",e,"Turtle-Klasse zum Zeichnen von StreckenzÃ¼gen oder gefÃ¼llten Figuren. Wichtig sind vor allem die Methoden forward(double length) und turn(double angleDeg), die die Turtle nach vorne bewegen bzw. ihre Blickrichtung Ã¤ndern."))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new E("Turtle",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=new Pu(i,r,!1,e.main.getInterpreter(),n);n.intrinsicData.Actor=o}),!1,!1,'Instanziert ein neues Turtle-Objekt ohne Punkte. Die Turtle blickt anfangs nach rechts. Am Ende des Streckenzugs wird eine "SchildkrÃ¶te" (kleines Dreieck) gezeichnet.',!0)),n.addMethod(new E("Turtle",new O([{identifier:"x",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"showTurtle",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new Pu(i,r,o,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,'Instanziert ein neues Turtle-Objekt ohne Punkte. Die Turtle blickt anfangs nach rechts. Falls showTurtle == true, wird am Ende des Streckenzuges eine "SchildkrÃ¶te" (kleines Dreieck) gezeichnet.',!0)),n.addMethod(new E("forward",new O([{identifier:"length",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("forward")||i.forward(n)}),!1,!1,"Weist die Turtle an, die angegebene LÃ¤nge vorwÃ¤rts zu gehen. Ihr zurÃ¼ckgelegter Weg wird als gerade Strecke mit der aktuellen BorderColor gezeichnet. Mit setBorderColor(null) bewirkst Du, dass ein StÃ¼ck ihres Weges nicht gezeichnet wird.",!1)),n.addMethod(new E("turn",new O([{identifier:"angleInDeg",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("turn")||i.turn(n)}),!1,!1,"Bewirkt, dass sich die Turtle um den angegebenen Winkel (in Grad!) dreht, d.h. ihre Blickrichtung Ã¤ndert. Ein positiver Winkel bewirkt eine Drehung gegen den Uhrzeigersinn. Diese Methode wirkt sich NICHT auf die bisher gezeichneten Strecken aus. Willst Du alles bisher Gezeichnete inklusive Turtle drehen, so nutze die Methode rotate.",!1)),n.addMethod(new E("closeAndFill",new O([{identifier:"closeAndFill",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("closeAndFill")||i.closeAndFill(n)}),!1,!1,"closeAndFill == true bewirkt, dass das von der Turtlezeichnung umschlossene Gebiet gefÃ¼llt wird.",!1)),n.addMethod(new E("showTurtle",new O([{identifier:"showTurtle",type:dt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("showTurtle")||i.setShowTurtle(n)}),!1,!1,"closeAndFill == true bewirkt, dass das von der Turtlezeichnung umschlossene Gebiet gefÃ¼llt wird.",!1)),n.addMethod(new E("copy",new O([]),bu(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Turtle-Objekts und gibt es zurÃ¼ck.",!1)),n}return wu(t,e),t}(Z),Pu=function(e){function t(e,n,i,r,o){var a;mu(this,t),(a=vu(this,gu(t).call(this,r,o))).showTurtle=i,a.lineElements=[],a.angle=0,a.isFilled=!1,a.xSum=0,a.ySum=0,a.initialHitPolygonDirty=!0,a.lineElements.push({x:e,y:n,color:0,alpha:1,lineWidth:1}),a.calculateCenter,a.borderColor=16777215,a.hitPolygonInitial=[];var s=new PIXI.Container;return a.displayObject=s,a.lineGraphic=new PIXI.Graphics,s.addChild(a.lineGraphic),a.turtle=new PIXI.Graphics,s.addChild(a.turtle),a.turtle.visible=a.showTurtle,a.drawTurtle(e,n,a.angle),a.worldHelper.stage.addChild(a.displayObject),a.addToDefaultGroup(),a}var n,i,r;return wu(t,e),n=t,(i=[{key:"calculateCenter",value:function(){var e=this.lineElements.length,t=this.lineElements[e-1];this.xSum+=t.x,this.ySum+=t.y,this.centerXInitial=this.xSum/e,this.centerYInitial=this.ySum/e}},{key:"closeAndFill",value:function(e){e!=this.isFilled&&(this.isFilled=e,this.render(),this.initialHitPolygonDirty=!0)}},{key:"setShowTurtle",value:function(e){this.turtle.visible=e}},{key:"turn",value:function(e){this.angle-=e/180*Math.PI}},{key:"rotate",value:function(e,n,i){this.turn(this.angle);var r=this.lineElements[this.lineElements.length-1];this.drawTurtle(r.x,r.y,this.angle),yu(gu(t.prototype),"rotate",this).call(this,e,n,i)}},{key:"getCopy",value:function(e){var n=new A(e),i=new t(this.lineElements[0].x,this.lineElements[0].y,this.showTurtle,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"forward",value:function(e){var t=this.lineElements[this.lineElements.length-1],n={x:t.x+e*Math.cos(this.angle),y:t.y+e*Math.sin(this.angle),color:this.borderColor,alpha:this.borderAlpha,lineWidth:this.borderWidth};this.lineElements.push(n),this.isFilled?this.render():null!=this.borderColor&&(this.lineGraphic.moveTo(t.x,t.y),this.lineGraphic.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),this.lineGraphic.lineTo(n.x,n.y)),this.hitPolygonDirty=!0,this.initialHitPolygonDirty=!0,this.calculateCenter(),this.drawTurtle(n.x,n.y,this.angle)}},{key:"drawTurtle",value:function(e,t,n){this.turtle.clear(),this.turtle.lineStyle(3,16711680,1,.5),this.turtle.moveTo(e,t);var i=Math.cos(n),r=Math.sin(n),o=-Math.sin(n),a=Math.cos(n);this.turtle.moveTo(e+20*i,t+20*r),this.turtle.lineTo(e-10*i+10*o,t-10*r+10*a),this.turtle.lineTo(e-10*i-10*o,t-10*r-10*a),this.turtle.lineTo(e+20*i,t+20*r)}},{key:"render",value:function(){var e=this.lineGraphic;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&this.isFilled&&e.beginFill(this.fillColor,this.fillAlpha);var t=this.lineElements[0];e.moveTo(t.x,t.y),this.isFilled&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5);for(var n=1;n<this.lineElements.length;n++){var i=this.lineElements[n];null!=i.color?(this.isFilled||e.lineStyle(i.lineWidth,i.color,i.alpha,.5),e.lineTo(i.x,i.y)):e.moveTo(i.x,i.y)}this.isFilled&&e.closePath(),null!=this.fillColor&&this.isFilled&&e.endFill()}},{key:"collidesWith",value:function(e){e instanceof t&&e.initialHitPolygonDirty&&e.setupInitialHitPolygon(),this.initialHitPolygonDirty&&this.setupInitialHitPolygon();var n=this.displayObject.getBounds(),i=e.displayObject.getBounds();return!(n.left>i.right||i.left>n.right)&&!(n.top>i.bottom||i.top>n.bottom)&&(e.shapes?e.collidesWith(this):null==this.hitPolygonInitial||null==e.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),e.hitPolygonDirty&&e.transformHitPolygon(),Er(this.hitPolygonTransformed,e.hitPolygonTransformed)))}},{key:"setupInitialHitPolygon",value:function(){this.hitPolygonInitial=this.lineElements.map((function(e){return{x:e.x,y:e.y}}))}}])&&fu(n.prototype,i),r&&fu(n,r),t}(lo);function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ou(e,t,n){return t&&Eu(e.prototype,t),n&&Eu(e,n),e}var Du=function(){function e(t,n){if(ju(this,e),this.main=n,this.oldErrorDecorations=[],this.isSystemModule=!1,this.breakpoints=[],this.breakpointDecorators=[],this.decoratorIdToBreakpointMap={},this.errors=[[],[],[],[]],this.identifierPositions={},this.methodCallPositions={},null!=t&&null!=this.main){this.file=t;var i=t.name,r=e.uriMap[i];null==r?r=0:r++,e.uriMap[i]=r,r>0&&(i+=" ("+r+")"),this.uri=monaco.Uri.from({path:i,scheme:"inmemory"}),this.model=monaco.editor.createModel(t.text,"myJava",this.uri),this.model.updateOptions({tabSize:3}),this.lastSavedVersionId=this.model.getAlternativeVersionId();var o=this;this.model.onDidChangeContent((function(){var e=o.model.getAlternativeVersionId();if(e!=o.lastSavedVersionId&&(o.file.dirty=!0,o.file.saved=!1,o.file.identical_to_repository_version=!1,o.lastSavedVersionId=e),!o.main.isEmbedded()){var t=n;t.workspacesOwnerId!=t.user.id?(null==o.file.text_before_revision||o.file.student_edited_after_revision)&&(o.file.student_edited_after_revision=!1,o.file.text_before_revision=o.file.text,o.file.saved=!1,t.networkManager.sendUpdates(null,!1),t.bottomDiv.homeworkManager.showHomeWorkRevisionButton(),t.projectExplorer.renderHomeworkButton(o.file)):o.file.student_edited_after_revision=!0}}))}}return Ou(e,[{key:"getMethodDeclarationAtPosition",value:function(e){if(null==this.classDefinitionsAST)return null;var t=!0,n=!1,i=void 0;try{for(var r,o=this.classDefinitionsAST[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.type==s.keywordClass||a.type==s.keywordEnum){var l=!0,u=!1,c=void 0;try{for(var d,h=a.methods[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(null!=p.position&&null!=p.scopeTo&&p.position.line<=e.lineNumber&&p.scopeTo.line>=e.lineNumber)return p}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"getFileData",value:function(e){var t=this.file;return{id:t.id,name:t.name,text:t.text,text_before_revision:t.text_before_revision,submitted_date:t.submitted_date,student_edited_after_revision:t.student_edited_after_revision,version:t.version,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:t.identical_to_repository_version,workspace_id:e.id,forceUpdate:!1}}},{key:"pushMethodCallPosition",value:function(e,t,n,i){var r=[];r.push(e.line);var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.indexOf[c.line]<0&&r.push(c.line)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}for(var d={identifierPosition:e,commaPositions:t,possibleMethods:n,rightBracketPosition:i},h=0,p=r;h<p.length;h++){var f=p[h],y=this.methodCallPositions[f];null==y&&(this.methodCallPositions[f]=[],y=this.methodCallPositions[f]),y.push(d)}}},{key:"toggleBreakpoint",value:function(e,t){this.getBreakpointPositionsFromEditor(),null==this.getBreakpoint(e,!0)&&this.setBreakpoint(e,1),t&&this.renderBreakpointDecorators()}},{key:"getBreakpoint",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t=0;t<this.breakpoints.length;t++){var n=this.breakpoints[t];if(n.line==e)return this.breakpoints.splice(t,1),null!=n.statement&&(n.statement.breakpoint=void 0),n}return null}},{key:"setBreakpoint",value:function(e,t){var n={line:e,column:t,statement:null};return this.attachToStatement(n),this.breakpoints.push(n),n}},{key:"attachToStatement",value:function(e,t){var n;null!=e.statement&&(e.statement.breakpoint=void 0),null==t&&(t=this.getPrograms());var i=null,r=1e5,o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=!0,h=!1,p=void 0;try{for(var f,y=c.statements[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value,v=null===(n=null==m?void 0:m.position)||void 0===n?void 0:n.line;if(null!=v&&v>=e.line){v-e.line<r&&(i=m,r=v-e.line);break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}e.statement=i,null!=i&&(i.breakpoint=e)}},{key:"getPrograms",value:function(){var e=[];if(null!=this.mainProgram&&e.push(this.mainProgram),null!=this.typeStore){var t=!0,n=!1,i=void 0;try{for(var r,o=this.typeStore.typeList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a instanceof Z){null!=a.attributeInitializationProgram&&e.push(a.attributeInitializationProgram);var s=!0,l=!1,u=void 0;try{for(var c,d=a.methods[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null!=h.program&&e.push(h.program)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}null!=a.staticClass.attributeInitializationProgram&&e.push(a.staticClass.attributeInitializationProgram);var p=!0,f=!1,y=void 0;try{for(var m,v=a.staticClass.methods[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value;null!=g.program&&e.push(g.program)}}catch(e){f=!0,y=e}finally{try{p||null==v.return||v.return()}finally{if(f)throw y}}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}return e}},{key:"renderBreakpointDecorators",value:function(){this.getBreakpointPositionsFromEditor();var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.breakpoints[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push({range:{startLineNumber:a.line,endLineNumber:a.line,startColumn:1,endColumn:1},options:{isWholeLine:!0,className:"jo_decorate_breakpoint",overviewRuler:{color:"#580000",position:monaco.editor.OverviewRulerLane.Left},minimap:{color:"#580000",position:monaco.editor.MinimapPosition.Inline},marginClassName:"jo_margin_breakpoint",stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},breakpoint:a})}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.breakpointDecorators=this.main.getMonacoEditor().deltaDecorations(this.breakpointDecorators,e),this.decoratorIdToBreakpointMap={};for(var s=0;s<this.breakpointDecorators.length;s++)this.decoratorIdToBreakpointMap[this.breakpointDecorators[s]]=this.breakpoints[s]}},{key:"getBreakpointPositionsFromEditor",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.main.getMonacoEditor().getModel().getAllDecorations()[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if("margin_breakpoint"==o.options.marginClassName){var a=this.decoratorIdToBreakpointMap[o.id];null!=a&&(a.line=o.range.startLineNumber)}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"findSymbolTableAtPosition",value:function(e,t){return null==this.mainSymbolTable?null:((e>this.mainSymbolTable.positionTo.line||e==this.mainSymbolTable.positionTo.line&&t>this.mainSymbolTable.positionTo.column)&&(e=this.mainSymbolTable.positionTo.line,t=this.mainSymbolTable.positionTo.column-1),this.mainSymbolTable.findTableAtPosition(e,t))}},{key:"getErrorCount",value:function(){var e=0,t=!0,n=!1,i=void 0;try{for(var r,o=this.errors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.forEach((function(t){return e+="error"==t.level?1:0}))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"hasMainProgram",value:function(){return null!=this.mainProgram&&(null!=this.mainProgram.statements&&(this.mainProgram.statements.length>2||2==this.mainProgram.statements.length&&this.mainProgram.statements[0].type==s.callMainMethod))}},{key:"getProgramTextFromMonacoModel",value:function(){return this.model.getValue(monaco.editor.EndOfLinePreference.LF,!1)}},{key:"addIdentifierPosition",value:function(e,t){var n=this.identifierPositions[e.line];null==n&&(n=[],this.identifierPositions[e.line]=n),n.push({position:e,element:t})}},{key:"getTypeAtPosition",value:function(e,t){var n=this.identifierPositions[e];if(null==n)return null;var i=null,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(t>=u.position.column&&t<=u.position.column+u.position.length){var c=(i=u).element;if(c instanceof E)return{type:c,isStatic:!1};var d=c instanceof T?c:c.type;return i.position.length>0&&null!=c.type?{type:d,isStatic:!1}:{type:d,isStatic:i.position.length>0}}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return null}},{key:"getElementAtPosition",value:function(e,t){var n=this.identifierPositions[e];if(null==n)return null;var i=null,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;t>=u.position.column&&t<u.position.column+u.position.length&&u.position.length>0&&(null==i||u.element instanceof E&&i.element instanceof Z)&&(i=u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return null==i?null:i.element}},{key:"copy",value:function(){var t=new e(this.file,this.main);t.model=this.model,t.mainProgram=this.mainProgram,this.mainProgram=null,t.mainSymbolTable=this.mainSymbolTable,this.mainSymbolTable=null,t.typeStore=this.typeStore,t.isStartable=this.isStartable,t.dependsOnModulesWithErrors=this.dependsOnModulesWithErrors,t.breakpoints=this.breakpoints,this.breakpoints=[];var n=t.getPrograms();n.forEach((function(e){return e.module=t}));var i=!0,r=!1,o=void 0;try{for(var a,s=t.breakpoints[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this.breakpoints.push({line:l.line,column:l.column,statement:null}),t.attachToStatement(l,n)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return this.file.dirty=!0,t}},{key:"clear",value:function(){this.identifierPositions={},null!=this.file&&this.file.dirty&&(this.tokenList=null,this.errors[0]=[],this.errors[1]=[]),this.errors[2]=[],this.typeNodes=[],this.typeStore=new Fu,this.errors[3]=[],this.mainSymbolTable=new Ot(null,{line:1,column:1,length:1},{line:1e5,column:1,length:0}),this.mainProgram=null,this.methodCallPositions={},this.dependsOnModules=new Map}},{key:"hasErrors",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.errors[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.find((function(e){return"error"==e.level})))return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1}},{key:"getSortedAndFilteredErrors",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.errors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e=e.concat(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}e.sort((function(e,t){return e.position.line>t.position.line?1:t.position.line>e.position.line?-1:e.position.column>=t.position.column?1:-1}));for(var s=0;s<e.length-1;s++){var l=e[s],u=e[s+1];l.position.line==u.position.line&&l.position.column+10>u.position.column&&(1==this.errorLevelCompare(l.level,u.level)?e.splice(s+1,1):e.splice(s,1),s--)}return e}},{key:"errorLevelCompare",value:function(e,t){return"error"==e?1:"error"==t?2:"warning"==e?1:"warning"==t?2:1}},{key:"renderStartButton",value:function(){var e,t,n,i=null===(n=null===(t=null===(e=this.file)||void 0===e?void 0:e.panelElement)||void 0===t?void 0:t.$htmlFirstLine)||void 0===n?void 0:n.find(".jo_additionalButtonStart");if(null!=i&&(i.find(".jo_startButton").remove(),this.isStartable)){var r=jQuery('<div class="jo_startButton img_start-dark jo_button jo_active" title="Hauptprogramm in der Datei starten"></div>');i.append(r);var o=this;r.on("mousedown",(function(e){return e.stopPropagation()})),r.on("click",(function(e){e.stopPropagation(),o.main.setModuleActive(o),o.main.getInterpreter().start()}))}}}],[{key:"restoreFromData",value:function(t,n){return new e({name:t.name,text:t.text,text_before_revision:t.text_before_revision,submitted_date:t.submitted_date,student_edited_after_revision:!1,dirty:!0,saved:!0,version:t.version,id:t.id,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:t.identical_to_repository_version},n)}}]),e}();Du.maxUriNumber=0,Du.uriMap={};var _u=function(e){function t(e){var n,i,r;return ju(this,t),i=this,(n=!(r=Cu(t).call(this,{name:"Base Module",text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,dirty:!1,saved:!0,version:1,identical_to_repository_version:!0},e))||"object"!==xu(r)&&"function"!=typeof r?Tu(i):r).isSystemModule=!0,n.mainProgram=null,n.clear(),n.typeStore.addType(st),n.typeStore.addType(lt),n.typeStore.addType(ut),n.typeStore.addType(ct),n.typeStore.addType(ft),n.typeStore.addType(dt),n.typeStore.addType(pt),n.typeStore.addType(ht),n.typeStore.addType(mt),n.typeStore.addType(vt),n.typeStore.addType(gt),n.typeStore.addType(bt),n.typeStore.addType(wt),n.typeStore.addType(kt),n.typeStore.addType(new zn(Tu(n))),n.typeStore.addType(new Dn(Tu(n))),n.typeStore.addType(new Tn(Tu(n))),n.typeStore.addType(new $n(Tu(n))),n.typeStore.addType(new wn(Tu(n))),n.typeStore.addType(new Xn(Tu(n))),n.typeStore.addType(new ji(Tu(n))),n.typeStore.addType(new Ai(Tu(n))),n.typeStore.addType(new Bi(Tu(n))),n.typeStore.addType(new Qn(Tu(n))),n.typeStore.addType(new hn(Tu(n))),n.typeStore.addType(new ni(Tu(n))),n.typeStore.addType(new gi(Tu(n))),n.typeStore.addType(new Pi(Tu(n))),n.typeStore.addType(new ci(Tu(n))),n.typeStore.addType(new el(Tu(n))),n.typeStore.addType(new sl(Tu(n))),n.typeStore.addType(new Ni(Tu(n))),n.typeStore.addType(new xs(Tu(n))),n.typeStore.addType(new _l(Tu(n))),n.typeStore.addType(new Yo(Tu(n))),n.typeStore.addType(new Qa(Tu(n))),n.typeStore.addType(new Qt(Tu(n))),n.typeStore.addType(new Us(Tu(n))),n.typeStore.addType(new Zs(Tu(n))),n.typeStore.addType(new Co(Tu(n))),n.typeStore.addType(new wr(Tu(n))),n.typeStore.addType(new Rr(Tu(n))),n.typeStore.addType(new so(Tu(n))),n.typeStore.addType(new ga(Tu(n))),n.typeStore.addType(new Aa(Tu(n))),n.typeStore.addType(new bo(Tu(n))),n.typeStore.addType(new Io(Tu(n))),n.typeStore.addType(new Zr(Tu(n))),n.typeStore.addType(new Tr(Tu(n))),n.typeStore.addType(new gs(Tu(n))),n.typeStore.addType(new Ra(Tu(n))),n.typeStore.addType(new us(Tu(n))),n.typeStore.addType(new xa(Tu(n))),n.typeStore.addType(new is(Tu(n))),n.typeStore.addType(new Qo(Tu(n))),n.typeStore.addType(new Ko(Tu(n))),n.typeStore.addType(new la(Tu(n))),n.typeStore.addType(new Ml(Tu(n))),n.typeStore.addType(new hl(Tu(n))),n.typeStore.addType(new Su(Tu(n))),n.typeStore.addType(new Rl(Tu(n))),n.typeStore.addType(new Wl(Tu(n))),n.typeStore.addType(new dr(Tu(n))),n.typeStore.addType(new du(Tu(n))),n.typeStore.getType("Actor").registerWorldType(),n.typeStore.addType(new _s(Tu(n))),n.typeStore.addType(new Ws(Tu(n))),n.typeStore.addType(new Ds(Tu(n))),n.typeStore.addType(new Rs(Tu(n))),n.typeStore.addType(new kl(Tu(n))),n.typeStore.addType(new Sl(Tu(n))),n.typeStore.addType(new wl(Tu(n))),n.typeStore.addType(new Kl(Tu(n))),n.typeStore.addType(new tu(Tu(n))),pt.module=Tu(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(t,e),Ou(t,[{key:"clearUsagePositions",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.typeStore.typeList[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.clearUsagePositions()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}]),t}(Du),Au=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ju(this,e),this.main=t,this.modules=[],this.moduleMap=new Map,this.dirty=!1,n&&(this.baseModule=new _u(t),this.putModule(this.baseModule))}return Ou(e,[{key:"findModuleById",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.file.id==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"getBaseModule",value:function(){return this.baseModule}},{key:"clearUsagePositions",value:function(){this.baseModule.clearUsagePositions()}},{key:"copy",value:function(){var t=new e(this.main),n=!0,i=!1,r=void 0;try{for(var o,a=this.modules[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.isSystemModule||t.putModule(s.copy())}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}},{key:"findModuleByFile",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.file==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"hasErrors",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.modules[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.hasErrors())return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1}},{key:"getFirstModule",value:function(){if(this.modules.length>0){var e=!0,t=!1,n=void 0;try{for(var i,r=this.modules[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!o.isSystemModule)return o}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}return null}},{key:"isDirty",value:function(){if(this.dirty)return this.dirty=!1,!0;var e=!1,t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(r.value.file.dirty){e=!0;break}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"getModules",value:function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.modules[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.file.name!=t&&(l.isSystemModule&&!e||n.push(l))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},{key:"putModule",value:function(e){this.modules.push(e),this.moduleMap[e.file.name]=e}},{key:"removeModuleWithFile",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.file==e){this.removeModule(a);break}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"removeModule",value:function(e){this.modules.indexOf(e)<0||(this.modules.splice(this.modules.indexOf(e),1),this.moduleMap[e.file.name]=void 0,this.dirty=!0)}},{key:"getModule",value:function(e){return this.moduleMap[e]}},{key:"getType",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(null!=a.typeStore){var s=a.typeStore.getType(e);if(null!=s)return{type:s,module:a}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"getTypeCompletionItems",value:function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.modules[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(null!=l.typeStore){var u=!0,c=!1,d=void 0;try{for(var h,p=l.typeStore.typeList[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;if(l==e||f instanceof Z&&f.visibility==I.public||l.isSystemModule){var y="Klasse";null!=f.documentation?y=f.documentation:l.isSystemModule&&(y=f instanceof M?"Primitiver Datentyp":"Systemklasse");var m={label:f.identifier,detail:y,insertText:f.identifier,kind:f instanceof M?monaco.languages.CompletionItemKind.Struct:monaco.languages.CompletionItemKind.Class,range:t,generic:(f instanceof Z||f instanceof X)&&f.typeVariables.length>0};n.push(m)}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}]),e}(),Fu=function(){function e(){ju(this,e),this.typeList=[],this.typeMap=new Map}return Ou(e,[{key:"addType",value:function(e){this.typeList.push(e),this.typeMap.set(e.identifier,e)}},{key:"clear",value:function(){this.typeList.length=0,this.typeMap.clear()}},{key:"getType",value:function(e){return this.typeMap.get(e)}}]),e}();function Iu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zu=function(){function e(t,n,i,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.children=[],this.isOpen=!1,this.caption=t,this.parent=n,null!=n&&n.children.push(this),this.value=r,this.type=o,this.variable=a,this.identifier=i}var t,n,i;return t=e,(n=[{key:"getLevel",value:function(){return null==this.parent?0:this.parent.getLevel()+1}},{key:"getIndent",value:function(){return 0==this.getLevel()?0:15}},{key:"render",value:function(){var e=this;if(null==this.$debuggerElement){this.$debuggerElement=jQuery("<div>"),this.$debuggerElement.addClass("jo_debuggerElement"),this.$debuggerElement.css("margin-left",this.getIndent()+"px");var t=jQuery('<div class="jo_deFirstline"><span class="jo_deIdentifier">'+this.identifier+'</span>:&nbsp;<span class="jo_deValue"></span></div>');this.$debuggerElement.append(t),(this.type instanceof jt||this.type instanceof Z&&!(this.type instanceof $t)&&this.type!=pt||this.type instanceof q||this.type instanceof X)&&(this.canOpen=!0,this.$debuggerElement.addClass("jo_canOpen"),this.$debuggerElement.append(jQuery('<div class="jo_deChildContainer"></div>')),this.$debuggerElement.find(".jo_deFirstline").on("mousedown",(function(t){null!=e.value&&null!=e.value.value?(0==e.children.length&&e.onFirstOpening(),e.$debuggerElement.toggleClass("jo_expanded"),e.isOpen=!e.isOpen):e.children=[],t.stopPropagation()})))}this.renderValue()}},{key:"onFirstOpening",value:function(){if(this.children=[],this.type instanceof Z){var t=this.value.value,n=null==t.intrinsicData?null:t.intrinsicData.ListHelper;if(null!=n)this.renderListElements(n);else{var i=!0,r=!1,o=void 0;try{for(var a,s=this.value.type.getAttributes(I.private)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=new e(null,this,l.identifier,t.getValue(l.identifier),l.type,null);u.render(),this.$debuggerElement.find(".jo_deChildContainer").append(u.$debuggerElement)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}}else if(this.type instanceof jt)for(var c=this.value.value,d=this.$debuggerElement.find(".jo_deChildContainer"),h=0;h<c.length&&h<100;h++){var p=new e(null,this,"["+h+"]",c[h],this.type.arrayOfType,null);p.render(),d.append(p.$debuggerElement)}else if(this.type instanceof q){var f=!0,y=!1,m=void 0;try{for(var v,g=this.type.getAttributes(I.private)[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value,w=this.type.classObject,k=new e(null,this,b.identifier,w.getValue(b.identifier),b.type,null);k.render(),this.$debuggerElement.find(".jo_deChildContainer").append(k.$debuggerElement)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}else if(this.type instanceof X)if(null!=this.value.value&&this.value.value instanceof A){var S=this.value.value,P=!0,x=!1,C=void 0;try{for(var T,M=S.class.getAttributes(I.private)[Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var j=T.value,E=new e(null,this,j.identifier,S.getValue(j.identifier),j.type,null);E.render(),this.$debuggerElement.find(".jo_deChildContainer").append(E.$debuggerElement)}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}}else this.children}},{key:"renderListElements",value:function(t){var n=t.valueArray;if(this.children.length>n.length){for(var i=n.length;i<this.children.length;i++)this.children[i].$debuggerElement.remove();this.children.splice(n.length)}if(this.children.length<n.length&&this.children.length<100)for(var r=this.children.length;r<n.length&&r<=100;r++){var o=n[r],a=""+r;100==r&&(o={type:pt,value:t.valueArray.length-100+" weitere..."},a="...");var s=new e(null,this,a,o,o.type,null);s.render(),this.$debuggerElement.find(".jo_deChildContainer").first().append(s.$debuggerElement)}}},{key:"renderValue",value:function(){var e,t=this.value;if(null!=t){if(this.$debuggerElement.show(),null==t.value)e="null",this.removeAllChildren();else if(null!=t.updateValue&&t.updateValue(t),e=t.type.debugOutput(t),this.type instanceof Z){var n=this.value.value,i=null==n.intrinsicData?null:n.intrinsicData.ListHelper;null!=i&&(this.renderListElements(i),i.allElementsPrimitive()?(e=i.valueArray.length+" El: ",e+="["+i.objectArray.slice(0,20).map((function(e){return""+e})).join(", ")+"]"):e=t.type.identifier+" ("+i.valueArray.length+" Elemente)")}this.$debuggerElement.find(".jo_deValue").first().html(e);var r=!0,o=!1,a=void 0;try{for(var s,l=this.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)s.value.renderValue()}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}else this.$debuggerElement.hide()}},{key:"removeAllChildren",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.children[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.$debuggerElement.remove()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.children=[]}}])&&Iu(t.prototype,n),i&&Iu(t,i),e}();function Lu(e){return e.replace(/['"]+/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function Bu(e){return e<10?"0"+e:""+e}function Ru(e,t){return e.replace(new RegExp("(?![^\\n]{1,".concat(t,"}$)([^\\n]{1,").concat(t,"})\\s"),"g"),"$1\n")}function Wu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if("string"==typeof t)n=t;else for(var i=0;i<t;i++)n+=" ";return(e=Ru(e,60)).length>0&&(e="\n"+e),e=n+"/**"+e.replace(/\n/g,"\n"+n+" * ")+"\n"+n+" */"}function $u(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null==t&&(t=e);var r=jQuery('<input type="text" class="jo_inplaceeditor" spellcheck="false">');r.css({width:t.css("width"),height:t.css("height"),color:t.css("color"),position:t.css("position"),"background-color":t.css("background-color"),"font-size":t.css("font-size"),"font-weight":t.css("font-weight"),"box-sizing":"border-box"}),r.val(e.text()),r.on("mousedown",(function(e){e.stopPropagation()})),null!=i&&r[0].setSelectionRange(i.start,i.end),t.after(r),t.hide(),setTimeout((function(){r.focus()}),300),r.on("keydown.me",(function(e){if("Enter"!=e.key)"Escape"==e.key&&(r.off("keydown.me"),r.off("focuslost.me"),r.remove(),t.show());else{r.off("keydown.me"),r.off("focuslost.me"),r.remove(),t.show();var i=Lu(r.val());n(i)}})),r.on("focusout.me",(function(e){r.off("keydown.me");var i=r.val();n(i),t.show(),r.remove()}))}function Vu(e,t,n){var i=jQuery('<div class="jo_contextmenu"></div>'),r=null,o=null,a=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value,t=e.caption;null!=e.link&&(t='<a href="'.concat(e.link,'" target="_blank" class="jo_menulink">').concat(e.caption,"</a>"));var n=jQuery("<div>"+t+(null!=e.subMenu?'<span style="float: right"> &nbsp; &nbsp; &gt;</span>':"")+"</div>");(null!=e.color&&n.css("color",e.color),null==e.link)?n.on("mousedown.contextmenu",(function(){jQuery(".jo_contextmenu").remove(),jQuery(document).off("mousedown.contextmenu"),jQuery(document).off("keydown.contextmenu"),e.callback()})):n.find("a").on("mousedown",(function(e){e.stopPropagation(),setTimeout((function(){n.hide()}),500)}));n.on("mousemove.contextmenu",(function(){e!=o&&null!=r&&(r.remove(),o=null,r=null),null!=e.subMenu&&(r=Vu(e.subMenu,n.offset().left+n.width(),n.offset().top))})),i.append(n)},d=e[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)c()}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}jQuery(document).on("mousedown.contextmenu",(function(){jQuery(document).off("mousedown.contextmenu"),jQuery(document).off("keydown.contextmenu"),jQuery(".jo_contextmenu").remove()})),jQuery(document).on("keydown.contextmenu",(function(e){"Escape"==e.key&&(jQuery(document).off("mousedown.contextmenu"),jQuery(document).off("keydown.contextmenu"),jQuery(".jo_contextmenu").remove())}));var h=t>.8*window.innerWidth?"right":"left",p=t>.8*window.innerWidth?window.innerWidth-t:t,f=n>.8*window.innerHeight?"bottom":"top",y=n>.8*window.innerHeight?window.innerHeight-n:n,m={};return m[h]=p+"px",m[f]=y+"px",i.css(m),jQuery("body").append(i),i.show(),i}function Nu(e){var t=e.find(".jo_tabheadings>div").not(".jo_noHeading"),n=e.find(".jo_tabs>div");t.on("mousedown",(function(i){var r=jQuery(i.target);t.removeClass("jo_active"),r.addClass("jo_active");var o=e.find("."+r.data("target"));n.removeClass("jo_active"),n.trigger("myhide"),o.addClass("jo_active"),o.trigger("myshow")}))}function Gu(e){return e=e.replace("px","").trim(),Number.parseInt(e)}function Hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,r="";null!=e&&""!=e&&(r+=' id="'.concat(e,'"')),null!=t&&""!=t&&(r+=' class="'.concat(t,'"'));var o=jQuery("<div".concat(r,"></div>"));return null!=i&&o.css(i),null!=n&&""!=n&&o.text(n),o}function Qu(e,t,n){e.empty(),t.forEach((function(t){var i=t.value==n?' selected="selected"':"",r=jQuery("<option value=".concat(t.value).concat(i,">").concat(t.caption,"</option>"));e.append(r),r.data("object",t.object)})),e.data("items",t)}function Ku(e){var t,n=e.data("items"),i=e.val();return null===(t=n.find((function(e){return e.value==i})))||void 0===t?void 0:t.object}function Uu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qu(e,t,n){return t&&Zu(e.prototype,t),n&&Zu(e,n),e}var Xu=function(){function e(t,n,i,r,o,a,s){Uu(this,e),this.accordion=t,this.caption=n,this.flexWeight=i,this.newButtonClass=r,this.buttonNewTitle=o,this.defaultIconClass=a,this.withDeleteButton=s,this.elements=[],t.addPanel(this)}return qu(e,[{key:"remove",value:function(){this.$captionElement.remove(),this.$listElement.remove()}},{key:"setFixed",value:function(e){this.fixed=e,this.fixed?this.$captionElement.addClass("jo_fixed"):this.$captionElement.removeClass("jo_fixed")}},{key:"enableNewButton",value:function(e){null!=this.$buttonNew&&(e?this.$buttonNew.show():this.$buttonNew.hide())}},{key:"renderOuterHtmlElements",value:function(e){var t=this,n=this;this.$captionElement=jQuery('<div class="jo_leftpanelcaption jo_expanded" id="workspace">\n        <span>'+this.caption+'</span><div class="jo_actions"></div></div>'),null!=this.newButtonClass&&(this.$buttonNew=jQuery('<div class="jo_button jo_active '+this.newButtonClass+'" title="'+this.buttonNewTitle+'">'),this.$captionElement.find(".jo_actions").append(this.$buttonNew),this.$buttonNew.on("mousedown",(function(e){Zi.close(),e.stopPropagation();var t={name:"Neu"};n.elements.push(t);var i=n.renderElement(t);n.$listElement.prepend(i),n.$listElement.scrollTop(0),n.renameElement(t,(function(){n.newElementCallback(t,(function(e){t.externalElement=e,null!=t.$htmlSecondLine&&t.$htmlSecondLine.insertAfter(i),null!=n.selectCallback&&n.select(t.externalElement)}))}))})));var i=jQuery('<div id="filelistouter" class="jo_projectexplorerdiv jo_scrollable" data-grow="'+this.flexWeight+'" style="flex-grow: '+this.flexWeight+'"></div>');this.$listElement=jQuery('<div class="jo_filelist"></div>'),i.append(this.$listElement),e.append(this.$captionElement),e.append(i);var r=this.$captionElement,o=this.$listElement.parent();r.on("mousedown",(function(e){if(0==e.button&&!t.fixed){var i=o.data("grow");r.hasClass("jo_expanded")?n.accordion.parts.length>1&&o.animate({"flex-grow":.001},1e3,(function(){r.toggleClass("jo_expanded")})):(r.toggleClass("jo_expanded"),o.animate({"flex-grow":i},1e3))}}))}},{key:"addElement",value:function(e){this.elements.push(e),e.$htmlFirstLine=this.renderElement(e),this.$listElement.prepend(e.$htmlFirstLine)}},{key:"setTextAfterFilename",value:function(e,t,n){var i=e.$htmlFirstLine.find(".jo_textAfterName");i.addClass(n),i.html(t)}},{key:"addAction",value:function(e){this.$captionElement.find(".jo_actions").prepend(e)}},{key:"renderElement",value:function(e){var t=this;if(null==e.iconClass&&(e.iconClass=this.defaultIconClass),e.$htmlFirstLine=jQuery('<div class="jo_file jo_'.concat(e.iconClass,'">\n        <div class="jo_fileimage"></div><div class="jo_filename">').concat(Lu(e.name),'</div>\n           <div class="jo_textAfterName"></div>\n           <div class="jo_additionalButtonHomework"></div>\n           <div class="jo_additionalButtonStart"></div>\n           <div class="jo_additionalButtonRepository"></div>\n           ').concat(this.withDeleteButton?'<div class="jo_delete img_delete jo_button jo_active"></div>':"","\n        </div>")),null!=this.addElementActionCallback){var n=this.addElementActionCallback(e);e.$htmlFirstLine.append(n)}return e.$htmlFirstLine.on("mousedown",(function(n){if(0==n.button&&null!=t.selectCallback){t.selectCallback(e.externalElement);var i=!0,r=!1,o=void 0;try{for(var a,s=t.elements[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l!=e&&l.$htmlFirstLine.hasClass("jo_active")&&l.$htmlFirstLine.removeClass("jo_active")}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}e.$htmlFirstLine.addClass("jo_active")}})),e.$htmlFirstLine[0].addEventListener("contextmenu",(function(n){var i=[];if(null!=t.renameCallback&&i.push({caption:"Umbenennen",callback:function(){t.renameElement(e)}}),null!=t.contextMenuProvider){var r=!0,o=!1,a=void 0;try{for(var s,l=function(){var t=s.value;i.push({caption:t.caption,callback:function(){t.callback(e)},color:t.color,subMenu:null==t.subMenu?null:t.subMenu.map((function(t){return{caption:t.caption,callback:function(){t.callback(e)},color:t.color}}))})},u=t.contextMenuProvider(e)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)l()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}i.length>0&&(n.preventDefault(),Vu(i,n.pageX,n.pageY))}),!1),t.withDeleteButton&&e.$htmlFirstLine.find(".jo_delete").on("mousedown",(function(n){n.preventDefault(),Vu([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: lÃ¶schen!",color:"#ff6060",callback:function(){t.deleteCallback(e.externalElement,(function(){e.$htmlFirstLine.remove(),null!=e.$htmlSecondLine&&e.$htmlSecondLine.remove(),t.elements.splice(t.elements.indexOf(e),1),null!=t.selectCallback&&(t.elements.length>0?t.select(t.elements[0].externalElement):t.select(null))}))}}],n.pageX+2,n.pageY+2),n.stopPropagation()})),e.$htmlFirstLine}},{key:"renameElement",value:function(e,t){var n=this,i=e.$htmlFirstLine.find(".jo_filename"),r=e.name.indexOf(".");$u(i,i,(function(r){null!=e.externalElement&&(r=n.renameCallback(e.externalElement,r)),e.name=r,i.html(e.name),null!=t&&t()}),null==r?null:{start:0,end:r})}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null==e){var n=!0,i=!1,r=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.$htmlFirstLine.hasClass("jo_active")&&s.$htmlFirstLine.removeClass("jo_active")}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}else{var l=this.findElement(e);if(null!=l){var u=!0,c=!1,d=void 0;try{for(var h,p=this.elements[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;f.$htmlFirstLine.hasClass("jo_active")&&f.$htmlFirstLine.removeClass("jo_active")}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}l.$htmlFirstLine.addClass("jo_active")}}t&&null!=this.selectCallback&&this.selectCallback(e)}},{key:"setElementClass",value:function(e,t){var n;null!=e&&(null===(n=e.$htmlFirstLine)||void 0===n||n.removeClass("jo_"+e.iconClass).addClass("jo_"+t),e.iconClass=t)}},{key:"findElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.elements[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.externalElement==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"removeElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.elements[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.externalElement==e)return a.$htmlFirstLine.remove(),null!=a.$htmlSecondLine&&a.$htmlSecondLine.remove(),this.elements.splice(this.elements.indexOf(a),1),void(null!=this.selectCallback&&(this.elements.length>0?this.select(this.elements[0].externalElement):this.select(null)))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"clear",value:function(){this.$listElement.empty(),this.elements=[]}},{key:"setCaption",value:function(e){this.$captionElement.find("span").html(e)}},{key:"getSelectedElementData",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.elements[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(o.$htmlFirstLine.hasClass("jo_active"))return o}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return null}}]),e}(),Ju=function(){function e(t){Uu(this,e),this.parts=[],this.$html=t,t.addClass("jo_leftpanelinner")}return qu(e,[{key:"addPanel",value:function(e){e.renderOuterHtmlElements(this.$html),this.parts.push(e)}}]),e}();function Yu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ec=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expression=t,this.accordionElement=n,this.main=i,this.$secondLine=r,this.$rightTextInFirstLine=o}var t,n,i;return t=e,(n=[{key:"setError",value:function(e){this.$secondLine.empty(),this.$secondLine.append(jQuery('<div class="jo_watcherResult">---</div>'))}},{key:"evaluate",value:function(){var e=this,t=this.main.getCurrentWorkspace().evaluator.evaluate(this.expression);if(null!=t.error)this.setError(t.error);else{var n="---";null!=t.value&&(n=t.value.type.debugOutput(t.value)),this.$secondLine.empty(),this.$rightTextInFirstLine.empty(),monaco.editor.colorize(n,"myJava",{tabSize:3}).then((function(t){var i=jQuery('<div class="jo_watcherResult">'+t+"</div>");e.expression.length+n.length<20?e.$rightTextInFirstLine.append(i):e.$secondLine.append(i)}))}}}])&&Yu(t.prototype,n),i&&Yu(t,i),e}();function tc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nc=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$debuggerDiv=n,this.$projectexplorerDiv=i,this.lastDebuggerElements=[],this.accordion=new Ju(n),this.variablePanel=new Xu(this.accordion,"Variablen","3",null,null,"",!1),this.variablePanel.$listElement.css("margin-left","4px"),this.watchPanel=new Xu(this.accordion,"Beobachten","2","img_add-dark","Beobachtungsterm hinzufÃ¼gen","watcher",!0),this.watchPanel.$listElement.css("margin-left","4px");var r=this;this.watchPanel.newElementCallback=function(e,t){return r.addWatchExpression(e),t(e.externalElement),null},this.watchPanel.deleteCallback=function(e,t){r.deleteWatchExpression(e),t()},this.watchPanel.renameCallback=function(e,t){return r.renameWatchExpression(e,t),t},this.$debuggerDiv.hide()}var t,n,i;return t=e,(n=[{key:"enable",value:function(){null!=this.$projectexplorerDiv&&this.$projectexplorerDiv.hide(),this.$debuggerDiv.show(),this.$debuggerDiv.parent().find(".jo_alternativeText").hide()}},{key:"disable",value:function(){null!=this.$projectexplorerDiv&&this.$projectexplorerDiv.show(),this.$debuggerDiv.hide(),this.$debuggerDiv.parent().find(".jo_alternativeText").show()}},{key:"showData",value:function(e,t,n,i,r){var o=this;if(null!=e.module.file){var a=[],s=e.module.findSymbolTableAtPosition(t.line,t.column),l=this.lastDebuggerElements;this.lastDebuggerElements=[];var u=this.variablePanel.$listElement,c=s;if(null!=c.classContext){var d=n[i];if(l.length>0&&l[0].value==d&&null==l[0].variable)this.lastDebuggerElements.push(l[0]),a.push(this.lastDebuggerElements[0].$debuggerElement[0]);else{var h=c.classContext instanceof q?c.classContext.identifier:"this",p=new zu(null,null,h,d,c.classContext,null);this.lastDebuggerElements.push(p)}}for(var f={};null!=c;)c.variableMap.forEach((function(e,t){if(null==f[e.identifier]){var r;f[e.identifier]=!0;var s=!0,u=!1,c=void 0;try{for(var d,h=l[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;p.variable==e&&(r=p,a.push(r.$debuggerElement[0]),null==r.value&&null!=r.variable&&(r.value=n[i+r.variable.stackPos]))}}catch(e){u=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}if(null==r){var y=n[i+e.stackPos];r=new zu(null,null,t,y,e.type,e)}o.lastDebuggerElements.push(r)}}),this),c=c.parent;if(null==s.classContext)for(var y in r){var m=r[y];if(1!=f[m.identifier]){f[m.identifier]=!0;var v=void 0,g=!0,b=!1,w=void 0;try{for(var k,S=l[Symbol.iterator]();!(g=(k=S.next()).done);g=!0){var P=k.value;P.variable==m&&(v=P,a.push(v.$debuggerElement[0]),v.value=v.variable.value)}}catch(e){b=!0,w=e}finally{try{g||null==S.return||S.return()}finally{if(b)throw w}}if(null==v){var x=m.value;v=new zu(null,null,y,x,m.type,m)}this.lastDebuggerElements.push(v)}}var C=!0,T=!1,M=void 0;try{for(var j,E=u.children()[Symbol.iterator]();!(C=(j=E.next()).done);C=!0){var O=j.value;a.indexOf(O)>=0||O.remove()}}catch(e){T=!0,M=e}finally{try{C||null==E.return||E.return()}finally{if(T)throw M}}var D=!0,_=!1,A=void 0;try{for(var F,I=this.lastDebuggerElements[Symbol.iterator]();!(D=(F=I.next()).done);D=!0){var z=F.value;null!=z.variable&&(null!=z.variable.stackPos?z.value=n[i+z.variable.stackPos]:z.value=z.variable.value),z.render(),a.indexOf(z.$debuggerElement[0])<0&&u.append(z.$debuggerElement)}}catch(e){_=!0,A=e}finally{try{D||null==I.return||I.return()}finally{if(_)throw A}}this.lastSymboltable=s,this.evaluateWatcherExpressions()}}},{key:"renameWatchExpression",value:function(e,t){e.expression=t,monaco.editor.colorize(t,"myJava",{tabSize:3}).then((function(t){var n=e.accordionElement.$htmlFirstLine.find(".jo_filename");t='<span class="jo_watcherExpression">'+t+"</span>",n.html(t),n.attr("title",e.expression)})),this.main.getInterpreter().state==Xi.paused&&e.evaluate()}},{key:"deleteWatchExpression",value:function(e){}},{key:"addWatchExpression",value:function(e){e.$htmlSecondLine=jQuery("<div></div>");var t=e.$htmlFirstLine.parent().find(".jo_textAfterName").first(),n=new ec(e.name,e,this.main,e.$htmlSecondLine,t);e.externalElement=n,monaco.editor.colorize(e.name,"myJava",{tabSize:3}).then((function(t){var n=e.$htmlFirstLine.find(".jo_filename");t='<span class="jo_watcherExpression">'+t+"</span>",n.html(t),n.attr("title",e.externalElement.expression)})),n.evaluate()}},{key:"evaluateWatcherExpressions",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.watchPanel.elements[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.externalElement.evaluate()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}])&&tc(t.prototype,n),i&&tc(t,i),e}();function ic(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var rc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$mainElement=t,this.main=n,this.actions={},this.keyEntries={},this.buttons={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this.$mainElement;null==e&&(e=jQuery(document));var t=this;e.on("keydown",(function(e){null!=e&&t.executeKeyDownEvent(e)}))}},{key:"trigger",value:function(e){var t=this.actions[e];null!=t&&t.action(e,null,"")}},{key:"registerAction",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,a={action:n,identifier:e,keys:t,text:r,active:!0};this.actions[e]=a;var s=!0,l=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null==this.keyEntries[h.toLowerCase()]&&(this.keyEntries[h.toLowerCase()]=[]),this.keyEntries[h.toLowerCase()].push(a)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}if(null!=o){null==this.buttons[e]&&(this.buttons[e]=[]),this.buttons[e].push(o);var p=r;t.length>0&&(p+=" ["+t.join(", ")+"]"),o.attr("title",p),o.on("mousedown",(function(){a.active&&n(e,null,"mousedown"),"interpreter.start"==e&&i.main.isEmbedded()&&$a.init()}))}}},{key:"isActive",value:function(e){var t=this.actions[e];return null!=t&&t.active}},{key:"setActive",value:function(e,t){var n=this.actions[e];null!=n&&(n.active=t);var i=this.buttons[e];if(null!=i){var r=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;t?u.addClass("jo_active"):u.removeClass("jo_active")}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}}},{key:"executeKeyDownEvent",value:function(e){if("input"!=document.activeElement.tagName.toLowerCase()&&!(e.keyCode<=18&&e.keyCode>=16)){var t="";e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),null!=e.key&&(t+=e.key.toLowerCase());var n=this.keyEntries[t];if(null!=n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.active){e.stopPropagation(),e.preventDefault(),l.action(l.identifier,null,t);break}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}}}}])&&ic(t.prototype,n),i&&ic(t,i),e}();function oc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ac=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$pcodeTab=this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab")}var t,n,i;return t=e,(n=[{key:"showNode",value:function(e){if(this.$pcodeTab.hasClass("jo_active")){this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab").find("div").removeClass("jo_revealProgramPointer");var t=e.$div;if(null!=t){t.addClass("jo_revealProgramPointer");var n=t.position().top+this.$pcodeTab.scrollTop();n-=this.$pcodeTab.height()/2,this.$pcodeTab.scrollTop(n)}}}},{key:"initGUI",value:function(){var e=this;this.$pcodeTab.on("myshow",(function(){e.main.printProgram()}))}},{key:"printModuleToBottomDiv",value:function(e,t){var n=this;if(null!=t&&this.$pcodeTab.hasClass("jo_active")){var i=this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab");i.html(""),i.append(this.printModule(t)),null!=e&&null!=e.compilerMessage&&i.prepend("<div>"+e.compilerMessage+"</div>"),i.find(".jo_label_destination").on("click",(function(e){var t=jQuery(e.target).data("destination");null==t&&(t=jQuery(e.target).parent().data("destination")),null!=t&&n.$pcodeTab.find("."+t)[0].scrollIntoView()}))}}},{key:"printModule",value:function(e){if(null==e)return[jQuery("<div></div>")];var t=[];if(null!=e.mainProgram&&(t.push(jQuery("<h3>Main Program: </h3>")),t=t.concat(this.print(e.mainProgram.statements))),null!=e.typeStore&&null!=e.typeStore.typeList){var n=!0,i=!1,r=void 0;try{for(var o,a=e.typeStore.typeList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s instanceof Z){t.push(jQuery("<h2>Class "+s.identifier+":</h2>")),s.attributeInitializationProgram.statements.length>0&&(t.push(jQuery("<h3>Attribute-initialization:</h3>")),t=t.concat(this.print(s.attributeInitializationProgram.statements)));var l=!0,u=!1,c=void 0;try{for(var d,h=s.methods[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;null!=p.program&&(t.push(jQuery("<h3>Method "+p.signature+":</h3>")),t=t.concat(this.print(p.program.statements)))}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var f=!0,y=!1,m=void 0;try{for(var v,g=s.staticClass.methods[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;null!=b.program&&(t.push(jQuery("<h3>Static Method "+b.signature+":</h3>")),t=t.concat(this.print(b.program.statements)))}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"print",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Map,i=0,r=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;if(c.type==s.jumpAlways||c.type==s.jumpIfFalse||c.type==s.jumpIfTrue||c.type==s.jumpIfFalseAndLeaveOnStack||c.type==s.jumpIfTrueAndLeaveOnStack||c.type==s.extendedForLoopCheckCounterAndGetElement){var d=c.destination,h=n.get(d);null==h&&n.set(d,{number:i++})}if(c.type==s.keywordSwitch){for(var p in c.destinationMap){var f=c.destinationMap[p],y=n.get(f);null==y&&n.set(f,{number:i++})}if(null!=c.defaultDestination){var m=n.get(c.defaultDestination);null==m&&n.set(c.defaultDestination,{number:i++})}}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}var v=[],g=0,b=!0,w=!1,k=void 0;try{for(var S,P=e[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;v.push(this.printNode(x,t,g,n)),g++}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}return v}},{key:"printNode",value:function(e,t,n,i){var r=t,o=i.get(n);null!=o&&(r+="<span style='font-weight: bold' class='label"+o.number+"'>Label&nbsp;<span style='color: green'>"+o.number+":</span></span><br>"),null!=e.position?r+="(l"+this.format3(e.position.line)+",&nbsp;c"+this.format3(e.position.column)+"): ":r+="(l&nbsp;xxx,&nbsp;c&nbsp;xxx):",r+="<span style='fontweight: bold; color: #8080ff'>"+s[e.type]+"</span>&nbsp;";var a="";switch(e.type){case s.localVariableDeclaration:case s.heapVariableDeclaration:a+="V: "+this.printVariable(e.variable)+"&nbsp;&nbsp;pushToStackTop: "+e.pushOnTopOfStackForInitialization;break;case s.pushLocalVariableToStack:a+="StackPos: "+e.stackposOfVariable;break;case s.pushFromHeapToStack:a+="v: "+e.identifier;break;case s.pushAttribute:a+="Identifier: "+e.attributeIdentifier+", use THIS-Object: "+e.useThisObject;break;case s.assignment:case s.plusAssignment:case s.minusAssignment:case s.multiplicationAssignment:case s.divisionAssignment:a+="Assignmenttype: "+d[e.type]+"&nbsp;&nbsp;",e.type==s.assignment&&(a+=", leaveValueOnStack: "+e.leaveValueOnStack);break;case s.binaryOp:case s.unaryOp:a+="Operator: "+d[e.operator];break;case s.pushConstant:a+="Value: "+e.value;break;case s.pushStaticClassObject:a+="Static class: "+e.klass.identifier;break;case s.castValue:a+="New Type: "+e.newType.identifier;break;case s.selectArrayElement:break;case s.callMethod:a+=e.method.identifier,a+=", StackframeBegin: "+e.stackframeBegin;break;case s.decreaseStackpointer:a+="count: "+e.popCount;break;case s.return:a+="copyReturnValueToStackframePos0: "+e.copyReturnValueToStackframePos0;break;case s.extendedForLoopCheckCounterAndGetElement:case s.jumpAlways:case s.jumpIfFalse:case s.jumpIfTrue:case s.jumpIfFalseAndLeaveOnStack:case s.jumpIfTrueAndLeaveOnStack:var l=i.get(e.destination).number;a+="destination: <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+l+"'>Label<span style='color: green'>&nbsp;"+l+"</span></span>";break;case s.incrementDecrementBefore:case s.incrementDecrementAfter:a+="amount: "+e.incrementDecrementBy;break;case s.beginArray:a+="type: "+e.arrayType.identifier;break;case s.addToArray:a+="count: "+e.numberOfElementsToAdd;break;case s.pushEmptyArray:a+="type: "+e.arrayType.identifier,a+=", dimension: "+e.dimension;break;case s.keywordSwitch:for(var u in a+="destinationMap: {",e.destinationMap){var c=i.get(e.destinationMap[u]).number;a+=u+": <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+c+"'>Label<span style='color: green'>&nbsp;"+c+"</span></span>, "}if(a.endsWith(", ")&&(a=a.substring(0,a.length-2)),a+="}",null!=e.defaultDestination){var h=i.get(e.defaultDestination).number;a+=", defaultDestination: <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+h+"'>Label<span style='color: green'>&nbsp;"+h+"</span></span>"}break;case s.pushStaticAttribute:null!=e.klass&&(a+="class: "+e.klass.identifier+", attribute: "+e.attributeIdentifier);break;case s.newObject:a+="class: "+e.class.identifier}""!=a&&(r+=" [".concat(a,"]")),1==e.stepFinished&&(r+="::"),r="<div>"+r+"</div>";var p=jQuery(r);return e.$div=p,p}},{key:"printVariable",value:function(e){return e.type.identifier+" "+e.identifier+(null==e.stackPos?"":" (sp: "+e.stackPos+")")}},{key:"format3",value:function(e){return e>=100?""+e:e>=10?"&nbsp;"+e:"&nbsp;&nbsp;"+e}}])&&oc(t.prototype,n),i&&oc(t,i),e}();function sc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var lc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.moduleStore=new Au(this.main,!0),this.lexer=new m,this.parser=new Jt(!0),this.codeGenerator=new Zt,this.module=new Du(null,t)}var t,n,i;return t=e,(n=[{key:"compile",value:function(e,t,n,i){var r=performance.now(),o=[];this.module.clear(),null==i?(i=new Ot(null,{column:1,line:1,length:0},{column:1,line:100,length:0})).beginsNewStackframe=!0:i=i.getImitation();var a=this.lexer.lex(e);o=a.errors,this.module.tokenList=a.tokens,new Jt(!0).parse(this.module),o=o.concat(this.module.errors[1]);var l=!0,u=!1,c=void 0;try{for(var d,h=this.module.typeNodes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(null==p.resolvedType){var f=t.getType(p.identifier);null==f?o.push({text:"Der Datentyp "+p.identifier+" ist nicht bekannt.",position:p.position,level:"error"}):p.resolvedType=rn(f.type,p.arrayDimension)}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var y=this.codeGenerator.startAdhocCompilation(this.module,t,i,n);if(0==(o=o.concat(y)).length){var m=this.module.mainProgram.statements,v=!0,g=!1,b=void 0;try{for(var w,k=m[Symbol.iterator]();!(v=(w=k.next()).done);v=!0)w.value.stepFinished=!1}catch(e){g=!0,b=e}finally{try{v||null==k.return||k.return()}finally{if(g)throw b}}m.length>0&&m[m.length-1].type==s.programEnd&&m.splice(m.length-1,1)}var S=performance.now()-r;return S=Math.round(100*S)/100,{program:this.module.mainProgram,errors:o,symbolTable:i}}}])&&sc(t.prototype,n),i&&sc(t,i),e}();function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var dc=function(){function e(t,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;uc(this,e),this.withBottomBorder=o,this.color=a,this.isOpen=!1,this.caption=t,this.parent=r,null!=r&&r.children.push(this),this.value=n,this.identifier=i,this.render()}var t,n,i;return t=e,(n=[{key:"getLevel",value:function(){return null==this.parent?0:this.parent.getLevel()+1}},{key:"getIndent",value:function(){return 0==this.getLevel()?0:15}},{key:"render",value:function(){var e=this;this.$consoleEntry=jQuery("<div>"),this.$consoleEntry.addClass("jo_consoleEntry"),this.$consoleEntry.css("margin-left",this.getIndent()+"px"),null!=this.color&&this.$consoleEntry.css("background-color",this.color),this.withBottomBorder&&this.$consoleEntry.addClass("jo_withBorder");var t=jQuery('<div class="jo_ceFirstline"></div>');this.$consoleEntry.append(t),null!=this.value&&null!=this.value.type&&(this.value.type instanceof jt||this.value.type instanceof Z&&!(this.value.type instanceof $t)&&this.value.type!=pt||this.value.type instanceof X)?(this.canOpen=!0,this.$consoleEntry.addClass("jo_canOpen"),this.$consoleEntry.append(jQuery('<div class="jo_ceChildContainer"></div>')),this.$consoleEntry.find(".jo_ceFirstline").on("mousedown",(function(t){null!=e.value&&null!=e.value.value?(null==e.children&&e.onFirstOpening(),e.$consoleEntry.toggleClass("jo_expanded"),e.isOpen=!e.isOpen):e.children=null,t.stopPropagation()}))):null==this.caption&&0==this.getLevel()&&this.$consoleEntry.addClass("jo_cannotOpen"),this.renderValue()}},{key:"onFirstOpening",value:function(){this.children=[];var t=this.value.type;if(t instanceof Z){var n=!0,i=!1,r=void 0;try{for(var o,a=this.value.type.getAttributes(I.private)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=new e(null,this.value.value.getValue(s.identifier),s.identifier,this,!1);l.render(),this.$consoleEntry.find(".jo_ceChildContainer").append(l.$consoleEntry)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}else if(t instanceof jt)for(var u=this.value.value,c=this.$consoleEntry.find(".jo_ceChildContainer"),d=0;d<u.length&&d<100;d++){var h=new e(null,u[d],"["+d+"]",this,!1);h.render(),c.append(h.$consoleEntry)}else if(t instanceof q){var p=this.$consoleEntry.find(".jo_ceChildContainer"),f=!0,y=!1,m=void 0;try{for(var v,g=t.getAttributes(I.private)[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value,w=new e(null,t.classObject.getValue(b.identifier),b.identifier,this,!1);w.render(),p.append(w.$consoleEntry)}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}else if(t instanceof X)if(null!=this.value.value&&this.value.value instanceof A){var k=this.$consoleEntry.find(".jo_ceChildContainer"),S=this.value.value,P=!0,x=!1,C=void 0;try{for(var T,M=S.class.getAttributes(I.private)[Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var j=T.value,E=new e(null,S.getValue(j.identifier),j.identifier,this,!1);E.render(),k.append(E.$consoleEntry)}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}}else this.children}},{key:"renderValue",value:function(){var e=this.$consoleEntry.find(".jo_ceFirstline"),t=this.value;if(null!=t){var n="";n=null==t.value?"null":t.type.debugOutput(t,400),null!=this.identifier&&e.append(jQuery('<span class="jo_ceIdentifier">'+this.identifier+":&nbsp;</span>")),e.append(jQuery('<span class="jo_ceValue">'+n+"</span>"))}else if(null!=this.caption)if("string"==typeof this.caption)e.append(jQuery('<span class="jo_ceCaption">'+this.caption+"</span>"));else{var i=jQuery('<span class="jo_ceCaption"></span>');i.append(this.caption),e.append(i)}else e.append(jQuery('<span class="jo_ceNoValue">Kein Wert zurÃ¼ckgegeben.</span>'))}},{key:"detachValue",value:function(){this.value=void 0,this.$consoleEntry.removeClass("jo_canOpen"),0==this.getLevel()&&null==this.caption&&this.$consoleEntry.addClass("jo_cannotOpen")}}])&&cc(t.prototype,n),i&&cc(t,i),e}();function hc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.history=[],this.historyPos=0,this.isDirty=!1,this.readyToExecute=!1,this.consoleEntries=[],this.errorDecoration=[],null!=n&&(this.$consoleTabHeading=n.find(".jo_tabheadings>.jo_console-tab"),this.$consoleTab=n.find(".jo_tabs>.jo_consoleTab"))}var t,n,i;return t=e,(n=[{key:"initConsoleClearButton",value:function(){var e=this,t=this.$consoleTabHeading.parent().find(".jo_console-clear");this.$consoleTab.on("myshow",(function(){t.show(),e.editor.layout()})),this.$consoleTab.on("myhide",(function(){t.hide()})),t.on("mousedown",(function(t){t.stopPropagation(),e.clear()}))}},{key:"initGUI",value:function(){var e=this;if(null!=this.$bottomDiv){this.initConsoleClearButton();var t=this.$consoleTab.find(".jo_commandline");this.editor=monaco.editor.create(t[0],{value:[""].join("\n"),automaticLayout:!1,renderLineHighlight:"none",renderIndentGuides:!1,overviewRulerLanes:0,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,fixedOverflowWidgets:!0,language:"myJava",fontSize:14,fontFamily:"Roboto Mono",fontWeight:"500",roundedSelection:!0,occurrencesHighlight:!1,suggest:{localityBonus:!0,snippetsPreventQuickSuggestions:!1},minimap:{enabled:!1},scrollbar:{vertical:"hidden",horizontal:"hidden"},theme:"myCustomThemeDark"}),this.editor.layout();var n=this;this.editor.addCommand(monaco.KeyCode.Enter,(function(){if(n.compileIfDirty(),n.readyToExecute){var e=n.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1);if(""==e)return;n.history.push(e),n.historyPos=0,n.execute(),n.editor.setValue("")}}),"!suggestWidgetVisible"),this.editor.addCommand(monaco.KeyCode.UpArrow,(function(){var e=n.history.length-(n.historyPos+1);if(e>=0){n.historyPos++;var t=n.history[e];n.editor.setValue(t),n.editor.setPosition({lineNumber:1,column:t.length+1})}}),"!suggestWidgetVisible"),this.editor.addCommand(monaco.KeyCode.DownArrow,(function(){var e=n.history.length-(n.historyPos-1);if(e<=n.history.length-1){n.historyPos--;var t=n.history[e];n.editor.setValue(t),n.editor.setPosition({lineNumber:1,column:t.length+1})}else n.editor.setValue(""),n.historyPos=0}),"!suggestWidgetVisible"),this.compiler=new lc(this.main);var i=this.editor.getModel(),r=0;i.onDidChangeContent((function(){var e=i.getAlternativeVersionId();e!=r&&(n.isDirty=!0,r=e)})),this.startTimer(),this.$consoleTabHeading.on("mousedown",(function(){Zi.showHelper("consoleHelper",e.main),setTimeout((function(){n.editor.focus()}),500)}))}}},{key:"startTimer",value:function(){this.stopTimer();var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"stopTimer",value:function(){null!=this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}},{key:"compileIfDirty",value:function(){if(this.isDirty){var e=this.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1),t=this.main.getCurrentWorkspace().moduleStore,n=this.main.getDebugger().lastSymboltable,i=this.main.getInterpreter().heap;if(e.length>0&&null!=t){var r=this.compiler.compile(e,t,i,n);this.readyToExecute=0==r.errors.length,this.showErrors(r.errors),this.isDirty=!1}else this.showErrors([])}}},{key:"showErrors",value:function(e){var t=[],n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push({startLineNumber:s.position.line,startColumn:s.position.column,endLineNumber:s.position.line,endColumn:s.position.column+s.position.length,message:s.text,severity:monaco.MarkerSeverity.Error})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}monaco.editor.setModelMarkers(this.editor.getModel(),"Fehler",t)}},{key:"execute",value:function(){var e=this,t=this.main.getInterpreter(),n=this.compiler.module,i=this.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1),r=n.mainProgram;monaco.editor.colorize(i,"myJava",{tabSize:3}).then((function(n){e.executeRapidly(t,r,n)}))}},{key:"programHasMethodCalls",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.statements[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.type==s.callMethod&&null==a.method.invoke)return!0}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return!1}},{key:"executeInStepMode",value:function(e,t,n){var i=this;e.pushCurrentProgram(),e.currentProgram=t,e.currentProgramPosition=0;var r=e.stack.length,o=e.state;e.setState(Xi.paused),e.start((function(){var t;if(e.stack.length>r)for(t=e.stack.pop();e.stack.length>r;)e.stack.pop();i.writeConsoleEntry(n,t),e.setState(o),o==Xi.paused&&e.showProgramPointerAndVariables()}))}},{key:"executeRapidly",value:function(e,t,n){var i=e.evaluate(t);if(null==i.error)this.writeConsoleEntry(n,i.value);else{var r=jQuery("<div><div>"+n+"</div></div>");r.append(jQuery('<div class="jo_console-error"> '+i.error+"</div>")),this.writeConsoleEntry(r,null)}}},{key:"showTab",value:function(){this.$consoleTabHeading.trigger("mousedown")}},{key:"writeConsoleEntry",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.$consoleTab.find(".jo_console-top"),r=new dc(e,null,null,null,null==t,n);if(this.consoleEntries.push(r),i.append(r.$consoleEntry),null!=t){var o=new dc(null,t,null,null,!0,n);this.consoleEntries.push(o),i.append(o.$consoleEntry)}var a=i[0].scrollHeight;i.scrollTop(a)}},{key:"clear",value:function(){this.$consoleTab.find(".jo_console-top").children().remove(),this.consoleEntries=[]}},{key:"detachValues",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.consoleEntries[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.detachValue()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"showError",value:function(e,t){var n,i,r;this.main instanceof mh&&(null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.name)!=(null===(r=null===(i=this.main.projectExplorer.getCurrentlyEditedModule())||void 0===i?void 0:i.file)||void 0===r?void 0:r.name)&&(this.main.editor.dontDetectLastChange(),this.main.projectExplorer.setModuleActive(e));var o={startColumn:t.column,startLineNumber:t.line,endColumn:t.column+t.length,endLineNumber:t.line};this.main.getMonacoEditor().revealRangeInCenter(o),this.errorDecoration=this.main.getMonacoEditor().deltaDecorations(this.errorDecoration,[{range:o,options:{className:"jo_revealError"}},{range:o,options:{className:"jo_revealErrorWholeLine",isWholeLine:!0}}])}},{key:"clearErrors",value:function(){this.errorDecoration=this.main.getMonacoEditor().deltaDecorations(this.errorDecoration,[])}},{key:"clearExceptions",value:function(){null!=this.$bottomDiv&&this.$consoleTab.find(".jo_console-top").find(".jo_exception").parents(".jo_consoleEntry").remove()}}])&&hc(t.prototype,n),i&&hc(t,i),e}();function fc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var yc=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$mainDiv=i,this.oldDecorations=[],this.oldErrorDecorations=[],this.minimapColor={},this.lightBulbOnClickFunctionList=[],this.minimapColor.error="#bc1616",this.minimapColor.warning="#cca700",this.minimapColor.info="#75beff",this.$bracket_warning=i.find(".jo_parenthesis_warning"),this.$bracket_warning.attr("title","Klammeralarm!"),this.$bracket_warning.children().attr("title","Klammeralarm!");var r=this;i.find(".jo_pw_undo").on("click",(function(){r.main.getMonacoEditor().trigger(".","undo",{})})).attr("title","Undo")}var t,n,i;return t=e,(n=[{key:"showParenthesisWarning",value:function(e){null!=e?(this.$bracket_warning.css("visibility","visible"),this.$bracket_warning.find(".jo_pw_heading").text(e)):this.$bracket_warning.css("visibility","hidden")}},{key:"showErrors",value:function(e){var t=this;this.lightBulbOnClickFunctionList=[];var n=new Map;this.$errorDiv=this.$bottomDiv.find(".jo_tabs>.jo_errorsTab"),this.$errorDiv.empty();var i=!1,r=e.moduleStore,o=this.main.getMonacoEditor(),a=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value,r=[],a=[],s=[],l=e.getSortedAndFilteredErrors();n.set(e,e.getErrorCount());var c=!0,d=!1,h=void 0;try{for(var p,f=l[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,m=void 0,v=void 0,g=t.minimapColor[y.level];switch(y.level){case"error":m="jo_revealErrorLine",v="jo_borderLeftError";break;case"warning":m="jo_revealWarningLine",v="jo_borderLeftWarning";break;case"info":m="jo_revealInfoLine",v="jo_borderLeftInfo"}null!=y.quickFix&&function(){var n=y.quickFix,i="lb_"+Math.trunc(1e6*Math.random());m="jo_yellowLightBulb "+v+" "+i,t.lightBulbOnClickFunctionList.push({class:"."+i,onClickFunction:function(){var t=n.editsProvider(e.model.uri);o.executeEdits("",t.map((function(e){var t=e.edit.range;return{range:new monaco.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),text:e.edit.text,forceMoveMarkers:!0}})))},title:n.title})}(),t.processError(y,e,s);var b=void 0;switch(y.level){case"error":b=monaco.MarkerSeverity.Error;break;case"warning":b=monaco.MarkerSeverity.Warning;break;case"info":b=monaco.MarkerSeverity.Info}r.push({startLineNumber:y.position.line,startColumn:y.position.column,endLineNumber:y.position.line,endColumn:y.position.column+y.position.length,message:y.text,severity:b,relatedInformation:y.quickFix}),a.push({range:{startLineNumber:y.position.line,startColumn:y.position.column,endLineNumber:y.position.line,endColumn:y.position.column+y.position.length},options:{linesDecorationsClassName:m,minimap:{position:monaco.editor.MinimapPosition.Inline,color:g}}})}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}if(monaco.editor.setModelMarkers(e.model,"test",r),e.oldErrorDecorations=e.model.deltaDecorations(e.oldErrorDecorations,a),t.oldDecorations=t.main.getMonacoEditor().deltaDecorations(t.oldDecorations,[]),s.length>0&&t.$errorDiv.length>0){i=!0;var w=jQuery('<div class="jo_error-filename">'+e.file.name+"&nbsp;</div>");t.$errorDiv.append(w);var k=!0,S=!1,P=void 0;try{for(var x,C=s[Symbol.iterator]();!(k=(x=C.next()).done);k=!0){var T=x.value;t.$errorDiv.append(T)}}catch(e){S=!0,P=e}finally{try{k||null==C.return||C.return()}finally{if(S)throw P}}}},d=r.getModules(!1)[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)c()}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return!i&&this.$errorDiv.length>0&&this.$errorDiv.append(jQuery('<div class="jo_noErrorMessage">Keine Fehler gefunden :-)</div>')),this.registerLightbulbOnClickFunctions(),n}},{key:"registerLightbulbOnClickFunctions",value:function(){var e=this;setTimeout((function(){var t=!0,n=!1,i=void 0;try{for(var r,o=e.lightBulbOnClickFunctionList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;jQuery(a.class).off("click",a.onClickFunction),jQuery(a.class).on("click",a.onClickFunction).attr("title",a.title)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}),500)}},{key:"processError",value:function(e,t,n){var i=this,r=jQuery('<div class="jo_error-line"></div>'),o=jQuery('<span class="jo_error-position">[Z&nbsp;<span class="jo_linecolumn">'+e.position.line+'</span> Sp&nbsp;<span class="jo_linecolumn">'+e.position.column+"</span>]</span>:&nbsp;"),a="";switch(e.level){case"error":break;case"warning":a='<span class="jo_warning_category">Warnung: </span>';break;case"info":a='<span class="jo_info_category">Info: </span>'}var s=jQuery('<div class="jo_error-text">'+a+e.text+"</div>");r.append(o).append(s);var l=this;r.on("mousedown",(function(n){i.$errorDiv.find(".jo_error-line").removeClass("jo_active"),r.addClass("jo_active"),l.showError(t,e)})),n.push(r)}},{key:"showError",value:function(e,t){this.main instanceof mh&&e!=this.main.projectExplorer.getCurrentlyEditedModule()&&(this.main.editor.dontDetectLastChange(),this.main.projectExplorer.setModuleActive(e));var n=t.position,i={startColumn:n.column,startLineNumber:n.line,endColumn:n.column+n.length,endLineNumber:n.line};this.main.getMonacoEditor().revealRangeInCenter(i);var r="";switch(t.level){case"error":r="jo_revealError";break;case"warning":r="jo_revealWarning";break;case"info":r="jo_revealInfo"}this.oldDecorations=this.main.getMonacoEditor().deltaDecorations(this.oldDecorations,[{range:i,options:{className:r}}])}}])&&fc(t.prototype,n),i&&fc(t,i),e}();function mc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var vc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.showRevisionActive=!1,this.$homeworkTab=n.find(".jo_tabs>.jo_homeworkTab")}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this;this.$homeworkTab.append(this.$homeworkTabLeft=Hu("","jo_homeworkTabLeft jo_scrollable")),this.$homeworkTab.append(this.$homeworkTabRight=Hu("","jo_homeworkTabRight jo_scrollable")),jQuery("#view-mode").prepend(this.$showRevisionButton=Hu("","jo_button jo_active jo_homeworkRevisionButton","")),this.$showRevisionButton.on("click",(function(){e.showRevisionActive?e.hideRevision():e.showRevision(t.main.getCurrentlyEditedModule())})),this.$showRevisionButton.hide(),jQuery("#diffEditor").hide()}},{key:"showHomeWorkRevisionButton",value:function(){this.$showRevisionButton.text(this.showRevisionActive?"Normalansicht":"Korrekturen zeigen"),this.$showRevisionButton.show()}},{key:"hideHomeworkRevisionButton",value:function(){this.$showRevisionButton.hide()}},{key:"showRevision",value:function(e){e.file.text=e.getProgramTextFromMonacoModel();var t=e.file;jQuery("#editor").hide(),jQuery("#diffEditor").show();var n=monaco.editor.createModel(t.text_before_revision,"myJava"),i=monaco.editor.createModel(t.text,"myJava");this.diffEditor=monaco.editor.createDiffEditor(document.getElementById("diffEditor"),{enableSplitViewResizing:!0,originalEditable:!1,readOnly:!0,renderSideBySide:!0}),this.diffEditor.setModel({original:n,modified:i}),this.showRevisionActive=!0,this.showHomeWorkRevisionButton()}},{key:"hideRevision",value:function(){this.showRevisionActive&&(jQuery("#diffEditor").hide(),this.diffEditor.dispose(),this.diffEditor=null,jQuery("#editor").show(),this.showRevisionActive=!1,this.showHomeWorkRevisionButton())}},{key:"attachToWorkspaces",value:function(e){var t=this,n=[],i={};e.forEach((function(e){e.moduleStore.getModules(!1).forEach((function(t){var r,o=t.file.submitted_date;if(null!=o){var a=(r=o.match(/^(\d{2})\.(\d{2})\.(\d{4}), (\d{2}):(\d{2})$/),new Date(Number.parseInt(r[3]),Number.parseInt(r[2]),Number.parseInt(r[1]),Number.parseInt(r[4]),Number.parseInt(r[5]))),s=function(e){return"".concat(Bu(e.getDate()),".").concat(Bu(e.getMonth()),".").concat(e.getFullYear())}(a),l=i[s];null==l&&(l={date:a,day:s,modules:[]},i[s]=l,n.push(l)),l.modules.push({module:t,workspace:e})}}))})),this.$homeworkTabLeft.empty(),this.$homeworkTabRight.empty();var r=this;this.$homeworkTabLeft.append(Hu("","jo_homeworkHeading","Abgabetage:")),n.sort((function(e,t){return e.date.getFullYear()!=t.date.getFullYear()?-Math.sign(e.date.getFullYear()-t.date.getFullYear()):e.date.getMonth()!=t.date.getMonth()?-Math.sign(e.date.getMonth()-t.date.getMonth()):e.date.getDate()!=t.date.getDate()?-Math.sign(e.date.getDate()-t.date.getDate()):0}));var o=!0;n.forEach((function(e){e.modules.sort((function(e,t){return e.module.file.name.localeCompare(t.module.file.name)}));var n=Hu("","jo_homeworkDate",e.day);t.$homeworkTabLeft.append(n),n.on("click",(function(i){t.$homeworkTabLeft.find(".jo_homeworkDate").removeClass("active"),n.addClass("jo_active"),r.select(e)})),o&&(o=!1,n.addClass("jo_active"),r.select(e))}))}},{key:"select",value:function(e){this.$homeworkTabRight.empty(),this.$homeworkTabRight.append(Hu("","jo_homeworkHeading","Abgegebene Dateien:"));var t=this;e.modules.forEach((function(e){var n=jQuery('<div class="jo_homeworkEntry">Workspace <span class="jo_homework-workspace">\n                    '.concat(e.workspace.name,'</span>, Datei <span class="jo_homework-file">\n                    ').concat(e.module.file.name,"</span> (Abgabe: ").concat(e.module.file.submitted_date," )</div>"));t.$homeworkTabRight.append(n),n.on("click",(function(){t.main.projectExplorer.setWorkspaceActive(e.workspace),t.main.projectExplorer.setModuleActive(e.module),t.main.projectExplorer.fileListPanel.select(e.module,!1)}))}))}}])&&mc(t.prototype,n),i&&mc(t,i),e}();function gc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var bc=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$mainDiv=i,this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab").length>0&&(this.programPrinter=new ac(t,n)),this.$bottomDiv.find(".jo_tabheadings>.jo_console-tab").length>0?this.console=new pc(t,n):this.console=new pc(t,null),this.$bottomDiv.find(".jo_tabheadings>.jo_homeworkTabheading").length>0&&(this.homeworkManager=new vc(t,n)),this.errorManager=new yc(t,n,i)}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){Nu(this.$bottomDiv),null!=this.programPrinter&&this.programPrinter.initGUI(),null!=this.console&&this.console.initGUI(),null!=this.homeworkManager&&this.homeworkManager.initGUI(),this.$bottomDiv.find(".jo_tabs").children().first().trigger("click");var e=this;jQuery(".jo_pcodeTab").on("myshow",(function(){e.printCurrentlyExecutedModule()}))}},{key:"printCurrentlyExecutedModule",value:function(){var e,t=this.main.getInterpreter();if(t.state==Xi.running||t.state==Xi.paused){var n=null===(e=t.currentProgram)||void 0===e?void 0:e.module;this.printModuleToBottomDiv(null,n)}}},{key:"printModuleToBottomDiv",value:function(e,t){null!=this.programPrinter&&this.programPrinter.printModuleToBottomDiv(e,t)}},{key:"showHomeworkTab",value:function(){jQuery(".jo_homeworkTabheading").css("visibility","visible"),jQuery(".jo_homeworkTabheading").trigger("mousedown")}},{key:"hideHomeworkTab",value:function(){jQuery(".jo_homeworkTabheading").css("visibility","hidden"),jQuery(".jo_tabheadings").children().first().trigger("mousedown")}}])&&gc(t.prototype,n),i&&gc(t,i),e}();function wc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var kc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.triggerCharacters=[".","abcdefghijklmnopqrstuvwxyzÃ¤Ã¶Ã¼Ã_ABCDEFGHIJKLMNOPQRSTUVWXYZÃÃÃ"," "],this.first=!0}var t,n,i;return t=e,(n=[{key:"provideCompletionItems",value:function(e,t,n,i){var r,o,a,s,l,u,c,d=this;setTimeout((function(){var e=d.main.getMonacoEditor()._contentWidgets["editor.widget.suggestWidget"].widget;d.first&&(e.toggleDetails(),d.first=!1)}),300);var h=null===(a=null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.editor)||void 0===a?void 0:a.getModel();this.isConsole=e==h;var p=e==this.main.getMonacoEditor().getModel();if(this.isConsole||p){var f=this.isConsole?null===(l=null===(s=this.main.getBottomDiv())||void 0===s?void 0:s.console)||void 0===l?void 0:l.compiler.module:this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==f)return null;if(this.isStringLiteral(f,t))return null;var y=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),m=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber+5,endColumn:1});if(" "==n.triggerCharacter){if(null!=y.match(/.*(new )$/))return this.getCompletionItemsAfterNew(f);if(null!=y.match(/.*(class )[\wÃ¶Ã¤Ã¼ÃÃÃÃ<> ,]*[\wÃ¶Ã¤Ã¼ÃÃÃÃ<> ] $/)){for(var v=0,g=0,b=y.lastIndexOf("class");b<y.length;b++)switch(y.charAt(b)){case"<":v++;break;case">":g++}return this.getCompletionItemsAfterClass(f,v>g,m)}return null}var w=m.match(/^([\wÃ¶Ã¤Ã¼ÃÃÃÃ]*\(?)/),k="";null!=w&&w.length>0&&(k=w[0]);var S=k.endsWith("("),P=y.match(/.*(\.)([\wÃ¶Ã¤Ã¼ÃÃÃÃ]*)$/);null!=P&&(this.isConsole?null===(c=null===(u=this.main.getBottomDiv())||void 0===u?void 0:u.console)||void 0===c||c.compileIfDirty():this.main.compileIfDirty());var x=this.isConsole?this.main.getDebugger().lastSymboltable:f.findSymbolTableAtPosition(t.lineNumber,t.column),C=null==x?null:x.classContext;if(null!=P)return this.getCompletionItemsAfterDot(P,t,f,k,C,S);var T=y.match(/.*[^\wÃ¶Ã¤Ã¼ÃÃÃÃ]([\wÃ¶Ã¤Ã¼ÃÃÃÃ]*)$/);return null==T&&(T=y.match(/^([\wÃ¶Ã¤Ã¼ÃÃÃÃ]*)$/)),null!=T?this.getCompletionItemsInsideIdentifier(T,t,f,k,C,S,x):void 0}}},{key:"isStringLiteral",value:function(e,t){var n=e.tokenList;if(null==n||0==n.length)return!1;for(var i,r=0,o=n.length-1,a=1e3;;){if(i==(i=Math.round((o+r)/2)))return!1;if(0==--a)return!1;var l=n[i],u=l.position;if(u.line<t.lineNumber||u.line==t.lineNumber&&u.column+u.length<t.column)r=i;else{if(!(u.line>t.lineNumber||u.line==t.lineNumber&&u.column>t.column))return l.tt==s.stringConstant;o=i}}}},{key:"getCompletionItemsAfterNew",value:function(e){var t=[];t=t.concat(this.main.getCurrentWorkspace().moduleStore.getTypeCompletionItems(e,void 0));for(var n=0;n<t.length;n++){var i=t[n];i.detail.match("Primitiv")?(t.splice(n,1),n--):(i.generic?i.insertText+="<>($0)":i.insertText+="($0)",i.insertTextRules=monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,i.command={id:"editor.action.triggerParameterHints",title:"123",arguments:[]})}return Promise.resolve({suggestions:t})}},{key:"getCompletionItemsAfterClass",value:function(e,t,n){var i=[],r=n.trimLeft().startsWith("{");return i=i.concat([{label:"extends",insertText:"extends $1"+(t||r?"":" {\n\t$0\n}"),detail:"extends-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}},{label:"implements",insertText:"implements $1"+(t||r?"":" {\n\t$0\n}"),detail:"implements-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}},{label:"{}",insertText:"{\n\t$0\n}",detail:"Klassenrumpf",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}]),Promise.resolve({suggestions:i})}},{key:"getCompletionItemsInsideIdentifier",value:function(e,t,n,i,r,o,a){var s,l=e[1],u={startLineNumber:t.lineNumber,startColumn:t.column-l.length,endLineNumber:t.lineNumber,endColumn:t.column+i.length},c=[];if(null!=(null==a?void 0:a.classContext)&&null==(null==a?void 0:a.method)&&a.classContext instanceof Z&&(c=c.concat(this.getOverridableMethodsCompletion(a.classContext))),null!=a&&(c=c.concat(a.getLocalVariableCompletionItems(u).map((function(e){return e.sortText="aaa"+e.label,e})))),c=c.concat(this.main.getCurrentWorkspace().moduleStore.getTypeCompletionItems(n,u)),null!=r&&null!=(null==a?void 0:a.method))c=c.concat(r.getCompletionItems(I.private,o,i,u).map((function(e){return e.sortText="aa"+e.label,e})));else{var d=null===(s=n.file)||void 0===s?void 0:s.name;if(null!=d){d.endsWith(".java")&&(d=d.substr(0,d.indexOf(".java")));var h=d.match(/([\wÃ¶Ã¤Ã¼ÃÃÃÃ]*)$/);0==n.classDefinitionsAST.length&&null!=h&&h.length>0&&h[0]==d&&d.length>0&&(d=d.charAt(0).toUpperCase()+d.substring(1),c.push({label:"class "+d,filterText:"class",insertText:"class ${1:"+d+"} {\n\t$0\n}\n",detail:"Definition der Klasse "+d,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}))}}return c=c.concat(this.getKeywordCompletion(a)),Promise.resolve({suggestions:c})}},{key:"getCompletionItemsAfterDot",value:function(e,t,n,i,r,o){var a=e[2],s=t.column-a.length-1,l=n.getTypeAtPosition(t.lineNumber,s),u={startLineNumber:t.lineNumber,startColumn:t.column-a.length,endLineNumber:t.lineNumber,endColumn:t.column+i.length};if(null==l)return null;var c=l.type,d=l.isStatic;if(c instanceof Z){var h=Y(c,r);return d?Promise.resolve({suggestions:c.staticClass.getCompletionItems(h,o,i,u)}):Promise.resolve({suggestions:c.getCompletionItems(h,o,i,u)})}return c instanceof X?Promise.resolve({suggestions:c.getCompletionItems(o,i,u)}):c instanceof jt?Promise.resolve({suggestions:[{label:"length",filterText:"length",kind:monaco.languages.CompletionItemKind.Field,insertText:"length",range:u,documentation:{value:"Anzahl der Elemente des Arrays"}}]}):null}},{key:"getKeywordCompletion",value:function(e){var t=[];return this.isConsole||null!=(null==e?void 0:e.classContext)&&null==(null==e?void 0:e.method)||(t=t.concat([{label:"while(Bedingung){Anweisungen}",detail:"while-Wiederholung",filterText:"while",insertText:"while($1){\n\t$0\n}",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"for(){}",insertText:"for( $1 ; $2 ; $3 ){\n\t$0\n}",detail:"for-Wiederholung",filterText:"for",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"for(int i = 0; i < 10; i++){}",insertText:"for(int ${1:i} = 0; ${1:i} < ${2:10}; ${1:i}++){\n\t$0\n}",detail:"ZÃ¤hl-Wiederholung",filterText:"for",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"switch(){case...}",insertText:"switch($1){\n\tcase $2:\n\t\t $3\n\t\tbreak;\n\tcase $4:\n\t\t $5\n\t\tbreak;\n\tdefault:\n\t\t $0\n}",detail:"switch-Anweisung",filterText:"switch",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"if(){}",insertText:"if($1){\n\t$0\n}",detail:"Bedingung",filterText:"if",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"if(){} else {}",insertText:"if($1){\n\t$2\n}\nelse {\n\t$0\n}",detail:"Zweiseitige Bedingung",filterText:"if",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),null!=(null==e?void 0:e.classContext)&&null==(null==e?void 0:e.method)||(t=t.concat([{label:"instanceof",insertText:"instanceof $0",detail:"instanceof-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"print",insertText:"print($0);",detail:"Ausgabe (ggf. mit Farbe \nals zweitem Parameter)",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"println",insertText:"println($0);",detail:"Ausgabe mit Zeilenumbruch (ggf. mit \nFarbe als zweitem Parameter)",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),this.isConsole||null!=e&&null!=e.classContext?this.isConsole||null!=(null==e?void 0:e.method)||(t=t.concat([{label:"public",filterText:"public",insertText:"public ",detail:"SchlÃ¼sselwort public",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"public void method(){}",filterText:"public",insertText:"public ${1:void} ${2:Bezeichner}(${3:Parameter}) {\n\t$0\n}\n",detail:"Methodendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"protected",filterText:"protected",insertText:"protected ",detail:"SchlÃ¼sselwort protected",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"static",filterText:"static",insertText:"static ",detail:"SchlÃ¼sselwort static",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"private",filterText:"private",insertText:"private ",detail:"SchlÃ¼sselwort private",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])):t=t.concat([{label:"class",filterText:"class",insertText:"class ${1:Bezeichner} {\n\t$0\n}\n",detail:"Klassendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"public class",filterText:"public class",insertText:"public class ${1:Bezeichner} {\n\t$0\n}\n",detail:"Ãffentliche Klassendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}]),null!=e&&null!=e.method&&(t=t.concat([{label:"return",filterText:"return",insertText:"return",detail:"SchlÃ¼sselwort return",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),t}},{key:"getOverridableMethodsCompletion",value:function(e){for(var t=[],n=[],i=e.baseClass;null!=i;)n=n.concat(i.methods.filter((function(e){return!!(e.isAbstract||null==e.program&&null==e.invoke)}))),i=i.baseClass;var r=!0,o=!1,a=void 0;try{for(var s,l=e.implements[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;n=n.concat(u.getMethods())}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var c=!0,d=!1,h=void 0;try{for(var p,f=n[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,m=!1,v=!0,g=!1,b=void 0;try{for(var w,k=e.methods[Symbol.iterator]();!(v=(w=k.next()).done);v=!0)if(w.value.signature==y.signature){m=!0;break}}catch(e){g=!0,b=e}finally{try{v||null==k.return||k.return()}finally{if(g)throw b}}if(!m){var S=(y.isAbstract?"implement ":"override ")+y.getCompletionLabel(),P=y.identifier,x=I[y.visibility]+" "+(null==y.getReturnType()?"void":y.getReturnType().identifier)+" ";x+=y.identifier+"(";for(var C=0;C<y.getParameterList().parameters.length;C++){var T=y.getParameterList().parameters[C];x+=y.getParameterType(C).identifier+" "+T.identifier,C<y.getParameterCount()-1&&(x+=", ")}x+=") {\n\t$0\n}",t.push({label:S,detail:(y.isAbstract?"Implementiere ":"Ãberschreibe ")+"die Methode "+S+" der Basisklasse.",filterText:P,insertText:x,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0})}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return t}}])&&wc(t.prototype,n),i&&wc(t,i),e}();function Sc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof Z){if(e.isTypeVariable)return Pc(e);var i="";if(null!=e.documentation&&""!=e.documentation&&(e.documentation.startsWith("/*")?i+=(t+e.documentation).replace(/\n/g,"\n"+t)+"\n":i+=Wu(e.documentation,t)+"\n"),null!=e.visibility&&(i+=I[e.visibility]+" "),e.isAbstract&&(i+="abstract "),i+="class "+e.identifier+" ",e.typeVariables.length>0&&(i+=Cc(e)),null!=e.baseClass&&"Object"!=e.baseClass.identifier&&(i+="extends "+e.baseClass.identifier+" ",e.baseClass.typeVariables.length>0&&(i+=Cc(e.baseClass))),null!=e.implements&&e.implements.length>0){i+="implements ";for(var r=0;r<e.implements.length;r++)i+=e.implements[r].identifier,e.implements[r].typeVariables.length>0&&(i+=Cc(e.implements[r])),r<e.implements.length-1&&(i+=", ")}if(n)return i;i+=t+"{\n  ";var o=!0,a=!1,s=void 0;try{for(var l,u=e.getAttributes(I.protected)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i+=t+"\n"+Sc(c,"  ")+";\n"}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}if(null!=e.staticClass){var d=!0,h=!1,p=void 0;try{for(var f,y=e.staticClass.getAttributes(I.protected)[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var m=f.value;i+=t+"\n"+Sc(m,"  ")+";\n"}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}var v=!0,g=!1,b=void 0;try{for(var w,k=e.getMethods(I.protected)[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var S=w.value;i+=t+"\n"+Sc(S,"  ")+";\n"}}catch(e){g=!0,b=e}finally{try{v||null==k.return||k.return()}finally{if(g)throw b}}if(null!=e.staticClass){var P=!0,x=!1,C=void 0;try{for(var T,M=e.staticClass.getMethods(I.protected)[Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var O=T.value;i+=t+"\n"+Sc(O,"  ")+";\n"}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}}return i+="\n}"}if(e instanceof X){var D="";if(null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?D+=(t+e.documentation).replace(/\n/g,"\n"+t)+"\n":D+=Wu(e.documentation,t)+"\n"),D+=t+"interface "+e.identifier,e.typeVariables.length>0&&(D+=Cc(e)),null!=e.extends&&e.extends.length>0){D+="extends ";for(var _=0;_<e.extends.length;_++)D+=e.extends[_].identifier,e.extends[_].typeVariables.length>0&&(D+=Cc(e.extends[_])),_<e.extends.length-1&&(D+=", ")}if(!n){D+="{\n";var A=!0,F=!1,z=void 0;try{for(var L,B=e.getMethods()[Symbol.iterator]();!(A=(L=B.next()).done);A=!0){var R=L.value;D+=t+"\n"+Sc(R,"  ")+";\n"}}catch(e){F=!0,z=e}finally{try{A||null==B.return||B.return()}finally{if(F)throw z}}D+="\n}"}return D}if(e instanceof j){var W="";return null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?W+=t+e.documentation.replace(/\n/g,"\n"+t)+"\n":W+=Wu(e.documentation,t)+"\n"),W+=t,null!=e.visibility&&(W+=I[e.visibility]+" "),e.isStatic&&(W+="static "),W+=xc(e.type)+" "+e.identifier}if(e instanceof E){var $="";null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?$+=t+e.documentation.replace(/\n/g,"\n"+t)+"\n":$+=Wu(e.documentation,t)+"\n"),$+=t,null!=e.visibility&&($+=I[e.visibility]+" "),e.isStatic&&($+="static "),null!=e.getReturnType()?$+=xc(e.getReturnType())+" ":$+=e.isConstructor?"":"void ",$+=e.identifier+"(";for(var V=e.getParameterList().parameters,N=0;N<V.length;N++){var G=V[N],H=e.getParameterType(N);G.isEllipsis&&(H=H.arrayOfType),$+=xc(H)+(G.isEllipsis?"...":"")+" "+G.identifier,N<V.length-1&&($+=", ")}return $+=")"}return""}function Pc(e){var t=e.identifier;if(e.isGenericVariantFrom!=ht&&(t+=" extends "+xc(e.isGenericVariantFrom)),e.implements.length>0){var n=e.implements.filter((function(t){return e.isGenericVariantFrom.implements.indexOf(t)<0})).map((function(e){return xc(e)})).join(", ");""!=n&&(t+=" implements "+n)}return t}function xc(e){var t,n;if((e instanceof Z||e instanceof X)&&e.typeVariables.length>0){var i=(e.isTypeVariable?e.identifier+" extends "+(null===(t=e.isGenericVariantFrom)||void 0===t?void 0:t.identifier):e.identifier)+"<";return(i+=e.typeVariables.map((function(e){return xc(e.type)})).join(", "))+">"}return e.isTypeVariable?e.identifier+" extends "+(null===(n=e.isGenericVariantFrom)||void 0===n?void 0:n.identifier):e.identifier}function Cc(e){var t="";if(e.typeVariables.length>0){t="<";var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=function(){var e=a.value,t=e.type.identifier,i=e.type;if(null!=i.isGenericVariantFrom&&"Object"!=i.isGenericVariantFrom.identifier&&(t+=" extends "+i.isGenericVariantFrom.identifier),null!=i.implements){var r=i.implements;null!=i.isGenericVariantFrom&&(r=r.filter((function(e){return i.isGenericVariantFrom.implements.indexOf(e)<0})));var o=!0,s=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){t+=" & "+u.value.identifier}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}n.push(t)},l=e.typeVariables[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)s()}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}t+=n.join(", "),t+="> "}return t}function Tc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Mc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.signatureHelpTriggerCharacters=["(",",",";","<",">","="],this.signatureHelpRetriggerCharacters=[]}var t,n,i;return t=e,(n=[{key:"provideSignatureHelp",value:function(e,t,n,i){var r,o,a=this,s=e==(null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.editor.getModel());if(s||e==this.main.getMonacoEditor().getModel()){var l=this;return new Promise((function(r,o){setTimeout((function(){var o,u;s?null===(u=null===(o=a.main.getBottomDiv())||void 0===o?void 0:o.console)||void 0===u||u.compileIfDirty():a.main.compileIfDirty(),r(l.provideSignatureHelpLater(e,t,n,i))}),300)}))}}},{key:"provideSignatureHelpLater",value:function(e,t,n,i){var r,o,a=e!=this.main.getMonacoEditor().getModel()?null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.compiler.module:this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==a)return null;var s=a.methodCallPositions[t.lineNumber];if(null==s)return null;for(var l=null,u=-1,c=s.length-1;c>=0;c--){var d=s[c];d.identifierPosition.column+d.identifierPosition.length<t.column&&d.identifierPosition.column>u&&(null==d.rightBracketPosition||t.lineNumber<=d.rightBracketPosition.line&&t.column<=d.rightBracketPosition.column||t.lineNumber<d.rightBracketPosition.line)&&(l=d,u=d.identifierPosition.column)}return null==l?null:this.getSignatureHelp(l,t)}},{key:"getSignatureHelp",value:function(e,t){var n=0,i=!0,r=!1,o=void 0;try{for(var a,s=e.commaPositions[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;(l.line<t.lineNumber||l.line==t.lineNumber&&l.column<t.column)&&n++}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var u=[];if("string"==typeof e.possibleMethods)u=u.concat(this.makeIntrinsicSignatureInformation(e.possibleMethods,n));else{var c=!0,d=!1,h=void 0;try{for(var p,f=e.possibleMethods[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;y.getParameterCount()>n&&(u=u.concat(this.makeSignatureInformation(y)))}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}}return Promise.resolve({value:{activeParameter:n,activeSignature:0,signatures:u},dispose:function(){}})}},{key:"makeIntrinsicSignatureInformation",value:function(e,t){switch(e){case"while":return[{label:"while(Bedingung){ Anweisungen }",documentation:"Wiederholung mit Anfangsbedingung (while-loop)",parameters:[{label:"Bedingung",documentation:"Die Bedingung wird vor jeder Wiederholung ausgewertet. Ist sie erfÃ¼llt ist (d.h. hat sie den Wert true), so werden die Anweisungen in {} erneut ausgefÃ¼hrt, ansonsten wird mit der nÃ¤chsten Anweisung nach { } fortgefahren."}]}];case"if":return[{label:"if(Bedingung){ Anweisungen1 } else { Anweisungen2 }",documentation:"Bedingung (else... ist optional)",parameters:[{label:"Bedingung",documentation:"Ist die Bedingung erfÃ¼llt (d.h. hat sie den Wert true), so werden die Anweisungen1 ausgefÃ¼hrt. Trifft die Bedingung nicht zu (d.h. hat sie den Wert false), so werden die Anweisungen2 ausgefÃ¼hrt."}]}];case"switch":return[{label:"switch(Selektor){case Wert_1: Anweisungen1; break; case Wert_2 Anweisungen2; break; default: Defaultanweisungen; break;}",documentation:"Bedingung (else... ist optional)",parameters:[{label:"Selektor",documentation:"Der Wert des Selektor-Terms wird ausgewertet. Hat er den Wert Wert_1, so werden die Anweisungen1 ausgefÃ¼hrt. Hat er den Wert Wert_2, so werden die Anweisungen2 ausgefÃ¼hrt usw. Hat er keinen der bei case... aufgefÃ¼hrten Werte, so werden die Defaultanweisungen ausgefÃ¼hrt."}]}];case"for":return[{label:"for(Startanweisung; Bedingung; Anweisung am Ende jeder Wiederholung){ Anweisungen }",documentation:"Wiederholung mit for (for-loop)",parameters:[{label:"Startanweisung",documentation:"Diese Anweisung wird vor der ersten Wiederholung einmal ausgefÃ¼hrt."},{label:"Bedingung",documentation:"Die Bedingung wird vor jeder Wiederholung ausgewertet. Ist sie erfÃ¼llt ist (d.h. hat sie den Wert true), so werden die Anweisungen in {} erneut ausgefÃ¼hrt, ansonsten wird mit der nÃ¤chsten Anweisung nach { } fortgefahren."},{label:"Anweisung am Ende jeder Wiederholung",documentation:"Diese Anweisung wird stets am Ende jeder Wiederholung ausgefÃ¼hrt."}]}];case"print":return[{label:"print(text: String, color: String)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe (englischer Name oder #ffffff oder rgb(255,255,255)) oder statisches Attribut der Klasse Color, z.B. Color.red"}]},{label:"print(text: String, color: int)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe als int-Wert kodiert, z.B. 0xff00ff"}]},{label:"print(text: String)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"}]}];case"println":return[{label:"println(text: String, color: String)",documentation:"Gibt Text farbig in der Ausgabe aus. Der nÃ¤chste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe (englischer Name oder #ffffff oder rgb(255,255,255) oder statisches Attribut der Klasse Color, z.B. Color.red)"}]},{label:"println(text: String, color: int)",documentation:"Gibt Text farbig in der Ausgabe aus. Der nÃ¤chste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: int",documentation:"Farbe als int-kodierter Wert, z.B. 0xffffff"}]},{label:"println(text: String)",documentation:"Gibt Text farbig in der Ausgabe aus. Der nÃ¤chste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"}]}]}}},{key:"makeSignatureInformation",value:function(e){var t="";null==e.getReturnType()||e.isConstructor||(t+=xc(e.getReturnType())+" "),t+=e.identifier+"(";for(var n=[],i=e.getParameterList().parameters,r=0;r<i.length;r++){var o=i[r],a=t.length,s=o.type;o.isEllipsis&&(s=s.arrayOfType);var l=(t+=xc(s)+(o.isEllipsis?"...":"")+" "+o.identifier).length;r<i.length-1&&(t+=", ");var u={label:[a,l],documentation:""};n.push(u)}return[{label:t+=")",parameters:n,documentation:null==e.documentation?"":e.documentation}]}}])&&Tc(t.prototype,n),i&&Tc(t,i),e}();function jc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ec=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var t,n,i;return t=e,(n=[{key:"provideHover",value:function(t,n,i){var r,o,a=this.editor.editor.getSelection();if(null==a||a.startLineNumber==a.endLineNumber&&a.startColumn==a.endColumn||!(a.startLineNumber<n.lineNumber||a.startLineNumber==n.lineNumber&&a.startColumn<=n.column)||!(a.endLineNumber>n.lineNumber||a.endLineNumber==n.lineNumber&&a.endColumn>=n.column)){var s=null===(r=this.editor.main.getCurrentWorkspace())||void 0===r?void 0:r.getModuleByMonacoModel(t);if(null==s)return null;var l=!0,u=!1,c=void 0;try{for(var d,h=s.errors[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=!0,y=!1,m=void 0;try{for(var v,g=p[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value;if(b.position.line==n.lineNumber&&b.position.column<=n.column&&b.position.column+b.position.length>=n.column)return null}}catch(e){y=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw m}}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var w=s.getElementAtPosition(n.lineNumber,n.column),k="";if(null!=w)if(w instanceof Z||w instanceof E||w instanceof X||w instanceof j)k=Sc(w);else{if(w instanceof M)return{range:null,contents:[{value:k="```\n"+w.identifier+"\n```  \nprimitiver Datentyp: "+w.description}]};var S=null===(o=null==w?void 0:w.type)||void 0===o?void 0:o.identifier;((null==w?void 0:w.type)instanceof Z||(null==w?void 0:w.type)instanceof X)&&(S+=" "+Cc(w.type)),null==S?S="":S+=" ",k=S+(null==w?void 0:w.identifier)}else{var P=this.getWordUnderCursor(t,n),x=e.keywordDescriptions[P];if(null!=x)return{range:null,contents:[{value:x}]}}var C=null;if(this.editor.main.getInterpreter().state==Xi.paused){var T=this.editor.main.getCurrentWorkspace().evaluator,O=this.widenDeclaration(t,n,null==w?void 0:w.identifier);if(null==O)return null;var D=T.evaluate(O);null==D.error&&null!=D.value&&(C=D.value.type.debugOutput(D.value),k=O)}var _=[];return null==C&&0==k.length?null:(null!=C?C.length+k.length>40?(_.push({value:"```\n"+k+" ==\n```"}),_.push({value:"```\n"+C.replace(/&nbsp;/g," ")+"\n```"})):_.push({value:"```\n"+k+" == "+C.replace(/&nbsp;/g," ")+"\n```"}):_.push({value:"```\n"+k+"\n```"}),{range:null,contents:_})}}},{key:"getWordUnderCursor",value:function(e,t){for(var n=e.getValueLengthInRange({startColumn:0,startLineNumber:0,endLineNumber:t.lineNumber,endColumn:t.column}),i=e.getValue(),r="",o=n;o<i.length&&this.isInsideIdentifierOrArrayDescriptor(i.charAt(o));)o++;for(var a=n;a>0&&this.isInsideIdentifierOrArrayDescriptor(i.charAt(a-1));)a--;if(o-a>1)r=i.substring(a,o);else{for(o=n;o<i.length&&this.isInsideOperator(i.charAt(o));)o++;for(a=n;a>0&&this.isInsideOperator(i.charAt(a-1));)a--;o-a>0&&(r=i.substring(a,o))}return r}},{key:"widenDeclaration",value:function(e,t,n){for(var i=e.getValueLengthInRange({startColumn:0,startLineNumber:0,endLineNumber:t.lineNumber,endColumn:t.column}),r=e.getValue(),o=i;o<r.length&&this.isInsideIdentifierOrArrayDescriptor(r.charAt(o));)o++;for(var a=i;a>0&&this.isInsideIdentifierChain(r.charAt(a-1));)a--;return null==(null==n?void 0:n.length)||n.length,o-a>length?r.substring(a,o):n}},{key:"isInsideIdentifierChain",value:function(e){return e.toLocaleLowerCase().match(/[a-z0-9Ã¤Ã¶Ã¼Ã_\[\]\.]/i)}},{key:"isInsideOperator",value:function(e){return e.toLocaleLowerCase().match(/[!%<>=\+\-\*\/]/i)}},{key:"isInsideIdentifierOrArrayDescriptor",value:function(e){return e.toLocaleLowerCase().match(/[a-z0-9Ã¤Ã¶Ã¼Ã\[\]]/i)}}])&&jc(t.prototype,n),i&&jc(t,i),e}();function Oc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Ec.keywordDescriptions={print:"Die Anweisung ```print``` gibt eine Zeichenkette aus.",new:'Das SchlÃ¼sselwort ```new``` bewirkt die Instanzierung ("Erschaffung") eines neuen Objektes einer Klasse.',println:"Die Anweisung ```println``` gibt eine Zeichenkette gefolgt von einem Zeilenumbruch aus.",while:"```\nwhile (Bedingung) {Anweisungen}\n```  \nbewirkt die Wiederholung der Anweisungen solange ```Bedingung == true``` ist.",for:"```\nfor(Startanweisung;Solange-Bedingung;Nach_jeder_Wiederholung){Anweisungen}\n```  \nfÃ¼hrt zunÃ¤chst die Startanweisung aus und wiederholt dann die Anweisungen solange ```Bedingung == true``` ist. Am Ende jeder wiederholung wird Nach_jeder_Wiederholung ausgefÃ¼hrt.",if:"```\nif(Bedingung){Anweisungen_1} else {Anweisungen_2}\n```  \nwertet die Bedingung aus und fÃ¼hrt Anweisungen_1 nur dann aus, wenn die Bedingung ```true``` ergibt, Anweisungen_2 nur dann, wenn die Bedingung ```false``` ergibt.  \nDer ```else```-Teil kann auch weggelassen werden.",else:"```\nif(Bedingung){Anweisungen_1} else {Anweisungen_2}\n```  \nwertet die Bedingung aus und fÃ¼hrt Anweisungen_1 nur dann aus, wenn die Bedingung ```true``` ergibt, Anweisungen_2 nur dann, wenn die Bedingung ```false``` ergibt.",switch:"```\nswitch(Selektor){ case Wert_1: Anweisungen_1; break; case Wert_2: Anweisungen_2; break; default: Default-Anweisungen } \n```  \nwertet den Selektor-Term aus und fÃ¼hrt abhÃ¤ngig vom Termwert Anweisungen_1, Anweisungen_2, ... aus. Entspricht der Termwert keinem der Werte Wert_1, Wert_2, ..., so werden die Default-Anweisungen ausgefÃ¼hrt.","%":"```\na % b\n```  \n (sprich: 'a modulo b') berechnet den **Rest** der ganzzahligen Division a/b.","==":"```\na == b\n```  \nergibt genau dann ```true```, wenn ```a``` und ```b``` gleich sind.  \nSind a und b **Objekte**, so ergibt ```a == b``` nur dann ```true```, wenn ```a``` und ```b``` auf das **identische** Objekt zeigen.  \n```==``` nennt man **Vergleichsoperator**.","<=":"```\na <= b\n```  \nergibt genau dann ```true```, wenn der Wert von ```a``` kleiner oder gleich dem Wert von ```b``` ist.",">=":"```\na <= b\n```  \nergibt genau dann ```true```, wenn der Wert von ```a``` grÃ¶Ãer oder gleich dem Wert von ```b``` ist.","!=":"```\na != b\n```  \nergibt genau dann ```true```, wenn ```a``` und ```b``` **un**gleich sind.  \nSind ```a``` und ```b``` **Objekte**, so ergibt ```a != b``` dann ```true```, wenn ```a``` und ```b``` **nicht** auf das **identische** Objekt zeigen.  \n```!=``` nennt man **Ungleich-Operator**.","+=":"```\na += b\n(Kurzschreibweise fÃ¼r a = a + b)\n```  \nbewirkt, dass der Wert von ```a``` um den Wert von ```b``` **erhÃ¶ht** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","-=":"```\na -= b\n(Kurzschreibweise fÃ¼r a = a - b)\n```  \nbewirkt, dass der Wert von ```a``` um den Wert von ```b``` **erniedrigt** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","*=":"```\na *= b\n(Kurzschreibweise fÃ¼r a = a * b)\n```  \nbewirkt, dass der Wert von ```a``` mit dem Wert von ```b``` **multipliziert** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","/=":"```\na /= b\n(Kurzschreibweise fÃ¼r a = a / b)\n```  \nbewirkt, dass der Wert von ```a``` durch den Wert von ```b``` **dividiert** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","++":"```\na++\n(Kurzschreibweise fÃ¼r a = a + 1)\n```  \nbewirkt, dass der Wert von ```a``` um eins erhÃ¶ht wird.","--":"```\na--\n(Kurzschreibweise fÃ¼r a = a - 1)\n```  \nbewirkt, dass der Wert von ```a``` um eins eniedrigt wird.","=":"```\na = Term\n```  \nberechnet den Wert des Terms und weist ihn der Variablen ```a``` zu.  \n**Vorsicht:**  \nVerwechsle ```=```(**Zuweisungsoperator**) nicht mit ```==```(**Vergleichsoperator**)!","!":"```\n!a\n```  \nergibt genau dann ```true```, wenn ```a``` ```false``` ergibt.  \n```!``` spricht man '**nicht**'.",public:"```\npublic\n```  \nAttribute und Methoden, die als ```public``` deklariert werden, sind Ã¼berall (auch auÃerhalb der Klasse) sichtbar.",private:"```\nprivate\n```  \nAttribute und Methoden, die als ```private``` deklariert werden, sind nur innerhalb von Methoden derselben Klasse sichtbar.",protected:"```\nprotected\n```  \nAttribute und Methoden, die als ```protected``` deklariert werden, sind nur innerhalb von Methoden derselben Klasse oder innerhalb von Methoden von Kindklassen sichtbar.",return:"```\nreturn Term\n```  \nbewirkt, dass die Methode verlassen wird und der Wert des Terms an die aufrufende Stelle zurÃ¼ckgegeben wird.",break:"```\nbreak;\n```  \ninnerhalb einer Schleife bewirkt, dass die Schleife sofort verlassen und mit den Anweisungen nach der Schleife fortgefahren wird.  \n```break``` innerhalb einer ```switch```-Anweisung bewirkt, dass der Block der ```switch```-Anweisung verlassen wird."};var Dc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideCodeActions",value:function(e,t,n,i){return{actions:n.markers.map((function(t){var n=t.relatedInformation;return null==n?null:{title:n.title,diagnostics:[t],kind:"quickfix",edit:{edits:n.editsProvider(e.uri)},isPreferred:!0}})),dispose:function(){}}}}])&&Oc(t.prototype,n),i&&Oc(t,i),e}();function _c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ac=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideReferences",value:function(e,t,n,i){var r=this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==r)return null;var o=r.getElementAtPosition(t.lineNumber,t.column);if(null!=o){var a=o.usagePositions,s=[];return a.forEach((function(e,t){if(null!=e){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;s.push({uri:t.uri,range:{startColumn:l.column,startLineNumber:l.line,endLineNumber:l.line,endColumn:l.column+l.length}})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}})),s}}}])&&_c(t.prototype,n),i&&_c(t,i),e}();function Fc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ic=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.showMinimap=n,this.isEmbedded=i,this.highlightCurrentMethod=!0,this.cw=null,this.dontPushNextCursorMove=0,this.lastPushTime=0,this.lastTime=0,this.elementDecoration=[]}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e){var t=this;!function(){monaco.languages.register({id:"myJava",extensions:[".learnJava"]});var e={indentationRules:{decreaseIndentPattern:/^(.*\*\/)?\s*\}.*$/,increaseIndentPattern:/^.*\{[^}"']*$/},onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:monaco.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}},{beforeText:/^(\t|(\ \ ))*\ \*[^/]*\*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}}],wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}};monaco.languages.setLanguageConfiguration("myJava",e),monaco.languages.setMonarchTokensProvider("myJava",{defaultToken:"",tokenPostfix:".java",keywords:["abstract","continue","new","switch","assert","default","goto","package","synchronized","private","this","implements","protected","throw","import","public","throws","case","instanceof","return","transient","catch","extends","try","final","static","finally","strictfp","volatile","const","native","super","true","false","null"],print:["print","println"],statements:["for","while","if","then","else","do","break","continue"],types:["int","boolean","char","float","double","long","void","byte","short","class","enum","interface"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[/[a-z_$Ã¤Ã¶Ã¼][\w$Ã¤Ã¶Ã¼ÃÃÃÃ]*(?=\()/,{cases:{"@keywords":{token:"keyword.$0"},"@statements":{token:"statement.$0"},"@types":{token:"type.$0"},"@print":{token:"print.$0"},"@default":"method"}}],[/[a-z_$Ã¤Ã¶Ã¼Ã][\w$Ã¤Ã¶Ã¼ÃÃÃÃ]*/,{cases:{"@keywords":{token:"keyword.$0"},"@statements":{token:"statement.$0"},"@types":{token:"type.$0"},"@default":"identifier"}}],[/[A-Z$ÃÃÃ][\w$Ã¤Ã¶Ã¼ÃÃÃÃ]*/,"class"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,"annotation"],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float"],[/0[xX](@hexdigits)[Ll]?/,"number.hex"],[/0(@octaldigits)[Ll]?/,"number.octal"],[/0[bB](@binarydigits)[Ll]?/,"number.binary"],[/(@digits)[fFdD]/,"number.float"],[/(@digits)[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@javadoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],javadoc:[[/[^\/*]+/,"comment.doc"],[/\/\*/,"comment.doc.invalid"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}})}(),monaco.editor.defineTheme("myCustomThemeDark",{base:"vs-dark",inherit:!0,rules:[{token:"method",foreground:"dcdcaa",fontStyle:"italic"},{token:"print",foreground:"dcdcaa",fontStyle:"italic bold"},{token:"class",foreground:"3DC9B0"},{token:"number",foreground:"b5cea8"},{token:"type",foreground:"499cd6"},{token:"identifier",foreground:"9cdcfe"},{token:"statement",foreground:"bb96c0",fontStyle:"bold"},{token:"keyword",foreground:"68bed4",fontStyle:"bold"}],colors:{"editor.background":"#1e1e1e",jo_highlightMethod:"#2b2b7d"}}),monaco.editor.defineTheme("myCustomThemeLight",{base:"vs",inherit:!0,rules:[{token:"method",foreground:"694E16",fontStyle:"italic bold"},{token:"print",foreground:"811f3f",fontStyle:"italic bold"},{token:"class",foreground:"a03030"},{token:"number",foreground:"404040"},{token:"type",foreground:"0000ff",fontStyle:"bold"},{token:"identifier",foreground:"001080"},{token:"statement",foreground:"8000e0",fontStyle:"bold"},{token:"keyword",foreground:"00a000",fontStyle:"bold"},{token:"comment",foreground:"808080",fontStyle:"italic"}],colors:{"editor.background":"#FFFFFF","editor.foreground":"#000000","editor.inactiveSelectionBackground":"#E5EBF1","editorIndentGuide.background":"#D3D3D3","editorIndentGuide.activeBackground":"#939393","editor.selectionHighlightBackground":"#ADD6FF80","editorSuggestWidget.background":"#F3F3F3","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#6F6F6F","list.hoverBackground":"#E8E8E8","input.placeholderForeground":"#767676","searchEditor.textInputBorder":"#CECECE","settings.textInputBorder":"#CECECE","settings.numberInputBorder":"#CECECE","statusBarItem.remoteForeground":"#FFF","statusBarItem.remoteBackground":"#16825D",jo_highlightMethod:"#babaec"}}),this.editor=monaco.editor.create(e[0],{language:"myJava",lightbulb:{enabled:!0},lineDecorationsWidth:0,peekWidgetDefaultFocus:"tree",fixedOverflowWidgets:!0,quickSuggestions:!0,quickSuggestionsDelay:10,fontSize:14,fontFamily:"Consolas, Roboto Mono",fontWeight:"500",roundedSelection:!0,selectOnLineNumbers:!1,automaticLayout:!0,scrollBeyondLastLine:!1,occurrencesHighlight:!1,autoIndent:"full",dragAndDrop:!0,formatOnType:!0,formatOnPaste:!0,suggestFontSize:16,suggestLineHeight:22,suggest:{localityBonus:!0},parameterHints:{enabled:!0,cycle:!0},mouseWheelZoom:this.isEmbedded,minimap:{enabled:this.showMinimap},scrollbar:{vertical:"auto",horizontal:"auto"},theme:"myCustomThemeDark"}),this.editor.onKeyDown((function(e){var n=t.main.getInterpreter().state;if([Xi.done,Xi.error,Xi.not_initialized].indexOf(n)<0){if(e.code.indexOf("Arrow")>=0||e.code.indexOf("Page")>=0)return;t.main.getActionManager().trigger("interpreter.stop")}}));var n=this,i=function(e){!0===e.ctrlKey&&(n.changeEditorFontSize(Math.sign(e.deltaY),!0),e.preventDefault())};if(!this.isEmbedded){var r=this.main;r.windowStateManager.registerBackButtonListener((function(e){var t=e.state;if(null!=e.state){var i=r.workspaceList.find((function(e){return e.id==t.workspace_id}));if(null!=i){var o=i.moduleStore.findModuleById(t.module_id);null!=o&&(i!=r.currentWorkspace&&(n.dontPushNextCursorMove++,r.projectExplorer.setWorkspaceActive(i),n.dontPushNextCursorMove--),o!=r.getCurrentlyEditedModule()&&(n.dontPushNextCursorMove++,r.projectExplorer.setModuleActive(o),n.dontPushNextCursorMove--),n.dontPushNextCursorMove++,n.editor.setPosition(t.position),n.editor.revealPosition(t.position),n.dontPushNextCursorMove--,n.pushHistoryState(!0,t))}}}))}return this.editor.onDidChangeConfiguration((function(e){e.hasChanged(monaco.editor.EditorOption.fontInfo)&&t.isEmbedded&&t.main.getBottomDiv().errorManager.registerLightbulbOnClickFunctions()})),this.editor.onDidChangeCursorPosition((function(e){var i,r=t.main.getCurrentlyEditedModule().file.id;(null==t.lastPosition||"api"==e.source||r!=t.lastPosition.module_id||Math.abs(t.lastPosition.position.lineNumber-e.position.lineNumber)>20)&&0==t.dontPushNextCursorMove?t.pushHistoryState(!1,t.getPositionForHistory()):r==(null===(i=history.state)||void 0===i?void 0:i.module_id)&&t.pushHistoryState(!0,t.getPositionForHistory()),n.onDidChangeCursorPosition(e.position),n.onEvaluateSelectedText(e)})),this.editor.onDidChangeModel((function(n){var r=e.find(".monaco-editor")[0];if(r.removeEventListener("wheel",i),r.addEventListener("wheel",i,{passive:!1}),null!=t.main.getCurrentWorkspace()){var o=t.main.getCurrentWorkspace().getModuleByMonacoModel(t.editor.getModel());t.main instanceof mh&&null!=o&&(t.main.projectExplorer.setActiveAfterExternalModelSet(o),(null==t.lastPosition||o.file.id!=t.lastPosition.module_id)&&0==t.dontPushNextCursorMove&&t.pushHistoryState(!1,t.getPositionForHistory()))}})),monaco.languages.registerRenameProvider("myJava",this),monaco.languages.registerDefinitionProvider("myJava",{provideDefinition:function(e,t,i){return n.provideDefinition(e,t,i)}}),monaco.languages.registerHoverProvider("myJava",new Ec(this)),monaco.languages.registerCompletionItemProvider("myJava",new kc(this.main)),monaco.languages.registerCodeActionProvider("myJava",new Dc(this.main)),monaco.languages.registerReferenceProvider("myJava",new Ac(this.main)),monaco.languages.registerSignatureHelpProvider("myJava",new Mc(this.main)),this.editor.onMouseDown((function(e){var t=e.target.detail;e.target.type!==monaco.editor.MouseTargetType.GUTTER_GLYPH_MARGIN&&e.target.type!==monaco.editor.MouseTargetType.GUTTER_LINE_NUMBERS||t.isAfterLines||n.onMarginMouseDown(e.target.position.lineNumber)})),setTimeout((function(){monaco.editor.remeasureFonts()}),2e3),this.addActions(),this.editor.onDidType((function(e){n.onDidType(e)})),this.editor}},{key:"getPositionForHistory",value:function(){return{position:this.editor.getPosition(),workspace_id:this.main.getCurrentWorkspace().id,module_id:this.main.getCurrentlyEditedModule().file.id}}},{key:"pushHistoryState",value:function(e,t){if(!this.main.isEmbedded()){if(e)history.replaceState(t,"");else{var n=(new Date).getTime();n-this.lastPushTime>200?history.pushState(t,""):history.replaceState(t,""),this.lastPushTime=n}this.lastPosition=t}}},{key:"onDidType",value:function(e){var t=this,n=function(e,n,i,r){var o=new monaco.Range(e.lineNumber,e.column,e.lineNumber,e.column);t.editor.executeEdits("new-bullets",[{range:o,text:n}]),t.editor.setPosition({lineNumber:i,column:r})};if("\n"===e){var i=this.editor.getModel(),r=this.editor.getPosition(),o=i.getLineContent(r.lineNumber-1);if(0===o.trim().indexOf("/*")&&!o.trimRight().endsWith("*/")&&!(r.lineNumber<i.getLineCount()?i.getLineContent(r.lineNumber+1):"").trim().startsWith("*")){var a=o.substr(0,o.length-o.trimLeft().length);0===o.trim().indexOf("/**")?n(r,"\n"+a+" */",r.lineNumber,r.column+3+a.length):n(r," * \n"+a+" */",r.lineNumber,r.column+3+a.length)}}}},{key:"setFontSize",value:function(e){var t=(new Date).getTime();if(!(t-this.lastTime<150)){this.lastTime=t;var n=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize);if(this.main instanceof mh&&this.main.viewModeController.saveFontSize(e),e!=n){this.editor.updateOptions({fontSize:e});var i=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize)/e;this.editor.updateOptions({fontSize:e/i});var r=this.main.getBottomDiv();null!=r&&null!=r.console&&r.console.editor.updateOptions({fontSize:e/i})}var o=this.main.getBottomDiv();null!=o&&null!=o.console&&(o.$bottomDiv.find(".jo_commandline").css({height:1.1*e+4+"px","line-height":1.1*e+4+"px"}),o.console.editor.layout()),jQuery(".jo_editorFontSize").css("font-size",e+"px"),jQuery(".jo_editorFontSize").css("line-height",e+2+"px"),document.documentElement.style.setProperty("--breakpoint-size",e+"px"),document.documentElement.style.setProperty("--breakpoint-radius",e/2+"px"),this.main.getBottomDiv().errorManager.registerLightbulbOnClickFunctions()}}},{key:"changeEditorFontSize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize);t&&(e*=n<10?1:n<20?2:4);var i=n+e;i>=6&&i<=80&&this.setFontSize(i)}},{key:"addActions",value:function(){this.editor.addAction({id:"Find bracket",label:"Finde korrespondierende Klammer",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_K],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return e.getAction("editor.action.jumpToBracket").run(),null}})}},{key:"onEvaluateSelectedText",value:function(e){var t=this;if(null!=t.cw&&(t.editor.removeContentWidget(t.cw),t.cw=null),t.main.getInterpreter().state==Xi.paused){var n=t.editor.getModel().getValueInRange(t.editor.getSelection());if(null!=n&&n.length>0){var i=this.main.getCurrentWorkspace().evaluator.evaluate(n);if(null==i.error&&null!=i.value){var r=i.value.type.debugOutput(i.value);monaco.editor.colorize(n+": ","myJava",{tabSize:3}).then((function(n){n.endsWith("<br/>")&&(n=n.substr(0,n.length-5)),t.cw={getId:function(){return"my.content.widget"},getDomNode:function(){return jQuery('<div class="jo_editorTooltip jo_codeFont">'+n+r+"</div>")[0]},getPosition:function(){return{position:e.position,preference:[monaco.editor.ContentWidgetPositionPreference.ABOVE,monaco.editor.ContentWidgetPositionPreference.BELOW]}}},t.editor.addContentWidget(t.cw)}))}}}}},{key:"onMarginMouseDown",value:function(e){var t=this.getCurrentlyEditedModule();if(null!=t&&(t.toggleBreakpoint(e,!0),null!=this.main.getInterpreter().moduleStore)){var n=this.main.getInterpreter().moduleStore.findModuleByFile(t.file);null!=n&&n.toggleBreakpoint(e,!1)}}},{key:"onDidChangeCursorPosition",value:function(e){null==e&&(e=this.editor.getPosition());var t=this.getCurrentlyEditedModule();if(null!=t){var n=t.getElementAtPosition(e.lineNumber,e.column),i=[];if(null!=n){var r=n.usagePositions.get(t);if(null!=r){var o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i.push({range:{startColumn:c.column,startLineNumber:c.line,endColumn:c.column+c.length,endLineNumber:c.line},options:{className:"jo_revealSyntaxElement",isWholeLine:!1,overviewRuler:{color:{id:"editorIndentGuide.background"},darkColor:{id:"editorIndentGuide.activeBackground"},position:monaco.editor.OverviewRulerLane.Left}}})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}if(this.highlightCurrentMethod){var d=t.getMethodDeclarationAtPosition(e);null!=d&&i.push({range:{startColumn:0,startLineNumber:d.position.line,endColumn:100,endLineNumber:d.scopeTo.line},options:{className:"jo_highlightMethod",isWholeLine:!0,overviewRuler:{color:{id:"jo_highlightMethod"},darkColor:{id:"jo_highlightMethod"},position:monaco.editor.OverviewRulerLane.Left},minimap:{color:{id:"jo_highlightMethod"},position:monaco.editor.MinimapPosition.Inline},zIndex:-100}})}this.elementDecoration=this.editor.deltaDecorations(this.elementDecoration,i)}else this.elementDecoration=this.editor.deltaDecorations(this.elementDecoration,[])}},{key:"getCurrentlyEditedModule",value:function(){return this.main.getCurrentlyEditedModule()}},{key:"dontDetectLastChange",value:function(){}},{key:"provideRenameEdits",value:function(e,t,n,i){var r=this.getCurrentlyEditedModule();if(null==r)return null;var o=r.getElementAtPosition(t.lineNumber,t.column);if(null!=o){var a=o.usagePositions,s=[];return a.forEach((function(e,t){if(null!=e){var i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;s.push({resource:t.uri,edit:{range:{startColumn:u.column,startLineNumber:u.line,endLineNumber:u.line,endColumn:u.column+u.length},text:n}})}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}[].length>0&&(t.file.dirty=!0,t.file.saved=!1,t.file.identical_to_repository_version=!1)}})),{edits:s}}}},{key:"provideDefinition",value:function(e,t,n){var i=this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==i)return null;var r=i.getElementAtPosition(t.lineNumber,t.column);if(null==r)return null;var o=r.declaration;return null==o?r instanceof Z||r instanceof $t||r instanceof X||r instanceof E||r instanceof j?Promise.resolve({range:{startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:t.column,endColumn:t.column+r.identifier.length},uri:i.uri}):null:Promise.resolve({range:{startLineNumber:o.position.line,endLineNumber:o.position.line,startColumn:o.position.column,endColumn:o.position.column+o.position.length},uri:o.module.uri})}}])&&Fc(t.prototype,n),i&&Fc(t,i),e}();function zc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Lc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=0,this.gripWidth=10,this.overallWidth=100,this.$outer=jQuery('<div class="jo_speedcontrol-outer" title="Geschwindigkeitsregler" draggable="false"></div>'),this.$bar=jQuery('<div class="jo_speedcontrol-bar" draggable="false"></div>'),this.$grip=jQuery('<div class="jo_speedcontrol-grip" draggable="false"></div>'),this.$display=jQuery('<div class="jo_speedcontrol-display" draggable="false">100 Schritte/s</div>'),this.$grip.append(this.$display),this.$outer.append(this.$bar,this.$grip),t.append(this.$outer)}var t,n,i;return t=e,(n=[{key:"setInterpreter",value:function(e){this.interpreter=e}},{key:"initGUI",value:function(){var e,t,n=this;n.overallWidth=Gu(this.$outer.css("width")),n.gripWidth=Gu(n.$grip.css("width")),n.xMax=n.overallWidth-n.gripWidth,n.$outer.on("mousedown",(function(e){var t=e.pageX-n.$outer.offset().left-4;n.setSpeed(t),n.$grip.css("left",t+"px"),n.$grip.trigger("mousedown",[e.clientX])})),this.$grip.on("mousedown",(function(i,r){null==r&&(r=i.clientX),e=r,t=n.position,jQuery(".joe_controlPanel_top").css("z-index","1000"),n.$display.show(),jQuery(document).on("mousemove.speedcontrol",(function(i){var r=i.clientX-e;n.setSpeed(t+r)})),jQuery(document).on("mouseup.speedcontrol",(function(){jQuery(document).off("mouseup.speedcontrol"),jQuery(document).off("mousemove.speedcontrol"),n.$display.hide(),jQuery(".joe_controlPanel_top").css("z-index","0")})),i.stopPropagation()}))}},{key:"setSpeed",value:function(e){e<0&&(e=0),e>this.xMax&&(e=this.xMax),this.position=e,this.$grip.css("left",e+"px");var t=[1,10,100,1e3,1e4,1e5,this.interpreter.maxStepsPerSecond],n=this.xMax/(t.length-1),i=Math.floor(e/n);i==t.length-1&&i--;var r=t[i],o=r+(e-i*n)/n*(t[i+1]-r);this.interpreter.stepsPerSecond=o,this.interpreter.hideProgrampointerPosition();var a=""+Math.ceil(o);o>=this.interpreter.maxStepsPerSecond-10&&(a="Maximale Geschwindigkeit"),this.$display.html(a+" Schritte/s")}}])&&zc(t.prototype,n),i&&zc(t,i),e}();function Bc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Rc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$buttonsContainer=t,this.$editorContainer=n,this.buttonActiveMatrix={start:[!1,!1,!0,!0,!0,!1],pause:[!1,!0,!1,!1,!1,!1],stop:[!1,!0,!0,!1,!1,!0],stepOver:[!1,!1,!0,!0,!0,!1],stepInto:[!1,!1,!0,!0,!0,!1],stepOut:[!1,!1,!0,!1,!1,!1],restart:[!1,!0,!0,!0,!0,!0]},this.speedControl=new Lc(t),this.speedControl.initGUI(),this.$buttonStart=jQuery('<div title="Start" class="img_start-dark jo_button"></div>'),this.$buttonPause=jQuery('<div title="Pause" class="img_pause-dark jo_button"></div>'),this.$buttonStop=jQuery('<div title="Stop" class="img_stop-dark jo_button"></div>'),this.$buttonStepOver=jQuery('<div title="Step over" class="img_step-over-dark jo_button"></div>'),this.$buttonStepInto=jQuery('<div title="Step into" class="img_step-into-dark jo_button"></div>'),this.$buttonStepOut=jQuery('<div title="Step out" class="img_step-out-dark jo_button"></div>'),this.$buttonRestart=jQuery('<div title="Restart" class="img_restart-dark jo_button"></div>'),t.append(this.$buttonStart,this.$buttonPause,this.$buttonStop,this.$buttonStepOver,this.$buttonStepInto,this.$buttonStepOut,this.$buttonRestart)}var t,n,i;return t=e,(n=[{key:"setInterpreter",value:function(e){this.interpreter=e,this.speedControl.setInterpreter(e),this.speedControl.setSpeed(20)}}])&&Bc(t.prototype,n),i&&Bc(t,i),e}();function Wc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $c=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=n,this.position=0,this.gripHeight=10,this.overallHeight=150,this.zoomMin=.2,this.zoomMax=2;var r=jQuery('<div class="jo_zoomcontrol-outer" title="Zoom" draggable="false"></div>');t.append(r);var o,a,s=jQuery('<div class="jo_zoomcontrol-bar" draggable="false"></div>');r.append(s),this.$grip=jQuery('<div class="jo_zoomcontrol-grip" draggable="false"></div>'),r.append(this.$grip),this.$zoomcontrolDisplay=jQuery('<div class="jo_zoomcontrol-display"></div>'),this.$grip.append(this.$zoomcontrolDisplay);var l=this;l.overallHeight=Gu(r.css("height")),l.gripHeight=Gu(l.$grip.css("height")),l.yMax=l.overallHeight-l.gripHeight,s.on("mousedown",(function(e){var t=e.pageY-r.offset().top-4;l.setZoom(t),l.$grip.css("top",t+"px"),l.$grip.trigger("mousedown",[e.clientY])})),this.$grip.on("mousedown",(function(e,t){null==t&&(t=e.clientY),o=t,a=l.position,i.$zoomcontrolDisplay.show(),jQuery(document).on("mousemove.zoomcontrol",(function(e){var t=e.clientY-o;l.setZoom(a+t)})),jQuery(document).on("mouseup.zoomcontrol",(function(){jQuery(document).off("mouseup.zoomcontrol"),jQuery(document).off("mousemove.zoomcontrol"),i.$zoomcontrolDisplay.hide()})),e.stopPropagation()})),t.on("mouseenter",(function(t){e.preventFading||r.fadeIn()})),t.on("mouseleave",(function(t){e.preventFading||r.fadeOut()}));var u=(1-this.zoomMin)/(this.zoomMax-this.zoomMin);this.position=u*(this.overallHeight-this.gripHeight),this.$grip.css("top",this.position+"px")}var t,n,i;return t=e,(n=[{key:"setZoom",value:function(e){e<0&&(e=0),e>this.yMax&&(e=this.yMax),this.position=e,this.$grip.css("top",e+"px");var t=e/(this.overallHeight-this.gripHeight);t=this.zoomMin+t*(this.zoomMax-this.zoomMin);var n=Math.round(100*t)+" %";this.$zoomcontrolDisplay.html(n),null!=this.callback&&this.callback(t)}}])&&Wc(t.prototype,n),i&&Wc(t,i),e}();function Vc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}$c.preventFading=!1;var Nc,Gc=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.zoomfactor=1,this.inlineStyles={},this.marginCm=1.6,this.minDistance=2,this.minWidthHeightCm=10,this.widthCm=this.minWidthHeightCm,this.heightCm=this.minWidthHeightCm,this.$menuButton=jQuery('<div class="jo_classDiagram_Menubutton jo_button jo_active img_menu-three-bars"></div>'),t.append(this.$menuButton);var r=jQuery("<div></div>");t.append(r),r.addClass("jo_scrollable"),r.css({overflow:"auto",position:"relative",width:"100%",height:"100%"}),this.$canvas=jQuery('<div class="jo_diagram-canvas"></div>'),r.append(this.$canvas),this.zoomControl=new $c(t,(function(e){i.$canvas.css({transform:"scale("+e+")"}),i.zoomfactor=e}));var o,a;this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),jQuery(this.svgElement).addClass("jo_diagram-svg svg_all_pointer_events"),this.$canvas[0].appendChild(this.svgElement),this.$centerRectangle=jQuery(this.createElement("rect",this.svgElement)),this.$centerRectangle.css({fill:"#ffffff",stroke:"none"}),this.adjustCenterRectangle(),jQuery(this.svgElement).on("mousedown",(function(e){o=e.screenX,a=e.screenY,jQuery(document).on("mousemove.diagram",(function(e){var t=e.screenX-o,n=e.screenY-a;o=e.screenX,a=e.screenY,r.scrollLeft(r.scrollLeft()-t),r.scrollTop(r.scrollTop()-n)})),jQuery(document).on("mouseup.diagram",(function(){jQuery(document).off("mousemove.diagram"),jQuery(document).off("mouseup.diagram")}))}))}var t,n,i;return t=e,(n=[{key:"adjustCenterRectangle",value:function(){this.$centerRectangle.attr({x:this.marginCm+"cm",y:this.marginCm+"cm",width:this.widthCm-2*this.marginCm+"cm",height:this.heightCm-2*this.marginCm+"cm"})}},{key:"setSize",value:function(e,t){e<this.minWidthHeightCm&&(e=this.minWidthHeightCm),t<this.minWidthHeightCm&&(t=this.minWidthHeightCm),this.$canvas.css({width:e+"cm",height:t+"cm"}),this.widthCm=e,this.heightCm=t,this.adjustCenterRectangle()}},{key:"adjustSizeAndElements",value:function(e){var t=1e5,n=1e5,i=-1e5,r=-1e5,o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;t>c.leftCm&&(t=c.leftCm),i<c.leftCm+c.widthCm&&(i=c.leftCm+c.widthCm),n>c.topCm&&(n=c.topCm),r<c.topCm+c.heightCm&&(r=c.topCm+c.heightCm)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t-=this.marginCm,i+=this.marginCm,n-=this.marginCm,r+=this.marginCm;var d=!1,h=this.widthCm,p=this.heightCm;if(t<0||i>this.widthCm||i-t<=this.widthCm&&this.widthCm>this.minWidthHeightCm){var f=0;if(h=Math.max(this.minWidthHeightCm,i-t),t<0&&(f=-t),t>0&&i>h&&(f=h-i),d=0!=f){var y=!0,m=!1,v=void 0;try{for(var g,b=e[Symbol.iterator]();!(y=(g=b.next()).done);y=!0)g.value.move(f,0,!0,!0)}catch(e){m=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(m)throw v}}}}if(n<0||r>this.heightCm||r-n<=this.heightCm&&this.heightCm>this.minWidthHeightCm){var w=0;if(p=Math.max(this.minWidthHeightCm,r-n),n<0&&(w=-n),n>0&&r>p&&(w=p-r),d=0!=w){var k=!0,S=!1,P=void 0;try{for(var x,C=e[Symbol.iterator]();!(k=(x=C.next()).done);k=!0)x.value.move(0,w,!0,!0)}catch(e){S=!0,P=e}finally{try{k||null==C.return||C.return()}finally{if(S)throw P}}}}return this.setSize(h,p),{isAdjusted:d}}},{key:"insertStyleElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="http://www.w3.org/2000/svg";null==this.style&&(this.defs=document.createElementNS(t,"defs"),this.style=document.createElementNS(t,"style"),this.defs.appendChild(this.style),this.svgElement.appendChild(this.defs)),null!=e&&(this.inlineStyles=e,this.refreshInlineStyles())}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"refreshInlineStyles",value:function(){var e="";for(var t in this.inlineStyles){var n=this.inlineStyles[t];if(null!=n){for(var i in e+=t+"{\n",n)e+="   "+i+":"+n[i]+";\n";e+="}\n"}else e+=t+"\n"}this.style.textContent=e}},{key:"findFreeSpace",value:function(e,t,n,i){for(var r=0,o=!1,a=0,s=0;!o;){var l=r,u=0;for(u=0;u<=r;u++)if(a=this.marginCm+.2*u,s=this.marginCm+.2*l,this.isFree(e,t,n,a,s,i)){o=!0;break}if(o)break;for(u--,l=0;l<=r-1;l++)if(a=this.marginCm+.2*u,s=this.marginCm+.2*l,this.isFree(e,t,n,a,s,i)){o=!0;break}r+=2}return{x:a,y:s}}},{key:"isFree",value:function(e,t,n,i,r,o){var a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=Math.abs(d.leftCm+d.widthCm/2-i-t/2)<=(d.widthCm+t)/2+o,p=Math.abs(d.topCm+d.heightCm/2-r-n/2)<=(d.heightCm+n)/2+o;if(h&&p)return!1}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return!0}}])&&Vc(t.prototype,n),i&&Vc(t,i),e}();function Hc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right"}(Nc||(Nc={}));var Qc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.leftCm=0,this.topCm=0,this.lines=[],this.backgroundColor="#ffffff"}var t,n,i;return t=e,(n=[{key:"getRoutingRectangle",value:function(){return{left:Math.round(this.leftCm/.2),top:Math.round(this.topCm/.2),width:Math.round(this.widthCm/.2),height:Math.round(this.heightCm/.2)}}},{key:"show",value:function(){null!=this.$element&&this.$element.show()}},{key:"hide",value:function(){null!=this.$element&&this.$element.hide()}},{key:"detach",value:function(){null!=this.$element&&this.$element.detach()}},{key:"remove",value:function(){null!=this.$element&&(this.$element.remove(),this.$element=null)}},{key:"appendTo",value:function(e){e.append(this.$element)}},{key:"clear",value:function(){null!=this.$element&&(this.$element.empty(),this.lines=[])}},{key:"move",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.leftCm+=e,this.topCm+=t;var r=this.leftCm,o=this.topCm;n&&(r=.2*Math.round(r/.2),o=.2*Math.round(o/.2)),i&&(this.leftCm=r,this.topCm=o),jQuery(this.$element).css("transform","translate("+r+"cm,"+o+"cm)")}},{key:"moveTo",value:function(e,t,n){this.move(e-this.leftCm,t-this.topCm,n)}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"createTextElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.createElement("text",t,{font:"16px Roboto","font-family":"sans-serif",fill:"#000","alignment-baseline":"hanging"});return null!=n&&i.attr(n),i.text(e),i}},{key:"getTextMetrics",value:function(t){var n=t[0].getBBox();return{height:n.height*e.cmPerPx,width:n.width*e.cmPerPx}}},{key:"addTextLine",value:function(e){this.lines.push(e),"text"==e.type&&(null==e.alignment&&(e.alignment=Nc.left),null==e.bold&&(e.bold=!1),null==e.italics&&(e.italics=!1))}},{key:"render",value:function(){var e=this,t=this.$element;null==t&&((t=this.createElement("g",this.parent)).addClass("svg_draggable"),t.addClass("svg_all_pointer_events"),this.$element=t,jQuery(this.$element).css("transform","translate("+this.leftCm+"cm,"+this.topCm+"cm)"));var n=this.createElement("rect",t[0]),i=.1,r=0,o=!0,a=!0,s=!1,l=void 0;try{for(var u,c=function(){var n=u.value;if("text"==n.type){o&&(i+=.1),o=!1,n.yCm=i,n.$element=e.createTextElement(n.text,t[0],{"font-weight":n.bold?"bold":"normal","font-size":"12pt","font-style":n.italics?"italic":"normal","text-anchor":n.alignment==Nc.left?"start":n.alignment==Nc.center?"middle":"end",cursor:null==n.onClick?"":"pointer"}),n.$element.css("transform","translate(0cm,"+i+"cm)"),null!=n.onClick&&(n.$element.addClass("clickable"),n.$element.on("mousedown",(function(e){n.onClick(),e.stopPropagation()})));var a=e.getTextMetrics(n.$element);n.textHeightCm=a.height,n.textWidthCm=a.width,r=Math.max(r,n.textWidthCm),i+=n.textHeightCm,null!=n.tooltip&&e.createElement("title",n.$element[0]).text(n.tooltip)}else n.yCm=i+n.thicknessCm/2,i+=n.thicknessCm+.1,o=!0},d=this.lines[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)c()}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}var h=.5+r;this.widthCm=.2*(Math.trunc(h/.2)+1),this.heightCm=.2*(Math.trunc(i/.2)+1);var p=h/2,f=h-.25;n.css({width:this.widthCm+"cm",height:this.heightCm+"cm",fill:this.backgroundColor,stroke:"#000","stroke-width":"0.05cm"});var y=!0,m=!1,v=void 0;try{for(var g,b=this.lines[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value;if("text"==w.type){var k=void 0;switch(w.alignment){case Nc.center:k=p;break;case Nc.left:k=.25;break;case Nc.right:k=f}w.$element.css("transform","translate("+k+"cm,"+w.yCm+"cm)")}else w.$element=this.createElement("line",t[0],{x1:"0",y1:w.yCm+"cm",x2:this.widthCm+"cm",y2:w.yCm+"cm"}),w.$element.css({stroke:"#000","stroke-width":w.thicknessCm+"cm"})}}catch(e){m=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(m)throw v}}}}])&&Hc(t.prototype,n),i&&Hc(t,i),e}();function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Zc(e,t){return!t||"object"!==Kc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qc(e,t,n){return(qc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Qc.cmPerPx=2.54/96;var Yc=function(e){function t(e,n,i,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Zc(this,Xc(t).call(this,e.svgElement))).diagram=e,o.active=!0,o.withMethods=!0,o.withAttributes=!0,o.klass=r,null!=r&&(o.attachToClass(o.klass),o.isSystemClass=r.module.isSystemModule,o.withAttributes=!1,//!this.isSystemClass;
o.withMethods=!1),o.moveTo(n,i,!0),o}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,e),n=t,r=[{key:"deserialize",value:function(e,n){var i=new t(e,n.leftCm,n.topCm,null);return i.hashedSignature=n.hashedSignature,i.className=n.className,i.filename=n.filename,i.withAttributes=n.withAttributes,i.withMethods=n.withMethods,i.isSystemClass=n.isSystemClass,i}}],(i=[{key:"serialize",value:function(){return{className:this.className,filename:this.filename,hashedSignature:this.hashedSignature,withAttributes:this.withAttributes,withMethods:this.withMethods,isSystemClass:this.isSystemClass,leftCm:this.leftCm,topCm:this.topCm}}},{key:"attachToClass",value:function(e){this.klass=e;var t=this.getSignature(e);this.className!=e.identifier||this.hashedSignature!=t||this.widthCm<.7||this.documentation!=e.documentation?(this.isSystemClass=e.module.isSystemModule,this.renderLines()):this.addMouseEvents(),this.className=e.identifier,this.filename=e.module.file.name,this.hashedSignature=t,this.documentation=e.documentation}},{key:"jumpToDeclaration",value:function(e){this.diagram.main.jumpToDeclaration(this.klass.module,e.declaration)}},{key:"renderLines",value:function(){var e=this;if(this.clear(),this.addTextLine({type:"text",text:(this.klass instanceof X?"<<interface>> ":"")+this.klass.identifier,tooltip:Sc(this.klass,"",!0),alignment:Nc.center,bold:!0,italics:this.klass instanceof X,onClick:this.isSystemClass?void 0:function(){e.jumpToDeclaration(e.klass)}}),this.klass instanceof Z&&this.withAttributes){this.addTextLine({type:"line",thicknessCm:.05});var t=!0,n=!1,i=void 0;try{for(var r,o=function(){var t=r.value,n=e.getVisibilityText(t.visibility)+t.identifier;n+=":"+t.type.identifier,e.addTextLine({type:"text",text:n,tooltip:Sc(t),alignment:Nc.left,onClick:e.isSystemClass?void 0:function(){e.jumpToDeclaration(t)}})},a=this.klass.attributes[Symbol.iterator]();!(t=(r=a.next()).done);t=!0)o()}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}this.withMethods&&(this.addTextLine({type:"line",thicknessCm:.05}),this.klass.methods.filter((function(e){return"toJson()"!=e.signature})).forEach((function(t){var n=e.getVisibilityText(t.visibility)+t.identifier+"()";e.addTextLine({type:"text",text:n,tooltip:Sc(t),alignment:Nc.left,italics:e.klass instanceof X,onClick:e.isSystemClass?void 0:function(){e.jumpToDeclaration(t)}})}))),this.backgroundColor=this.isSystemClass?"#aaaaaa":"#ffffff",this.render(),this.$dropdownTriangle=this.createElement("path",this.$element[0],{d:this.getTrianglePath(),class:"dropdown-triangle",style:"transform: translate("+(this.widthCm-.35)+"cm,0.05cm)"}),this.addMouseEvents()}},{key:"getTrianglePath",value:function(){return this.withMethods?"M 0 8 L 11 8 L 5.5 2 L 0 8":"M 0 2 L 11 2 L 5.5 8 L 0 2"}},{key:"detach",value:function(){var e;null===(e=this.$element)||void 0===e||e.off("mousedown.diagramElement"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),qc(Xc(t.prototype),"detach",this).call(this)}},{key:"addMouseEvents",value:function(){var e=this,t=this;null!=this.$dropdownTriangle&&(this.$dropdownTriangle.off("mouseup.dropdowntriangle"),this.$dropdownTriangle.off("mousedown.dropdowntriangle")),this.$dropdownTriangle.on("mousedown.dropdowntriangle",(function(e){e.stopPropagation()})),this.$dropdownTriangle.on("mouseup.dropdowntriangle",(function(t){t.stopPropagation(),e.withMethods=!e.withMethods,e.withAttributes=!e.withAttributes,e.$dropdownTriangle.attr("d",e.getTrianglePath()),e.renderLines(),e.diagram.adjustClassDiagramSize(),e.diagram.updateArrows()})),this.$element.on("mousedown.diagramElement",(function(n){if(n.stopPropagation(),n.stopImmediatePropagation(),0==n.button){var i=n.screenX,r=n.screenY;t.$element.find("rect").addClass("dragging"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),jQuery(document).on("mousemove.diagramElement",(function(n){var o=1/96*2.36/e.diagram.zoomfactor,a=(n.screenX-i)*o,s=(n.screenY-r)*o;i=n.screenX,r=n.screenY,t.move(a,s,!0),clearTimeout(t.inDebounce),t.inDebounce=setTimeout((function(){t.diagram.updateArrows()}),200)})),jQuery(document).on("mouseup.diagramElement",(function(){t.move(0,0,!0,!0);var e=t.diagram;e.adjustClassDiagramSize(),e.updateArrows(),t.$element.find("rect").removeClass("dragging"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),e.dirty=!0}))}}))}},{key:"getVisibilityText",value:function(e){switch(e){case I.private:return"-";case I.protected:return"#";case I.public:return"+"}}},{key:"getSignature",value:function(e){var t="";if(e instanceof Z&&this.withAttributes&&e.attributes.length>0){var n=!0,i=!1,r=void 0;try{for(var o,a=e.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t+=this.getVisibilityText(s.visibility)+s.identifier}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}if(this.withMethods&&e.methods.length>0){var l=!0,u=!1,c=void 0;try{for(var d,h=e.methods[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;p.isConstructor||(t+=this.getVisibilityText(p.visibility)+p.identifier+"()")}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}return function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(t)}},{key:"hasSignatureAndFileOf",value:function(e){return e.module.file.name==this.filename&&this.getSignature(e)==this.hashedSignature}}])&&Uc(n.prototype,i),r&&Uc(n,r),t}(Qc);function ed(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var td=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"makeHead",value:function(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);if(o<1e-5)return{path:"",stroke:"none",fill:"none"};var a=i/o,s=r/o,l="M "+.2*t.x/id.cmPerPx+" "+.2*t.y/id.cmPerPx,u=this.arrows[n],c=!0,d=!1,h=void 0;try{for(var p,f=u.steps[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,m=y.r/180*Math.PI,v=a*Math.cos(m)-s*Math.sin(m),g=a*Math.sin(m)+s*Math.cos(m);l+=" l "+v*y.f/id.cmPerPx+" "+g*y.f/id.cmPerPx,a=v,s=g}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return{path:l,fill:u.fill,stroke:u.stroke}}}],(n=null)&&ed(t.prototype,n),i&&ed(t,i),e}();function nd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}td.rauteAlpha=60,td.arrows={inheritance:{steps:[{r:150,f:.4},{r:120,f:.4},{r:120,f:.4}],stroke:"#000000",fill:"#ffffff","stroke-dasharray":void 0},realization:{steps:[{r:150,f:.4},{r:120,f:.4},{r:120,f:.4}],stroke:"#000000",fill:"#8080ff","stroke-dasharray":"4"},composition:{steps:[{r:90+td.rauteAlpha,f:.3},{r:180-2*td.rauteAlpha,f:.3},{r:2*td.rauteAlpha,f:.3},{r:180-2*td.rauteAlpha,f:.3}],stroke:"#000000",fill:"#ffffff","stroke-dasharray":void 0}};var id=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.routingArrow=n,this.color=i}var t,n,i;return t=e,(n=[{key:"show",value:function(){null!=this.$element&&this.$element.show()}},{key:"hide",value:function(){null!=this.$element&&this.$element.hide()}},{key:"detach",value:function(){null!=this.$element&&this.$element.detach()}},{key:"remove",value:function(){null!=this.$element&&this.$element.remove()}},{key:"appendTo",value:function(e){e.append(this.$element)}},{key:"clear",value:function(){null!=this.$element&&this.$element.empty()}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"createTextElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.createElement("text",t,{font:"16px Roboto","font-family":"sans-serif",fill:"#000","alignment-baseline":"hanging"});return null!=n&&i.attr(n),i.text(e),i}},{key:"getTextMetrics",value:function(t){var n=t[0].getBBox();return{height:n.height*e.cmPerPx,width:n.width*e.cmPerPx}}},{key:"render",value:function(){var e=this.$element;null==e?(e=this.createElement("g",this.parent),this.$element=e,e.css("stroke",this.color)):e.empty();var t=this.routingArrow.minimalPoints;if(!(null==t||t.length<2)){for(var n="M "+this.getPathCoordinates(t[0]),i=1;i<t.length;i++)n+=" L "+this.getPathCoordinates(t[i]);var r=td.arrows[this.routingArrow.arrowType];for(this.createElement("path",e[0],{d:n}).css({"stroke-width":"0.2 cm",fill:"none","stroke-dasharray":r["stroke-dasharray"]});t.length>1&&t[t.length-1].x==t[t.length-2].x&&t[t.length-1].y==t[t.length-2].y;)t.pop();if(t.length>1&&null==this.routingArrow.endsOnArrowWithIdentifier){var o=td.makeHead(t[t.length-2],t[t.length-1],this.routingArrow.arrowType);this.createElement("path",e[0],{d:o.path}).css({stroke:this.color,"stroke-width":"0.2 cm",fill:o.fill})}}}},{key:"getPathCoordinates",value:function(t){return.2*t.x/e.cmPerPx+" "+.2*t.y/e.cmPerPx}}])&&nd(t.prototype,n),i&&nd(t,i),e}();function rd(e){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function od(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ad(e){return(ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ld(e,t){return(ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}id.cmPerPx=2.54/96;var ud=function(e){function t(e,n){var i,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(i=!(o=ad(t).call(this,e,n))||"object"!==rd(o)&&"function"!=typeof o?sd(r):o).$htmlElement=e,i.classBoxesRepository={},i.arrows=[],i.currentWorkspaceId=null,i.version=0,i.straightArrowSectionAfterRectangle=2,i.distanceFromRectangles=2,i.slotDistance=2,i.dirty=!1;var a=sd(i);return i.$menuButton.on("click",(function(e){e.preventDefault();var t=1==a.currentClassBoxes.displaySystemClasses;Vu([{caption:t?"Systemklassen ausblenden":"Systemklassen einblenden",callback:function(){a.currentClassBoxes.displaySystemClasses=!t,a.drawDiagram(a.currentWorkspace,!1)}}],e.pageX+2,e.pageY+2),e.stopPropagation()})),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ld(e,t)}(t,e),n=t,(i=[{key:"clearAfterLogout",value:function(){this.classBoxesRepository={},this.arrows.forEach((function(e){e.remove()})),$(this.svgElement).empty()}},{key:"serialize",value:function(){var e={classBoxes:[],displaySystemClasses:this.currentClassBoxes.displaySystemClasses};for(var t in this.classBoxesRepository){var n=this.classBoxesRepository[t],i=!0,r=!1,o=void 0;try{for(var a,s=n.active[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value.serialize();l.workspaceId=Number.parseInt(t),e.classBoxes.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return e}},{key:"deserialize",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.classBoxes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=this.classBoxesRepository[a.workspaceId];null==s&&(s={active:[],inactive:[],displaySystemClasses:!1},this.classBoxesRepository[a.workspaceId]=s),s.inactive.push(Yc.deserialize(this,a)),s.displaySystemClasses=e.displaySystemClasses}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"adjustClassDiagramSize",value:function(){var e=this.classBoxesRepository[this.currentWorkspaceId];this.adjustSizeAndElements(e.active)}},{key:"getClassBoxes",value:function(e){var t=this.classBoxesRepository[e.id];return null==t&&(t={active:[],inactive:[],displaySystemClasses:!1},this.classBoxesRepository[e.id]=t),t}},{key:"switchToWorkspace",value:function(e){var t=this.getClassBoxes(e);if(this.currentWorkspaceId!=e.id){if(null!=this.currentWorkspaceId){var n=this.classBoxesRepository[this.currentWorkspaceId],i=!0,r=!1,o=void 0;try{for(var a,s=n.active[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)a.value.detach()}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var l=!0,u=!1,c=void 0;try{for(var d,h=n.inactive[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)d.value.detach()}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}var p=!0,f=!1,y=void 0;try{for(var m,v=t.active[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value;this.svgElement.appendChild(g.$element[0])}}catch(e){f=!0,y=e}finally{try{p||null==v.return||v.return()}finally{if(f)throw y}}var b=!0,w=!1,k=void 0;try{for(var S,P=t.inactive[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;null!=x.$element&&this.svgElement.appendChild(x.$element[0])}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}this.adjustSizeAndElements(t.active)}return this.currentWorkspaceId=e.id,t}},{key:"drawDiagram",value:function(e,t){var n,i=this;if(null!=e){this.currentWorkspace=e,this.currentClassBoxes=this.switchToWorkspace(e);var r=e.moduleStore,o=[],a=!1,s=[],l=[],u=!0,c=!1,d=void 0;try{for(var h,p=r.getModules(!1)[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=null===(n=null==f?void 0:f.typeStore)||void 0===n?void 0:n.typeList;null!=y&&(a=!0,y.filter((function(e){return e instanceof Z||e instanceof X})).forEach((function(e){var t=i.findAndEnableClass(e,i.currentClassBoxes,s);null!=t&&o.push(t),e instanceof Z&&e.registerUsedSystemClasses(l)})))}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}for(var m=[];m.length<l.length;){m=l.slice(0);var v=!0,g=!1,b=void 0;try{for(var w,k=m[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var S=w.value;S instanceof Z&&S.registerUsedSystemClasses(l)}}catch(e){g=!0,b=e}finally{try{v||null==k.return||k.return()}finally{if(g)throw b}}}if(this.currentClassBoxes.displaySystemClasses){var P=!0,x=!1,C=void 0;try{for(var T,M=l[Symbol.iterator]();!(P=(T=M.next()).done);P=!0){var j=T.value,E=this.findAndEnableClass(j,this.currentClassBoxes,s);null!=E&&o.push(E)}}catch(e){x=!0,C=e}finally{try{P||null==M.return||M.return()}finally{if(x)throw C}}}this.dirty=this.dirty||s.length>0;for(var O=0,D=s;O<D.length;O++){var _=D[O],A=new Yc(this,10*Math.random()*.2,10*Math.random()*.2,_);A.renderLines();var F=this.findFreeSpace(o,A.widthCm,A.heightCm,this.minDistance);A.moveTo(F.x,F.y,!0),o.push(A)}if(s.length>0&&this.adjustSizeAndElements(o),a){var I=!0,z=!1,L=void 0;try{for(var B,R=this.currentClassBoxes.active[Symbol.iterator]();!(I=(B=R.next()).done);I=!0){var W=B.value;W.hide(),W.active=!1,this.currentClassBoxes.inactive.push(W)}}catch(e){z=!0,L=e}finally{try{I||null==R.return||R.return()}finally{if(z)throw L}}this.currentClassBoxes.active=o,t||(this.adjustClassDiagramSize(),this.updateArrows())}}}},{key:"updateArrows",value:function(){this.$htmlElement.find(".jo_classdiagram-spinner").hide();var e=["#0075dc","#993f00","#005c31","#ff5005","#2bce48","#0000ff","#ffa405","#ffa8bb","#740aff","#990000","#ff0000"],t=0,n=this.drawArrows();this.version++,n.version=this.version,null!=this.routingWorker&&this.routingWorker.terminate(),this.routingWorker=new Worker("js/main/gui/diagrams/classdiagram/Router.js");var i=this;this.routingWorker.onmessage=function(n){var r=n.data;r.version==i.version&&function(){i.$htmlElement.find(".jo_classdiagram-spinner").hide(),i.arrows.forEach((function(e){e.remove()}));var n,o={},a=r.arrows.length+1;do{n=a,a=0,r.arrows.forEach((function(n){null==n.color&&(a++,null==n.endsOnArrowWithIdentifier?(n.color=e[t],o[n.identifier]=n.color,++t>e.length-1&&(t=0)):n.color=o[n.endsOnArrowWithIdentifier])}))}while(a<n);r.arrows.forEach((function(e){null==e.color&&(e.color="#ff0000")})),r.arrows.forEach((function(e){var t=new id(i.svgElement,e,e.color);t.render(),i.arrows.push(t)}))}()},this.routingWorker.postMessage(n),this.$htmlElement.find(".jo_classdiagram-spinner").show()}},{key:"drawArrows",value:function(){var e=this,t={rectangles:[],arrows:[],xMax:Math.ceil(this.widthCm/.2),yMax:Math.ceil(this.heightCm/.2),straightArrowSectionAfterRectangle:this.straightArrowSectionAfterRectangle,distanceFromRectangles:this.distanceFromRectangles,slotDistance:this.slotDistance},n=this.classBoxesRepository[this.currentWorkspaceId];return n.active.forEach((function(e){t.rectangles.push(e.getRoutingRectangle())})),n.active.forEach((function(i){if(i.klass instanceof Z){if(null!=i.klass.baseClass){var r=e.findClassbox(i.klass.baseClass,n.active);null!=r&&e.drawArrwow(i,r,"inheritance",t)}var o=!0,a=!1,s=void 0;try{for(var l,u=i.klass.implements[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=e.findClassbox(c,n.active);null!=d&&e.drawArrwow(i,d,"realization",t)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h=!0,p=!1,f=void 0;try{for(var y,m=i.klass.getCompositeData()[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var v=y.value,g=e.findClassbox(v.klass,n.active);null!=g&&e.drawArrwow(g,i,"composition",t)}}catch(e){p=!0,f=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw f}}}})),t}},{key:"drawArrwow",value:function(e,t,n,i){e.getRoutingRectangle(),t.getRoutingRectangle();var r=this.classBoxesRepository[this.currentWorkspaceId];i.arrows.push({arrowType:n,destRectangleIndex:r.active.indexOf(t),sourceRectangleIndex:r.active.indexOf(e),destinationIdentifier:t.className,identifier:e.className+"(extends)"+t.className})}},{key:"findClassbox",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.klass==e)return s}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return null}},{key:"findAndEnableClass",value:function(e,t,n){for(var i=0;i<t.active.length;){var r=t.active[i];if(r.className==e.identifier||r.hasSignatureAndFileOf(e))return r.attachToClass(e),t.active.splice(i,1),r;i++}for(i=0;i<t.inactive.length;){var o=t.inactive[i];if(o.className==e.identifier||o.hasSignatureAndFileOf(e))return t.inactive.splice(i,1),o.klass=e,o.renderLines(),o.show(),o.active=!0,this.dirty=!0,o;i++}return n.push(e),null}},{key:"clear",value:function(){var e=this.classBoxesRepository[this.currentWorkspaceId];if(null!=e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.active[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.detach()}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}}])&&od(n.prototype,i),r&&od(n,r),t}(Gc);function cd(e){return(cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pd(e,t){return!t||"object"!==cd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fd(e){return(fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yd(e,t){return(yd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var md=function(e){function t(){return dd(this,t),pd(this,fd(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yd(e,t)}(t,e),n=t,(i=[{key:"getSettingsElement",value:function(){var e,t=this,n=this.main.getCurrentWorkspace().moduleStore,i=jQuery("<span>Start der Liste:&nbsp;</span>");this.$selectElement=jQuery("<select></select>"),i.append(this.$selectElement);var r=!0,o=!1,a=void 0;try{for(var s,l=function(){var n=s.value,i=null===(e=n.mainSymbolTable)||void 0===e?void 0:e.childSymbolTables;if(null==i||0==i.length)return"continue";var r=i[0].variableMap;if(null==r||null!=i[0].classContext)return"continue";r.forEach((function(e,i){var r=e.type;if(null!=r&&r instanceof Z&&null!=r.module&&!r.module.isSystemModule){var o=i==t.rootIdentifier?" selected":"";t.$selectElement.append('<option value="'+i+o+'">'+i+' (Modul "'+n.file.name+'")</option>')}}))},u=n.getModules(!1)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)l()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return i}},{key:"getName",value:function(){return"Liste"}},{key:"updateDiagram",value:function(){var e,t=null===(e=this.main.getInterpreter().heap[this.rootIdentifier])||void 0===e?void 0:e.value;if(null!=t){null!=t.type&&t.type instanceof Z||this.objectDiagram.error("Die Variable "+this.rootIdentifier+" zeigt auf kein Objekt.");var n,i=t.type,r=t.value,o=this.analyzeSelfReference(i),a=[];if(null==o)for(var s=i;null!=s&&!(s instanceof re);){var l=!0,u=!1,c=void 0;try{for(var d,h=s.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=r.attributeValues[s.identifier][p.identifier];if(f.type instanceof Z)if(null!=n&&n==p.type)a.push(p.identifier);else{var y=this.analyzeSelfReference(f.type);null!=y&&(n=y)}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}s=s.baseClass}null==o&&null==n?this.objectDiagram.error("Konnte kein sich selbst referenzierendes Objekt finden."):this.drawDiagram(t,o,a,n)}else this.objectDiagram.error("Konnte die Variable "+this.rootIdentifier+" nicht finden.")}},{key:"drawDiagram",value:function(e,t,n,i){}},{key:"analyzeSelfReference",value:function(e){for(var t=[],n=e;null!=n&&!(n instanceof re);)n.implements.length>0&&(t=t.concat(n.implements)),null==n.baseClass||n.baseClass instanceof re||(void 0).push(n.baseClass),n=n.baseClass;for(n=e;null!=n&&!(n instanceof re);){var i=!0,r=!1,o=void 0;try{for(var a,s=n.attributes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value.type;if(t.indexOf(l)>=0||(void 0).indexOf(l)>=0)return l}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}n=n.baseClass}return null}},{key:"clear",value:function(){}}])&&hd(n.prototype,i),r&&hd(n,r),t}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.objectDiagram=n}));function vd(e){return(vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bd(e){return(bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kd(e,t){return(kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sd=function(e){function t(e,n){var i,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(i=!(o=bd(t).call(this,n.find(".jo_objectdiagram-canvas"),e))||"object"!==vd(o)&&"function"!=typeof o?wd(r):o).$objectDiagramDiv=n,i.variants=[],i.currentVariant=null,i.variants.push(new md(e,wd(i)));var a=n.find(".jo_objectdiagram-type");a.empty(),a.append('<option value="none" selected>Bitte auswÃ¤hlen...</option>');var s=!0,l=!1,u=void 0;try{for(var c,d=i.variants[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.append('<option value="0">'+h.getName()+"</option>")}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var p=wd(i);return a.on("change",(function(e){var t=e.currentTarget.value;if(null==t)null!=p.currentVariant&&(p.$canvas.find(".jo_objectDiagramError").remove(),p.currentVariant.clear()),p.currentVariant=null;else{var n=Number.parseInt(t);p.currentVariant=p.variants[n]}p.updateSettings()})),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kd(e,t)}(t,e),n=t,(i=[{key:"error",value:function(e){this.$canvas.append('<div class="jo_objectDiagramError">'+e+"</div>")}},{key:"updateSettings",value:function(){var e=this.$objectDiagramDiv.find(".jo_objectdiagram-settings");null!=this.currentVariant?(e.empty(),e.append(this.currentVariant.getSettingsElement())):e.empty()}},{key:"updateDiagram",value:function(){null!=this.currentVariant&&this.currentVariant.updateDiagram()}}])&&gd(n.prototype,i),r&&gd(n,r),t}(Gc);function Pd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xd=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$rightDiv=n,this.isWholePage=!1,this.$tabs=n.find(".jo_tabs"),this.$headings=n.find(".jo_tabheadings");var i=this.$headings.find(".jo_classDiagramTabHeading").length>0,r=this.$headings.find(".jo_objectDiagramTabHeading").length>0;i&&(this.classDiagram=new ud(this.$tabs.find(".jo_classdiagram"),t),this.$headings.find(".jo_classDiagramTabHeading").on("click",(function(){o.main.drawClassDiagrams(!1)}))),r&&(this.objectDiagram=new Sd(this.main,this.$tabs.find(".jo_objectdiagram")),this.$headings.find(".jo_objectDiagramTabHeading").on("click",(function(){o.onObjectDiagramEnabled()})));var o=this,a="100%";n.find(".jo_whole-window").on("click",(function(){o.isWholePage=!o.isWholePage;var e=jQuery(".jo_whole-window");o.isWholePage?(jQuery("#code").css("display","none"),a=jQuery("#rightdiv").css("width"),jQuery("#rightdiv").css("width","100%"),e.removeClass("img_whole-window"),e.addClass("img_whole-window-back"),jQuery(".jo_control-container").append(jQuery("#controls")),e.attr("title","Auf normale GrÃ¶Ãe zurÃ¼ckfÃ¼hren"),jQuery(".jo_graphics").trigger("sizeChanged")):(jQuery("#code").css("display","flex"),jQuery("#rightdiv").css("width",a),e.removeClass("img_whole-window-back"),e.addClass("img_whole-window"),jQuery("#controls").insertAfter(jQuery("#view-mode")),e.attr("title","Auf FenstergrÃ¶Ãe vergrÃ¶Ãern"),jQuery(".jo_graphics").trigger("sizeChanged"))}))}var t,n,i;return t=e,(n=[{key:"adjustWidthToWorld",value:function(){var e=this.main.getInterpreter().worldHelper;if(null!=e&&this.isWholePage){var t=window.innerHeight-this.$headings.height()-6,n=window.innerWidth/t,i=e.width/e.height;if(i<=n){var r=i*t;this.$tabs.find(".jo_run").css("width",r+"px"),this.$tabs.find(".jo_run").css("height",t+"px")}else{var o=window.innerWidth/i;this.$tabs.find(".jo_run").css("width",window.innerWidth+"px"),this.$tabs.find(".jo_run").css("height",o+"px")}}}},{key:"initGUI",value:function(){Nu(this.$rightDiv)}},{key:"isClassDiagramEnabled",value:function(){var e=this.$headings.find(".jo_classDiagramTabHeading");return 0!=e.length&&e.hasClass("jo_active")}},{key:"isObjectDiagramEnabled",value:function(){var e=this.$headings.find(".jo_objectDiagramTabHeading");return 0!=e.length&&e.hasClass("jo_active")}},{key:"updateObjectDiagramSettings",value:function(){this.isObjectDiagramEnabled&&this.objectDiagram.updateSettings()}},{key:"onObjectDiagramEnabled",value:function(){this.objectDiagram.updateSettings(),this.main.getInterpreter().state!=Xi.paused&&this.main.getInterpreter().state!=Xi.running||this.objectDiagram.updateDiagram()}}])&&Pd(t.prototype,n),i&&Pd(t,i),e}();function Cd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Td=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workspace=t,this.main=n,this.programMap=new Map,this.compiler=new lc(n)}var t,n,i;return t=e,(n=[{key:"compile",value:function(e,t){if(null!=t){var n=this.programMap.get(e);if(null!=n){var i=n.get(t.id);if(null!=i)return{error:null,program:i}}else n=new Map,this.programMap.set(e,n);var r=this.workspace.moduleStore,o=this.main.getInterpreter().heap;if(e.length>0&&null!=r){var a=this.compiler.compile(e,r,o,t);return a.errors.length>0?{error:a.errors[0].text,program:null}:(n.set(t.id,a.program),{error:null,program:a.program})}return{error:"Leerer Ausdruck",program:null}}}},{key:"evaluate",value:function(e,t){null==t&&(t=this.main.getDebugger().lastSymboltable);var n=this.compile(e,t);return null!=(null==n?void 0:n.error)?{error:n.error,value:null}:null==n?{error:"Fehler beim Kompilieren",value:null}:this.main.getInterpreter().evaluate(n.program)}}])&&Cd(t.prototype,n),i&&Cd(t,i),e}();function Md(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var jd=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.saved=!0,this.name=t,this.owner_id=i,this.moduleStore=new Au(n),this.evaluator=new Td(this,n)}var t,n,i;return t=e,i=[{key:"restoreFromData",value:function(t,n){var i=new e(t.name,n,t.owner_id);i.id=t.id,i.owner_id=t.owner_id,i.version=t.version,i.repository_id=t.repository_id,i.has_write_permission_to_repository=t.has_write_permission_to_repository;var r=!0,o=!1,a=void 0;try{for(var s,l=t.files[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=Du.restoreFromData(u,n);i.moduleStore.putModule(c),u.id==t.currentFileId&&(i.currentlyOpenModule=c)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i}}],(n=[{key:"getWorkspaceData",value:function(e){var t={name:this.name,id:this.id,owner_id:this.owner_id,currentFileId:null==this.currentlyOpenModule?null:this.currentlyOpenModule.file.id,files:[],version:this.version,repository_id:this.repository_id,has_write_permission_to_repository:this.has_write_permission_to_repository};if(e){var n=!0,i=!1,r=void 0;try{for(var o,a=this.moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.files.push(s.getFileData(this))}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"renderSynchronizeButton",value:function(e){var t,n=null===(t=null==e?void 0:e.$htmlFirstLine)||void 0===t?void 0:t.find(".jo_additionalButtonRepository");if(null!=n){var i=this.main;if(null!=this.repository_id&&this.owner_id==i.user.id){var r=jQuery('<div class="jo_startButton img_open-change jo_button jo_active" title="Workspace mit Repository synchronisieren"></div>');n.append(r);var o=this;r.on("mousedown",(function(e){return e.stopPropagation()})),r.on("click",(function(e){e.stopPropagation(),o.synchronizeWithRepository()}))}else n.find(".jo_startButton").remove()}}},{key:"synchronizeWithRepository",value:function(){var e=this,t=this.main;null!=this.repository_id&&this.owner_id==t.user.id&&t.networkManager.sendUpdates((function(){t.synchronizationManager.synchronizeWithWorkspace(e)}),!0)}},{key:"hasErrors",value:function(){return this.moduleStore.hasErrors()}},{key:"getModuleByMonacoModel",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.model==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}}])&&Md(t.prototype,n),i&&Md(t,i),e}();function Ed(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Od=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=t,this.firstLast=n,this.horVert=i,this.callback=r,this.$otherDiv=o,this.initSlider()}var t,n,i;return t=e,(n=[{key:"initSlider",value:function(){var e=this,t=this;null==this.$otherDiv&&this.$container.parent().children().each((function(n,i){i!=e.$container[0]&&(t.$otherDiv=jQuery(i))})),this.$sliderDiv=jQuery('<div class="joe_slider"></div>'),this.$sliderDiv.css({width:this.horVert?"100%":"4px",height:this.horVert?"4px":"100%",cursor:this.horVert?"row-resize":"col-resize"}),this.firstLast?this.$sliderDiv.css({top:"0px",left:"0px"}):this.horVert?this.$sliderDiv.css({bottom:"0px",left:"0px"}):this.$sliderDiv.css({top:"0px",right:"0px"}),this.$container.append(this.$sliderDiv),this.$sliderDiv.on("mousedown",(function(e){var n=e.clientX,i=e.clientY;jQuery(document).on("mousemove.slider",(function(e){var r=e.clientX-n,o=e.clientY-i;t.slide(r,o),n=e.clientX,i=e.clientY})),jQuery(document).on("mouseup.slider",(function(){jQuery(document).off("mousemove.slider"),jQuery(document).off("mouseup.slider")}))})),setTimeout((function(){t.slide(1,1)}),600)}},{key:"setColor",value:function(e){this.$sliderDiv.css("background-color",e)}},{key:"slide",value:function(e,t){if(this.horVert){var n=Number.parseInt(this.$container.css("height").replace("px","")),i=Number.parseInt(this.$otherDiv.css("height").replace("px","")),r=this.firstLast?n-=t:n+=t,o=this.firstLast?i+=t:i-=t;this.$container.css("height",r+"px"),this.$otherDiv.css("height",o+"px"),this.callback(r)}else{var a=Number.parseInt(this.$container.css("width").replace("px","")),s=Number.parseInt(this.$otherDiv.css("width").replace("px","")),l=this.firstLast?a-=e:a+=e,u=this.firstLast?s+=e:s-=e;this.$container.css("width",l+"px"),this.$otherDiv.css("width",u+"px"),this.callback(l)}this.$container.css("flex","0 1 auto")}}])&&Ed(t.prototype,n),i&&Ed(t,i),e}();function Dd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _d=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moduleStore=t,this.$fileListDiv=n,this.main=i,this.files=[];var o=this,a=!0,s=!1,l=void 0;try{for(var u,c=t.getModules(!1)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;this.addModule(d)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=n.parent(),p=jQuery('<div class="joe_addFileButton jo_button img_add-dark jo_active" title="Datei hinzufÃ¼gen"></div>');h.append(p),p.on("click",(function(){var e=r.main.addModule({text:"",title:"Neue Datei.java",type:"java"}),t=r.addModule(e);r.renameElement(t,(function(){o.currentFile!=t&&o.selectFile(t)}))}))}var t,n,i;return t=e,(n=[{key:"removeAllFiles",value:function(){var e=this;this.files.forEach((function(t){return e.removeFile(t)}))}},{key:"addHint",value:function(e){var t=this,n=jQuery('<div class="jo_file jo_hint" ><div class="jo_fileimage"></div><div class="jo_filename" style="line-height: 22px">'+e.title+'</div><div class="jo_additionalButtons"></div></div></div>');this.$fileListDiv.append(n);var i={module:null,$fileDiv:n,type:"hint",hint:e.text};this.files.push(i),n.on("click",(function(e){t.selectFile(i)}))}},{key:"addModule",value:function(e){var t=this,n=jQuery('<div class="jo_file jo_java" >\n        <div class="jo_fileimage"></div>\n        <div class="jo_filename" style="line-height: 22px">'.concat(e.file.name,'</div>\n        <div class="jo_additionalButtonStart"></div>\n        <div class="jo_delete img_delete jo_button jo_active" title="Datei lÃ¶schen"></div></div></div>'));this.$fileListDiv.append(n);var i={module:e,$fileDiv:n,type:"java"};return this.files.push(i),e.file.panelElement={name:e.file.name,$htmlFirstLine:n},n.find(".jo_delete").on("mousedown",(function(e){t.onDelete(i,e)})),n.find(".jo_delete").on("click",(function(e){e.preventDefault(),e.stopPropagation()})),n.on("click",(function(e){t.selectFile(i)})),n[0].addEventListener("contextmenu",(function(e){e.preventDefault(),Vu([{caption:"Umbenennen",callback:function(){t.renameElement(i,(function(){}))}}],e.pageX,e.pageY)}),!1),i}},{key:"onDelete",value:function(e,t){t.preventDefault(),t.stopPropagation();var n=this;Vu([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: lÃ¶schen!",color:"#ff6060",callback:function(){n.removeFile(e)}}],t.pageX+2,t.pageY+2)}},{key:"removeFile",value:function(e){e.$fileDiv.remove(),this.main.removeModule(e.module),this.files=this.files.filter((function(t){return t!=e})),this.currentFile==e&&(this.files.length>0?this.selectFile(this.files[0]):(this.main.getMonacoEditor().setValue("Keine Datei vorhanden."),this.main.getMonacoEditor().updateOptions({readOnly:!0}))),this.files.forEach((function(e){null!=e.module&&(e.module.file.saved=!1)}))}},{key:"removeModule",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.files[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.module==e&&this.removeFile(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"renameElement",value:function(e,t){var n=e.$fileDiv.find(".jo_filename"),i=e.module.file.name.indexOf(".");$u(n,n,(function(i){e.module.file.name=i,n.html(i),null!=t&&t()}),null==i?null:{start:0,end:i})}},{key:"setFirstFileActive",value:function(){this.files.length>0&&this.selectFile(this.files[0])}},{key:"selectFile",value:function(e){var t=this;if(null!=e)switch(e.type){case"java":this.main.$hintDiv.hide(),this.main.$monacoDiv.show(),this.main.setModuleActive(e.module),this.main.getMonacoEditor().focus();break;case"hint":this.main.$monacoDiv.hide(),this.main.$hintDiv.show();var n={},i=[],r=window.markdownit({highlight:function(e,t){return i.push(e),""}});r.renderer.rules.code_inline=function(e,t,n,r,o){var a=e[t];return i.push(a.content),""},r.render(e.hint),this.colorize(i,n,(function(){var i=window.markdownit({highlight:function(e,t){return n[e]}});i.renderer.rules.code_inline=function(e,t,i,r,o){var a=e[t];return n[a.content].replace("<br/>","")};var r=i.render(e.hint);t.main.$hintDiv.html(r)})),this.$fileListDiv.find(".jo_file").removeClass("jo_active"),e.$fileDiv.addClass("jo_active")}}},{key:"colorize",value:function(e,t,n){var i=this;if(e.length>0){var r=e.pop();monaco.editor.colorize(r,"myJava",{tabSize:3}).then((function(o){t[r]=o,i.colorize(e,t,n)}))}else n()}},{key:"markFile",value:function(e){this.$fileListDiv.find(".jo_file").removeClass("jo_active"),this.currentFile=this.files.find((function(t){return t.module==e})),null!=this.currentFile&&this.currentFile.$fileDiv.addClass("jo_active")}}])&&Dd(t.prototype,n),i&&Dd(t,i),e}();function Ad(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Fd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"open",value:function(e){if(window.indexedDB){var t=window.indexedDB.open("LearnJ",1),n=this;t.onerror=function(e){console.log("Couldn't open IndexedDB: "+e.type)},t.onsuccess=function(i){n.db=t.result,n.db.onerror=function(e){console.log("Datenbankfehler: "+e.target.error.message)},e()},t.onupgradeneeded=function(e){n.db=e.target.result,n.db.createObjectStore("scripts",{keyPath:"scriptId",autoIncrement:!1}).transaction.oncomplete=function(e){}}}else console.log("IndexedDB not available.")}},{key:"writeScript",value:function(e,t){this.db.transaction("scripts","readwrite").objectStore("scripts").put({scriptId:e,script:t})}},{key:"removeScript",value:function(e){this.db.transaction("scripts","readwrite").objectStore("scripts").delete(e)}},{key:"getScript",value:function(e,t){var n=this.db.transaction("scripts","readwrite").objectStore("scripts").get(e);n.onerror=function(e){t(null)},n.onsuccess=function(e){null==n.result?t(null):t(n.result.script)}}}])&&Ad(t.prototype,n),i&&Ad(t,i),e}();function Id(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zd=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.semicolonPositions=[]}var t,n,i;return t=e,(n=[{key:"startRegistering",value:function(){this.semicolonPositions.forEach((function(e){return e.isThereAgain=!1})),this.time=(new Date).getTime()}},{key:"register",value:function(e,t){var n=this.semicolonPositions.find((function(t){return t.position.line==e.line&&t.position.column==e.column}));n?n.isThereAgain=!0:this.semicolonPositions.push({position:e,firstSeenMs:this.time,isThereAgain:!0,module:t})}},{key:"healSemicolons",value:function(){var e=this,t=(new Date).getTime();this.semicolonPositions=this.semicolonPositions.filter((function(e){return e.isThereAgain}));var n=this.main.getCurrentlyEditedModule(),i=this.main.getMonacoEditor().getPosition().lineNumber;this.semicolonPositions.filter((function(e){return t-e.firstSeenMs>2e3})).forEach((function(t){var r=null!=t.module.file.id&&t.module.file.id==n.file.id,o=[{range:new monaco.Range(t.position.line,t.position.column,t.position.line,t.position.column),text:";",forceMoveMarkers:!0}];if(r&&Math.abs(i-t.position.line)>1){var a=e.main.getMonacoEditor(),s=a.getSelection();a.executeEdits("Semicolon-Angel",o),a.setSelection(s),e.semicolonPositions.splice(e.semicolonPositions.indexOf(t),1)}}))}}])&&Id(t.prototype,n),i&&Id(t,i),e}();function Ld(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Bd,Rd=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scriptList=n,this.programPointerDecoration=[],this.programIsExecutable=!1,this.version=0,this.compileRunsAfterCodeReset=0,this.readConfig(t),this.initGUI(t),this.initScripts(),this.indexedDB=new Fd,this.indexedDB.open((function(){null!=i.config.id&&i.readScripts()})),this.semicolonAngel=new zd(this)}var t,n,i;return t=e,(n=[{key:"isEmbedded",value:function(){return!0}},{key:"jumpToDeclaration",value:function(e,t){}},{key:"getCompiler",value:function(){return this.compiler}},{key:"getInterpreter",value:function(){return this.interpreter}},{key:"getCurrentWorkspace",value:function(){return this.currentWorkspace}},{key:"getDebugger",value:function(){return this.debugger}},{key:"getMonacoEditor",value:function(){return this.editor.editor}},{key:"getRightDiv",value:function(){return this.rightDiv}},{key:"getBottomDiv",value:function(){return this.bottomDiv}},{key:"getActionManager",value:function(){return this.actionManager}},{key:"getCurrentlyEditedModule",value:function(){var e;return this.config.withFileList?null===(e=this.fileExplorer.currentFile)||void 0===e?void 0:e.module:this.currentWorkspace.moduleStore.getFirstModule()}},{key:"initScripts",value:function(){var e,t=this;null===(e=this.fileExplorer)||void 0===e||e.removeAllFiles(),this.initWorkspace(this.scriptList),this.config.withFileList?(this.fileExplorer=new _d(this.currentWorkspace.moduleStore,this.$filesListDiv,this),this.fileExplorer.setFirstFileActive(),this.scriptList.filter((function(e){return"hint"==e.type})).forEach((function(e){return t.fileExplorer.addHint(e)}))):this.setModuleActive(this.currentWorkspace.moduleStore.getFirstModule())}},{key:"readConfig",value:function(e){var t=e.data("java-online");this.config=null!=t&&"string"==typeof t?JSON.parse(t.split("'").join('"')):{},null==this.config.withFileList&&(this.config.withFileList=!0),null==this.config.withPCode&&(this.config.withPCode=!0),null==this.config.withConsole&&(this.config.withConsole=!0),null==this.config.withErrorList&&(this.config.withErrorList=!0),null==this.config.withBottomPanel&&(this.config.withBottomPanel=!0),this.config.withConsole||this.config.withPCode||this.config.withFileList||this.config.withErrorList||(this.config.withBottomPanel=!1),this.config.withBottomPanel||(this.config.withFileList=!1,this.config.withPCode=!1,this.config.withConsole=!1,this.config.withErrorList=!1)}},{key:"setModuleActive",value:function(e){this.config.withFileList&&null!=this.fileExplorer.currentFile&&(this.fileExplorer.currentFile.module.editorState=this.getMonacoEditor().saveViewState()),this.config.withFileList&&this.fileExplorer.markFile(e),this.getMonacoEditor().updateOptions({readOnly:!1,lineNumbersMinChars:4}),this.editor.editor.setModel(e.model),null!=e.editorState&&this.getMonacoEditor().restoreViewState(e.editorState),e.renderBreakpointDecorators()}},{key:"readScripts",value:function(){var e=this,t=this.currentWorkspace.moduleStore.getModules(!1),n=this;this.indexedDB.getScript(this.config.id,(function(i){var r;null==i?setInterval((function(){n.saveScripts()}),1e3):function(){var o=JSON.parse(i),a=o.length,s=!0,l=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null===(r=n.fileExplorer)||void 0===r||r.removeModule(h),n.removeModule(h)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var p=!0,f=!1,y=void 0;try{for(var m,v=function(){var t=m.value,i=e.config.id+t;e.indexedDB.getScript(i,(function(e){var i,r;if(null!=e){var o=n.addModule({title:t,text:e,type:"java"});null===(i=n.fileExplorer)||void 0===i||i.addModule(o),n.$resetButton.fadeIn(1e3)}if(0==--a&&(setInterval((function(){n.saveScripts()}),1e3),null===(r=n.fileExplorer)||void 0===r||r.setFirstFileActive(),null==n.fileExplorer)){var s=n.currentWorkspace.moduleStore.getModules(!1);s.length>0&&n.setModuleActive(s[0])}}))},g=o[Symbol.iterator]();!(p=(m=g.next()).done);p=!0)v()}catch(e){f=!0,y=e}finally{try{p||null==g.return||g.return()}finally{if(f)throw y}}}()}))}},{key:"saveScripts",value:function(){var e=this.currentWorkspace.moduleStore.getModules(!1),t=[],n=!1;if(e.forEach((function(e){return n=n||!e.file.saved})),n){var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.push(l.file.name);var u=this.config.id+l.file.name;this.indexedDB.writeScript(u,l.getProgramTextFromMonacoModel()),l.file.saved=!0}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.indexedDB.writeScript(this.config.id,JSON.stringify(t))}}},{key:"deleteScriptsInDB",value:function(){var e=this;this.indexedDB.getScript(this.config.id,(function(t){if(null!=t){var n=JSON.parse(t),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=e.config.id+l;e.indexedDB.removeScript(u)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}e.indexedDB.removeScript(e.config.id)}}))}},{key:"initWorkspace",value:function(e){this.currentWorkspace=new jd("Embedded-Workspace",this,0);var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;"java"==a.type&&this.addModule(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"addModule",value:function(e){var t=Du.restoreFromData({id:this.currentWorkspace.moduleStore.getModules(!0).length,name:e.title,text:e.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,workspace_id:0,forceUpdate:!1,identical_to_repository_version:!1},this);this.currentWorkspace.moduleStore.putModule(t);var n=this;return t.model.onDidChangeContent((function(){n.considerShowingCodeResetButton()})),t}},{key:"removeModule",value:function(e){this.currentWorkspace.moduleStore.removeModule(e)}},{key:"initGUI",value:function(e){var t=this;e.css({"background-image":"none","background-size":"100%"});var n=jQuery('<div class="joe_centerDiv"></div>'),i=this.makeCodeResetModalWindow(e),r=this.makeRightDiv(),o=jQuery('<div class="joe_editorDiv"></div>');this.$monacoDiv=jQuery('<div class="joe_monacoDiv"></div>'),this.$hintDiv=jQuery('<div class="joe_hintDiv jo_scrollable"></div>'),this.$resetButton=jQuery('<div class="joe_resetButton jo_button jo_active" title="Code auf Ausgangszustand zurÃ¼cksetzen">Code Reset</div>'),o.append(this.$monacoDiv,this.$hintDiv,this.$resetButton);var a=this.makeBracketErrorDiv();o.append(a),this.$resetButton.hide(),this.$resetButton.on("click",(function(){i.show()})),this.$hintDiv.hide();var s=jQuery('<div class="joe_controlsDiv"></div>'),l=jQuery('<div class="joe_bottomDivInner"></div>');if(this.config.withBottomPanel){var u=jQuery('<div class="joe_bottomDiv"></div>');if(this.makeBottomDiv(l,s),u.append(l),this.config.withFileList){var c=this.makeFilesDiv();u.prepend(c),new Od(c,!1,!1,(function(){}))}Nu(l),n.append(o,u),new Od(u,!0,!0,(function(){t.editor.editor.layout()}))}else n.prepend(o);this.config.withBottomPanel||(n.prepend(s),s.addClass("joe_controlPanel_top"),o.css({position:"relative",height:"1px"})),e.addClass("joe_javaOnlineDiv"),e.append(n,r),new Od(r,!0,!1,(function(){jQuery(".jo_graphics").trigger("sizeChanged"),t.editor.editor.layout()})),this.editor=new Ic(this,!1,!0),this.editor.initGUI(this.$monacoDiv),this.$monacoDiv.find(".monaco-editor").css("z-index","10"),null==e.attr("tabindex")&&e.attr("tabindex","0"),this.actionManager=new rc(e,this),this.actionManager.init(),this.bottomDiv=new bc(this,l,e),this.bottomDiv.initGUI(),this.rightDiv=new xd(this,this.$rightDivInner),this.rightDiv.initGUI(),this.debugger=new nc(this,this.$debuggerDiv,null),this.interpreter=new tr(this,this.debugger,new Rc(s,o),this.$runDiv);var d=jQuery('<div class="jo_button jo_active img_ellipsis-dark" style="margin-left: 16px"></div>');s.append(d),d.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),Vu([{caption:"Ãber Java-Online ...",link:"https://java.mathe-pabst.de",callback:function(){}}],e.pageX+2,e.pageY+2)})),setTimeout((function(){t.interpreter.initGUI(),t.editor.editor.layout(),t.compiler=new $d(t),t.startTimer()}),200)}},{key:"makeBracketErrorDiv",value:function(){return jQuery('\n        <div class="jo_parenthesis_warning" title="Klammerwarnung!" style="bottom: 55px">\n        <div class="jo_warning_light"></div>\n        <div class="jo_pw_heading">{ }</div>\n        <div title="Letzten Schritt rÃ¼ckgÃ¤ngig" \n            class="jo_pw_undo img_undo jo_button jo_active"></div>\n        </div>\n        ')}},{key:"makeCodeResetModalWindow",value:function(e){var t=this,n=jQuery('\n            <div class="joe_codeResetModal">\n            <div style="flex: 1"></div>\n            <div style="display: flex">\n                <div style="flex: 1"></div>\n                <div style="padding-left: 30px;">\n                <div style="color: red; margin-bottom: 10px; font-weight: bold">Warnung:</div>\n                <div>Soll der Code wirklich auf den Ausgangszustand zurÃ¼ckgesetzt werden?</div>\n                <div>Alle von Dir gemachten Ãnderungen werden damit verworfen.</div>\n                </div>\n                <div style="flex: 1"></div>\n            </div>\n            <div class="joe_codeResetModalButtons">\n            <div class="joe_codeResetModalCancel jo_button jo_active">Abbrechen</div>\n            <div class="joe_codeResetModalOK jo_button jo_active">OK</div>\n            </div>\n            <div style="flex: 2"></div>\n            </div>\n        ');return n.hide(),e.append(n),jQuery(".joe_codeResetModalCancel").on("click",(function(){n.hide()})),jQuery(".joe_codeResetModalOK").on("click",(function(){t.initScripts(),t.deleteScriptsInDB(),n.hide(),t.$resetButton.hide(),t.compileRunsAfterCodeReset=1})),n}},{key:"showProgramPointerPosition",value:function(e,t){if(null!=e){if(this.config.withFileList){var n=this.fileExplorer.files.find((function(t){return t.module.file==e}));if(null==n)return;n.module!=this.getCurrentlyEditedModule()&&this.setModuleActive(n.module),this.programPointerModule=n.module}else this.programPointerModule=this.currentWorkspace.moduleStore.getFirstModule();var i={startColumn:t.column,startLineNumber:t.line,endColumn:t.column+t.length,endLineNumber:t.line};this.getMonacoEditor().revealRangeInCenterIfOutsideViewport(i),this.programPointerDecoration=this.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[{range:i,options:{className:"jo_revealProgramPointer",isWholeLine:!0}},{range:i,options:{beforeContentClassName:"jo_revealProgramPointerBefore"}}])}}},{key:"hideProgramPointerPosition",value:function(){this.getCurrentlyEditedModule()==this.programPointerModule&&this.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[]),this.programPointerModule=null,this.programPointerDecoration=[]}},{key:"makeFilesDiv",value:function(){var e=jQuery('<div class="joe_bottomDivFiles jo_scrollable"></div>'),t=jQuery('<div class="joe_filesHeader jo_tabheading jo_active"  style="line-height: 24px">Programmdateien</div>');return this.$filesListDiv=jQuery('<div class="joe_filesList jo_scrollable"></div>'),e.append(t,this.$filesListDiv),e}},{key:"startTimer",value:function(){null!=this.timerHandle&&clearInterval(this.timerHandle);var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"compileIfDirty",value:function(){var e,t;if(null!=this.currentWorkspace&&this.currentWorkspace.moduleStore.isDirty()&&this.compiler.compilerStatus!=Bd.compiling&&this.interpreter.state!=Xi.running&&this.interpreter.state!=Xi.paused)try{this.compiler.compile(this.currentWorkspace.moduleStore),null===(t=null===(e=this.bottomDiv)||void 0===e?void 0:e.errorManager)||void 0===t||t.showErrors(this.currentWorkspace),this.editor.onDidChangeCursorPosition(null),this.printProgram(),this.version++;var n=null!=this.interpreter.getStartableModule(this.currentWorkspace.moduleStore);n&&this.interpreter.state==Xi.not_initialized&&(this.copyExecutableModuleStoreToInterpreter(),this.interpreter.setState(Xi.done)),n||this.interpreter.state!=Xi.done&&this.interpreter.state!=Xi.error||this.interpreter.setState(Xi.not_initialized)}catch(e){console.error(e),this.compiler.compilerStatus=Bd.error}}},{key:"considerShowingCodeResetButton",value:function(){this.compileRunsAfterCodeReset++,3==this.compileRunsAfterCodeReset&&this.$resetButton.fadeIn(1e3)}},{key:"printProgram",value:function(){this.bottomDiv.printModuleToBottomDiv(this.currentWorkspace,this.getCurrentlyEditedModule())}},{key:"drawClassDiagrams",value:function(e){}},{key:"copyExecutableModuleStoreToInterpreter",value:function(){var e=this.currentWorkspace.moduleStore.copy();this.interpreter.moduleStore=e,this.interpreter.moduleStoreVersion=this.version,this.interpreter.state==Xi.not_initialized&&this.programIsExecutable&&this.interpreter.setState(Xi.done)}},{key:"makeBottomDiv",value:function(e,t){var n=jQuery('<div class="jo_tabheadings"></div>');n.css("position","relative");var i=jQuery('<div class="joe_tabheading-right jo_noHeading"></div>');if(this.config.withConsole){var r=jQuery('<div class="img_clear-dark jo_button jo_active jo_console-clear"style="display: none; margin-right: 8px;" title="Console leeren"></div>');i.append(r)}if(i.append(t),this.config.withErrorList){var o=jQuery('<div class="jo_tabheading jo_active" data-target="jo_errorsTab" style="line-height: 24px">Fehler</div>');n.append(o)}if(this.config.withConsole){var a=jQuery('<div class="jo_tabheading jo_console-tab" data-target="jo_consoleTab" style="line-height: 24px">Console</div>');n.append(a)}if(this.config.withPCode){var s=jQuery('<div class="jo_tabheading" data-target="jo_pcodeTab" style="line-height: 24px">PCode</div>');n.append(s)}n.append(i),e.append(n);var l=jQuery('<div class="jo_tabs jo_scrollable"></div>');if(this.config.withErrorList){var u=jQuery('<div class="jo_active jo_scrollable jo_errorsTab"></div>');l.append(u)}if(this.config.withConsole){var c=jQuery('\n        <div class="jo_editorFontSize jo_consoleTab">\n        <div class="jo_console-inner">\n            <div class="jo_scrollable jo_console-top"></div>\n            <div class="jo_commandline"></div>\n        </div>\n        </div>\n    ');l.append(c)}if(this.config.withPCode){var d=jQuery('<div class="jo_scrollable jo_pcodeTab">PCode</div>');l.append(d)}e.append(l)}},{key:"makeRightDiv",value:function(){var e=jQuery('<div class="joe_rightDiv"></div>');this.$rightDivInner=jQuery('<div class="joe_rightDivInner"></div>'),e.append(this.$rightDivInner);var t=jQuery('<div class="jo_tabheadings"></div>');t.css("position","relative");var n=jQuery('<div class="jo_tabheading jo_active" data-target="jo_run" style="line-height: 24px">Ausgabe</div>'),i=jQuery('<div class="jo_tabheading jo_console-tab" data-target="jo_variablesTab" style="line-height: 24px">Variablen</div>');t.append(n,i),this.$rightDivInner.append(t);var r=jQuery('<div class="jo_tabs jo_scrollable"></div>'),o=jQuery('<div class="jo_scrollable jo_editorFontSize jo_variablesTab"></div>');this.$debuggerDiv=jQuery('<div class="joe_debuggerDiv"></div>');var a=jQuery('\n            <div class="jo_alternativeText jo_scrollable">\n            <div style="font-weight: bold">Tipp:</div>\n            Die Variablen sind nur dann sichtbar, wenn das Programm\n            <ul>\n            <li>im Einzelschrittmodus ausgefÃ¼hrt wird(Klick auf <span class="img_step-over-dark jo_inline-image"></span>),</li>\n            <li>an einem Breakpoint hÃ¤lt (Setzen eines Breakpoints mit Mausklick links neben den Zeilennummern und anschlieÃendes Starten des Programms mit \n            <span class="img_start-dark jo_inline-image"></span>) oder </li>\n            <li>in sehr niedriger Geschwindigkeit ausgefÃ¼hrt wird (weniger als 10 Schritte/s).\n            </ul>\n            </div>\n        ');return o.append(this.$debuggerDiv,a),this.$runDiv=jQuery('\n<div class="jo_tab jo_active jo_run">\n<div class="jo_run-programend">Programm beendet</div>\n<div class="jo_run-input">\n    <div>\n        <div>\n            <div class="jo_run-input-message" class="jo_rix">Bitte geben Sie eine Zahl ein!</div>\n            <input class="jo_run-input-input" type="text" class="jo_rix">\n            <div class="jo_run-input-button-outer" class="jo_rix">\n                <div class="jo_run-input-button" class="jo_rix">OK</div>\n            </div>\n\n            <div class="jo_run-input-error" class="jo_rix"></div>\n        </div>\n    </div>\n</div> \n<div class="jo_run-inner">\n    <div class="jo_graphics"></div>\n    <div class="jo_output jo_scrollable"></div>\n</div>\n\n</div>\n\n'),r.append(this.$runDiv,o),this.$rightDivInner.append(r),Nu(e),e}},{key:"getSemicolonAngel",value:function(){return this.semicolonAngel}}])&&Ld(t.prototype,n),i&&Ld(t,i),e}();function Wd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.compiling=0]="compiling",e[e.error=1]="error",e[e.compiledButNothingToRun=2]="compiledButNothingToRun",e[e.readyToRun=3]="readyToRun"}(Bd||(Bd={}));var $d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.compilerStatus=Bd.compiledButNothingToRun}var t,n,i;return t=e,(n=[{key:"compile",value:function(e){this.compilerStatus=Bd.compiling;var t=performance.now();e.clearUsagePositions();var n=new m,i=!0,r=!1,o=void 0;try{for(var a,s=e.getModules(!1)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.file.dirty=!1,l.clear();var u=n.lex(l.getProgramTextFromMonacoModel());l.errors[0]=u.errors,l.tokenList=u.tokens,l.bracketError=u.bracketError,l.file.name==this.main.getCurrentlyEditedModule().file.name&&null!=this.main.getBottomDiv()&&this.main.getBottomDiv().errorManager.showParenthesisWarning(u.bracketError)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.main.getSemicolonAngel().startRegistering();var c=new Jt(!1),d=!0,h=!1,p=void 0;try{for(var f,y=e.getModules(!1)[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;c.parse(v)}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}new nn(this.main).start(e);var g=new Zt,b=!0,w=!1,k=void 0;try{for(var S,P=e.getModules(!1)[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;g.start(x,e)}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}var C=!0,T=!0,M=!1,j=void 0;try{for(var E,O=e.getModules(!1)[Symbol.iterator]();!(T=(E=O.next()).done);T=!0){var D=E.value;D.dependsOnModulesWithErrors=D.hasErrors(),D.dependsOnModulesWithErrors&&(C=!1)}}catch(e){M=!0,j=e}finally{try{T||null==O.return||O.return()}finally{if(M)throw j}}for(var _=!1;!_;){_=!0;var A=!0,F=!1,I=void 0;try{for(var z,L=e.getModules(!1)[Symbol.iterator]();!(A=(z=L.next()).done);A=!0){var B=z.value;if(!B.dependsOnModulesWithErrors){var R=!0,W=!1,$=void 0;try{for(var V,N=e.getModules(!1)[Symbol.iterator]();!(R=(V=N.next()).done);R=!0){var G=V.value;if(B.dependsOnModules.get(G)&&G.dependsOnModulesWithErrors){B.dependsOnModulesWithErrors=!0,_=!1;break}}}catch(e){W=!0,$=e}finally{try{R||null==N.return||N.return()}finally{if(W)throw $}}}}}catch(e){F=!0,I=e}finally{try{A||null==L.return||L.return()}finally{if(F)throw I}}}this.atLeastOneModuleIsStartable=!1;var H=!0,Q=!1,K=void 0;try{for(var U,Z=e.getModules(!1)[Symbol.iterator]();!(H=(U=Z.next()).done);H=!0){var q=U.value;q.isStartable=q.hasMainProgram()&&!q.dependsOnModulesWithErrors,q.isStartable&&(this.atLeastOneModuleIsStartable=!0),this.main instanceof Rd&&!this.main.config.withFileList||q.renderStartButton()}}catch(e){Q=!0,K=e}finally{try{H||null==Z.return||Z.return()}finally{if(Q)throw K}}this.atLeastOneModuleIsStartable?this.compilerStatus=Bd.readyToRun:this.compilerStatus=C?Bd.error:Bd.compiledButNothingToRun;var X=performance.now()-t,J="Compiled in "+(X=Math.round(100*X)/100)+" ms.";return this.main.getCurrentWorkspace().compilerMessage=J,this.main.getSemicolonAngel().healSemicolons(),null}}])&&Wd(t.prototype,n),i&&Wd(t,i),e}();function Vd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Nd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoFormatTriggerCharacters=["\n"],this.displayName="Java-Autoformat"}var t,n,i;return t=e,(n=[{key:"init",value:function(){monaco.languages.registerDocumentFormattingEditProvider("myJava",this),monaco.languages.registerOnTypeFormattingEditProvider("myJava",this)}},{key:"provideOnTypeFormattingEdits",value:function(e,t,n,i,r){var o=this.format(e);return Promise.resolve(o)}},{key:"deleteOverlappingRanges",value:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];if(!(n.range.endLineNumber<i.range.startLineNumber)&&n.range.endLineNumber==i.range.startLineNumber)if(n.range.endColumn>=i.range.startColumn)e.splice(t+1,1);else if(0==n.range.endColumn&&n.text.length>0&&1==i.range.startColumn&&i.range.endColumn>i.range.startColumn&&""==i.text){var r=n.text.length-(i.range.endColumn-i.range.startColumn);r>0?(n.text=n.text.substr(0,r),e.splice(t+1,1)):r<0?(i.range.endColumn=i.range.startColumn-r,e.splice(t,1),t--):(e.splice(t,2),t--)}}}},{key:"provideDocumentFormattingEdits",value:function(e,t,n){var i=this.format(e);return Promise.resolve(i)}},{key:"format",value:function(e){var t=[],n=e.getValue(monaco.editor.EndOfLinePreference.LF),i=(new m).lex(n).tokens;if(null==i)return[];for(var r=null,o=0,a=[],l=[],u=!1,c=0,d=0,h=0;h<i.length;h++){var p=i[h];switch(c--,p.tt){case s.keywordSwitch:u=!0;break;case s.keywordCase:p.position.column>3&&this.deleteSpaces(t,p.position.line,1,3);break;case s.leftCurlyBracket:if(u&&(u=!1,l.push(o+2),o++),o++,a.push(p.position.line),null!=r){var f=r.tt;f!=s.rightBracket&&f!=s.identifier&&f!=s.leftRightSquareBracket||this.replaceBetween(r,p,t," ")}if(h<i.length-1){var y=i[h+1];y.tt!=s.newline&&y.tt!=s.space&&this.insertSpaces(t,y.position.line,y.position.column,1)}break;case s.rightCurlyBracket:l[l.length-1]==o&&(l.pop(),o--,this.deleteSpaces(t,p.position.line,1,3)),o--;var v=a.pop();if(null!=v&&v!=p.position.line)null!=r&&r.position.line==p.position.line&&this.replace(t,p.position,p.position,"\n"+" ".repeat(3*o));else if(h>0){var g=i[h-1];g.tt!=s.space&&g.tt!=s.newline&&this.insertSpaces(t,p.position.line,p.position.column,1)}break;case s.leftBracket:if(d++,h<i.length-2){var b=i[h+1],w=i[h+2];b.tt==s.space&&w.tt!=s.newline&&(this.deleteSpaces(t,b.position.line,b.position.column,b.position.length),h++,w.tt==s.rightBracket&&(h++,d--))}if(h>1){var k=i[h-1],S=i[h-2];k.tt!=s.space||S.tt==s.newline||this.isBinaryOperator(S.tt)||1==k.position.length&&this.deleteSpaces(t,k.position.line,k.position.column,1)}break;case s.rightBracket:if(d--,h>1){var P=i[h-1],x=i[h-2];P.tt==s.space&&x.tt!=s.newline&&this.deleteSpaces(t,P.position.line,P.position.column,P.position.length)}break;case s.newline:if(c=2,h<i.length-2){var C=this.isBinaryOperator(null==r?void 0:r.tt),T=this.isBinaryOperator(this.getNextNonSpaceToken(h,i).tt),M=i[h+1],j=i[h+2],E=0;if(M.tt==s.newline)break;var O=0;if(M.tt==s.space){if(j.tt==s.newline)break;E=M.position.length,h++,j.tt==s.rightCurlyBracket&&(O=-1)}M.tt==s.rightCurlyBracket&&(O=-1),(T||C)&&(O=1);var D=o+O;d>0&&D++,D<0&&(D=0);var _=3*D;_>E?this.insertSpaces(t,p.position.line+1,0,_-E):_<E&&this.deleteSpaces(t,p.position.line+1,0,E-_)}break;case s.space:h<i.length-1&&i[h+1].tt!=s.comment&&h>0&&i[h-1].tt!=s.newline&&p.position.length>1&&this.deleteSpaces(t,p.position.line,p.position.column,p.position.length-1);break;case s.comma:case s.semicolon:if(h>1){var A=i[h-1],F=i[h-2];A.tt==s.newline||F.tt==s.newline||this.isBinaryOperator(F.tt)||A.tt==s.space&&1==A.position.length&&this.deleteSpaces(t,A.position.line,A.position.column,1)}if(h<i.length-1){var I=i[h+1];I.tt!=s.comment&&I.tt!=s.space&&I.tt!=s.newline&&this.insertSpaces(t,I.position.line,I.position.column,1)}break;case s.rightSquareBracket:null!=r&&r.tt==s.leftSquareBracket&&this.replaceBetween(r,p,t,"")}if(this.isBinaryOperator(p.tt)){var z=p.tt==s.lower&&this.lowerBelongsToGenericExpression(h,i),L=p.tt==s.greater&&this.greaterBelongsToGenericExpression(h,i);if(c<=0&&null!=r&&[s.leftBracket,s.assignment,s.comma].indexOf(r.tt)<0){if(h>0){var B=i[h-1],R=z||L?0:1;B.tt==s.space?B.position.length!=R&&this.insertSpaces(t,B.position.line,B.position.column,R-B.position.length):1==R&&this.insertSpaces(t,p.position.line,p.position.column,1)}if(h<i.length-1){var W=i[h+1],$=z?0:1;W.tt==s.space?(L&&h<i.length-2&&i[h+2].tt==s.leftBracket&&($=0),W.position.length!=$&&this.insertSpaces(t,W.position.line,W.position.column,$-W.position.length)):(L&&W.tt==s.leftBracket&&($=0),1==$&&this.insertSpaces(t,W.position.line,W.position.column,1))}}}p.tt!=s.space&&p.tt!=s.newline&&(r=p)}return this.deleteOverlappingRanges(t),t}},{key:"getNextNonSpaceToken",value:function(e,t){if(e==t.length-1)return t[e];for(var n=e+1;n<t.length-1&&(t[n].tt==s.space||t[n].tt==s.return);)n++;return t[n]}},{key:"lowerBelongsToGenericExpression",value:function(e,t){for(var n=e+1;n<t.length;){var i=t[n].tt;if(i==s.greater)return!0;if([s.space,s.comma,s.identifier].indexOf(i)<0)return!1;n++}return!1}},{key:"greaterBelongsToGenericExpression",value:function(e,t){for(var n=e-1;n>=0;){var i=t[n].tt;if(i==s.lower)return!0;if([s.space,s.comma,s.identifier].indexOf(i)<0)return!1;n--}return!1}},{key:"isBinaryOperator",value:function(e){return null!=e&&e>=s.modulo&&e<=s.colon}},{key:"replaceBetween",value:function(e,t,n,i){var r={line:e.position.line,column:e.position.column+e.position.length},o={line:t.position.line,column:t.position.column};r.line==o.line&&o.column-r.column==i.length||this.replace(n,r,o,i)}},{key:"deleteSpaces",value:function(e,t,n,i){e.push({range:{startColumn:n,startLineNumber:t,endColumn:n+i+(0==n?1:0),endLineNumber:t},text:""})}},{key:"insertSpaces",value:function(e,t,n,i){i<0?this.deleteSpaces(e,t,n,-i):e.push({range:{startColumn:n,startLineNumber:t,endColumn:n,endLineNumber:t},text:" ".repeat(i)})}},{key:"replace",value:function(e,t,n,i){e.push({range:{startColumn:t.column,startLineNumber:t.line,endColumn:n.column,endLineNumber:n.line},text:i})}}])&&Vd(t.prototype,n),i&&Vd(t,i),e}();function Gd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Hd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.$dialog=jQuery("#dialog"),jQuery("#main").css("visibility","hidden"),this.$dialog.append(jQuery('<div style="flex: 1"></div><div class="dialog-main"></div><div style="flex: 4"></div>')),this.$dialogMain=this.$dialog.find(".dialog-main"),this.$dialog.css("visibility","visible")}},{key:"heading",value:function(e){var t=jQuery('<div class="dialog-heading">'+e+"</div>");return this.$dialogMain.append(t),t}},{key:"description",value:function(e,t){var n=null==t?"":'style="color: '.concat(t,'"'),i=jQuery('<div class="dialog-description" '.concat(n,">").concat(e,"</div>"));return this.$dialogMain.append(i),i}},{key:"input",value:function(e,t){var n=jQuery('<input class="dialog-input" type="'.concat(e,'" placeholder="').concat(t,'"></input>'));return this.$dialogMain.append(n),n}},{key:"buttons",value:function(e){var t=jQuery('<div class="dialog-buttonRow"></div>');this.$dialogMain.append(t);var n=!0,i=!1,r=void 0;try{for(var o,a=function(){var e=o.value,n=jQuery('<button style="background-color: '.concat(e.color,';margin-left: 20px">').concat(e.caption,"</button>"));n.on("click",(function(){e.callback()})),t.append(n)},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}},{key:"waitMessage",value:function(e){var t=jQuery('<div class="dialog-wait">'.concat(e,'<img src="assets/projectexplorer/svg-loaders/ball-triangle.svg"></div>'));return this.$dialogMain.append(t),function(e){var n=e?"visible":"hidden";t.css("visibility",n)}}},{key:"close",value:function(){this.$dialog.css("visibility","hidden"),this.$dialog.empty(),jQuery("#main").css("visibility","visible")}}])&&Gd(t.prototype,n),i&&Gd(t,i),e}();function Qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ud(e,t,n){return t&&Kd(e.prototype,t),n&&Kd(e,n),e}var Zd=function(){function e(t){Qd(this,e),this.main=t}return Ud(e,[{key:"init",value:function(){var e=jQuery("#buttonUserSettings"),t=this;e.on("click",(function(n){Vu([{caption:"Passwort Ã¤ndern...",callback:function(){new qd(t.main).show()}}],e.offset().left,e.offset().top+e.height())}))}}]),e}(),qd=function(){function e(t){Qd(this,e),this.main=t,this.dialog=new Hd}return Ud(e,[{key:"show",value:function(){var e=this;this.dialog.init(),this.dialog.heading("Passwort Ã¤ndern"),this.dialog.description("Bitte geben Sie Ihr bisheriges Passwort und darunter zweimal Ihr neues Passwort ein. <br>Das Passwort muss mindestens 8 Zeichen lang sein und sowohl Buchstaben als auch Zahlen oder Sonderzeichen enthalten.");var t=this.dialog.input("password","Altes Passwort"),n=this.dialog.input("password","Neues Passwort"),r=this.dialog.input("password","Neues Passwort wiederholen"),o=this.dialog.description("","red"),a=this.dialog.waitMessage("Bitte warten...");this.dialog.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){e.dialog.close()}},{caption:"OK",color:"green",callback:function(){n.val()!=r.val()?o.text("Die zwei eingegebenen neuen PasswÃ¶rter stimmen nicht Ã¼berein."):(a(!0),i("changePassword",{oldPassword:t.val(),newPassword:n.val()},(function(){a(!1),alert("Das Passwort wurde erfolgreich geÃ¤ndert."),e.dialog.close()}),(function(e){a(!1),o.text(e)})))}}])}}]),e}();function Xd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Jd=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.currentSubmenu={},this.openSubmenusOnMousemove=!1}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e){var t=this,n=this,i=this.main.getMonacoEditor(),r={items:[{identifier:"Datei",subMenu:{items:[{identifier:"Speichern und Beenden",action:function(){jQuery("#buttonLogout").trigger("click")}}]}},{identifier:"Bearbeiten",subMenu:{items:[{identifier:"RÃ¼ckgÃ¤ngig (Strg + z)",action:function(){i.trigger(".","undo",{})}},{identifier:"Wiederholen (Strg + y)",action:function(){i.trigger(".","redo",{})}},{identifier:"-"},{identifier:"Kopieren (Strg + c)",action:function(){i.getAction("editor.action.clipboardCopyAction").run()}},{identifier:"Ausschneiden (Strg + x)",action:function(){i.getAction("editor.action.clipboardCutAction").run()}},{identifier:"Nach oben kopieren (Alt + Shift + Pfeil rauf)",action:function(){i.getAction("editor.action.copyLinesUpAction").run()}},{identifier:"Nach unten kopieren (Alt + Shift + Pfeil runter)",action:function(){i.getAction("editor.action.copyLinesDownAction").run()}},{identifier:"Nach oben verschieben (Alt + Pfeil rauf)",action:function(){i.getAction("editor.action.moveLinesUpAction").run()}},{identifier:"Nach unten verschieben (Alt + Pfeil runter)",action:function(){i.getAction("editor.action.moveLinesDownAction").run()}},{identifier:"-"},{identifier:"Suchen... (Strg + f)",action:function(){i.getAction("actions.find").run()}},{identifier:"Ersetzen... (Strg + h)",action:function(){i.getAction("editor.action.startFindReplaceAction").run()}},{identifier:"-"},{identifier:"Aus-/Einkommentieren (Strg + #)",action:function(){i.getAction("editor.action.commentLine").run()}},{identifier:"Dokument formatieren (Alt + Shift + f)",action:function(){i.getAction("editor.action.formatDocument").run()}},{identifier:"-"},{identifier:"Finde zugehÃ¶rige Klammer (Strg + k)",action:function(){i.getAction("editor.action.jumpToBracket").run()}},{identifier:"-"},{identifier:"Alles zusammenfalten",action:function(){i.getAction("editor.foldAll").run()}},{identifier:"Alles auffalten",action:function(){i.getAction("editor.unfoldAll").run()}},{identifier:"-"},{identifier:"Vorschlag auslÃ¶sen (Strg + Leertaste)",action:function(){i.focus(),setTimeout((function(){i.getAction("editor.action.triggerSuggest").run()}),200)}},{identifier:"Parameterhilfe (Strg + Shift + Leertaste)",action:function(){i.getAction("editor.action.triggerParameterHints").run()}},{identifier:"Gehe zur Definition (Strg + Click)",action:function(){i.focus(),setTimeout((function(){i.getAction("editor.action.revealDefinition").run()}),200)}}]}},{identifier:"Ansicht",subMenu:{items:[{identifier:"Theme",subMenu:{items:[{identifier:"Dark",action:function(){n.switchTheme("dark")}},{identifier:"Light",action:function(){n.switchTheme("light")}}]}},{identifier:"-"},{identifier:"Hoher Kontrast im Editor ein/aus",action:function(){i.getAction("editor.action.toggleHighContrast").run()}},{identifier:"-"},{identifier:"Zoom out (Strg + Mausrad)",action:function(){t.main.editor.changeEditorFontSize(-4)}},{identifier:"Zoom normal",action:function(){t.main.editor.setFontSize(14)}},{identifier:"Zoom in (Strg + Mausrad)",action:function(){t.main.editor.changeEditorFontSize(4)}}]}},{identifier:"Repository",subMenu:{items:[{identifier:"Eigene Repositories verwalten ...",action:function(){t.main.repositoryUpdateManager.show(null)}},{identifier:"Workspace mit Repository verbinden (checkout) ...",action:function(){t.main.repositoryCheckoutManager.show(null)}}]}},{identifier:"Hilfe",subMenu:{items:[{identifier:"Sprite-BilderÃ¼bersicht",link:"spriteLibrary.html"},{identifier:"API-Dokumentation",link:"https://www.java.mathe-pabst.de/doku.php?id=api:documentation:start"},{identifier:"Tastaturkommandos (Shortcuts)",link:"shortcuts.html"},{identifier:"-"},{identifier:"Interaktives Java-Tutorial mit vielen Beispielen",link:"https://www.java.mathe-pabst.de/doku.php"},{identifier:"Java-Online Changelog",link:"https://www.java.mathe-pabst.de/doku.php?id=javaonline:changelog"},{identifier:"Java-Online Roadmap",link:"https://www.java.mathe-pabst.de/doku.php?id=javaonline:roadmap"},{identifier:"-"},{identifier:"Befehlspalette",action:function(){setTimeout((function(){i.getAction("editor.action.quickCommand").run()}),500)}},{identifier:"-"},{identifier:"Passwort Ã¤ndern...",action:function(){new qd(n.main).show()}}]}}]};null!=e&&(e.is_admin||e.is_schooladmin||e.is_teacher)&&r.items[0].subMenu.items.push({identifier:"Schulen/Klassen/Benutzer ...",link:"administration_mc.html"}),null!=e&&e.is_admin&&r.items[0].subMenu.items.push({identifier:"Serverauslastung ...",link:"statistics.html"}),jQuery("#mainmenu").empty(),this.initMenu(r,0)}},{key:"switchTheme",value:function(e){this.main.viewModeController.setTheme(e)}},{key:"initMenu",value:function(e,t){e.level=t,0==t?e.$element=jQuery("#mainmenu"):(e.$element=jQuery('<div class="jo_submenu"></div>'),jQuery("body").append(e.$element)),e.$element.data("model",e);var n=!0,i=!1,r=void 0;try{for(var o,a=e.items[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if("-"==s.identifier)s.$element=jQuery('<div class="jo_menuitemdivider"></div>');else{if(s.$element=jQuery("<div>"+s.identifier+"</div>"),null!=s.link){var l=jQuery('<a href="'+s.link+'" target="_blank" class="jo_menulink"></a>');l.on("mousedown",(function(t){t.stopPropagation(),setTimeout((function(){e.$element.hide()}),500)})),l.append(s.$element),s.$element=l}null!=s.subMenu&&this.initMenu(s.subMenu,t+1),this.initMenuitemCallbacks(e,s),0==t&&s.$element.addClass("jo_mainmenuitem")}e.$element.append(s.$element),s.$element.data("model",s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}var u=this;jQuery(document).on("mousedown",(function(){for(var e=0;e<5;e++)null!=u.currentSubmenu[e]&&(u.currentSubmenu[e].hide(),u.currentSubmenu[e]=null);u.openSubmenusOnMousemove=!1}))}},{key:"initMenuitemCallbacks",value:function(e,t){var n=this;null!=t.action&&t.$element.on("mousedown",(function(e){t.action(t.identifier)})),null!=t.subMenu?(t.$element.on("mousedown",(function(e){n.opensubmenu(t),n.openSubmenusOnMousemove=!0,e.stopPropagation()})),t.$element.on("mousemove.mainmenu",(function(){n.openSubmenusOnMousemove?n.opensubmenu(t):null!=n.currentSubmenu[e.level+1]&&(n.currentSubmenu[e.level+1].hide(),n.currentSubmenu[e.level+1]=null)}))):t.$element.on("mousemove.mainmenu",(function(){null!=n.currentSubmenu[e.level+1]&&(n.currentSubmenu[e.level+1].hide(),n.currentSubmenu[e.level+1]=null)}))}},{key:"opensubmenu",value:function(e){var t,n,i=e.subMenu;1==i.level?(t=e.$element.position().left,n=30):(t=e.$element.offset().left+e.$element.width(),n=e.$element.offset().top),i.$element.css({top:n+"px",left:t+"px"}),null!=this.currentSubmenu[i.level]&&this.currentSubmenu[i.level].hide(),i.$element.show(),this.currentSubmenu[i.level]=i.$element}}])&&Xd(t.prototype,n),i&&Xd(t,i),e}();function Yd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var eh=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classes=t,this.workspace=n,this.main=i,this.studentCount=0,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.$dialog=jQuery("#dialog"),jQuery("#main").css("visibility","hidden"),this.$dialog.append(jQuery('<div class="jo_ds_heading">Austeilen eines Workspace an einzelne SchÃ¼ler/innen</div>\n             <div class="jo_ds_settings">\n                <div class="jo_ds_settings_caption">Workspace:</div><div class="jo_ds_workspacename">'.concat(this.workspace.name,'</div>\n                <div class="jo_ds_settings_caption">Liste filtern:</div><div class="jo_ds_filterdiv"><input class="dialog-input"></input></div>\n             </div>\n             <div class="jo_ds_student_list jo_scrollable">\n             </div>\n             <div class="jo_ds_selected_message"></div>\n             <div class="dialog-buttonRow jo_ds_buttonRow">\n                <button id="jo_ds_cancel_button">Abbrechen</button>\n                <button id="jo_ds_distribute_button">Austeilen</button>\n             </div>\n            ')));var e=jQuery(".jo_ds_student_list"),t=this,n=!0,i=!1,r=void 0;try{for(var o,a=this.classes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=function(){var n=d.value,i=jQuery('<div class="jo_ds_student_line">'),r=jQuery('<div class="jo_ds_student_class">'.concat(s.name,"</div>")),o=jQuery('<div class="jo_ds_student_name">'.concat(n.rufname," ").concat(n.familienname,"</div>"));i.append(r,o),e.append(i),i.on("mousedown",(function(){i.toggleClass("jo_active"),t.studentCount+=i.hasClass("jo_active")?1:-1,jQuery(".jo_ds_selected_message").text("".concat(t.studentCount," SchÃ¼ler/inn/en selektiert"))})),i.data("student",n),i.data("klass",s)},p=s.students[Symbol.iterator]();!(l=(d=p.next()).done);l=!0)h()}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}jQuery(".jo_ds_filterdiv>input").on("input",(function(){var e=jQuery(".jo_ds_filterdiv>input").val();null==e||""==e?$(".jo_ds_student_line").show():$(".jo_ds_student_line").each((function(t,n){var i=jQuery(n),r=i.data("klass"),o=i.data("student");(r.name+" "+o.rufname+" "+o.familienname).indexOf(e)>=0?i.show():i.hide()}))})),this.$dialogMain=this.$dialog.find(".dialog-main"),this.$dialog.css("visibility","visible"),jQuery("#jo_ds_cancel_button").on("click",(function(){window.history.back()})),jQuery("#jo_ds_distribute_button").on("click",(function(){t.distributeWorkspace()})),this.main.windowStateManager.registerOneTimeBackButtonListener((function(){t.close()}))}},{key:"distributeWorkspace",value:function(){var e=this,t=[];$(".jo_ds_student_line").each((function(e,n){var i=jQuery(n);if(i.hasClass("jo_active")){var r=i.data("student");t.push(r.id)}})),window.history.back(),this.main.networkManager.sendDistributeWorkspace(this.workspace,null,t,(function(n){if(null==n){var i=e.main.networkManager,r=i.updateFrequencyInSeconds*i.forcedUpdateEvery;alert("Der Workspace ".concat(e.workspace.name," wurde an ").concat(t.length," SchÃ¼ler/innen ausgeteilt. Er wird in maximal ").concat(r," s bei jedem SchÃ¼ler ankommen."))}else alert(n)}))}},{key:"close",value:function(){this.$dialog.css("visibility","hidden"),this.$dialog.empty(),jQuery("#main").css("visibility","visible")}}])&&Yd(t.prototype,n),i&&Yd(t,i),e}();function th(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nh=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$projectexplorerDiv=n,this.programPointerModule=null,this.programPointerDecoration=[],this.lastOpenModule=null}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){this.accordion=new Ju(this.$projectexplorerDiv),this.initFilelistPanel(),this.initWorkspacelistPanel()}},{key:"initFilelistPanel",value:function(){var e=this,t=this;this.fileListPanel=new Xu(this.accordion,"Kein Workspace gewÃ¤hlt","3","img_add-file-dark","Neue Datei...","java",!0),this.fileListPanel.newElementCallback=function(e,n){if(null==t.main.currentWorkspace)return alert("Bitte wÃ¤hlen Sie zuerst einen Workspace aus."),null;var i={name:e.name,dirty:!1,saved:!0,text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,panelElement:e,identical_to_repository_version:!1},r=new Du(i,t.main);t.main.currentWorkspace.moduleStore.putModule(r),t.setModuleActive(r),t.main.networkManager.sendCreateFile(r,t.main.currentWorkspace,t.main.workspacesOwnerId,(function(e){null==e?n(r):alert("Der Server ist nicht erreichbar!")}))},this.fileListPanel.renameCallback=function(e,n){n=n.substr(0,80);var i=e.file;return i.name=n,i.saved=!1,t.main.networkManager.sendUpdates(),n},this.fileListPanel.deleteCallback=function(e,n){t.main.networkManager.sendDeleteWorkspaceOrFile("file",e.file.id,(function(i){null==i?(t.main.currentWorkspace.moduleStore.removeModule(e),n()):alert("Der Server ist nicht erreichbar!")}))},this.fileListPanel.contextMenuProvider=function(e){var n=[];return t.main.user.is_teacher||t.main.user.is_admin||t.main.user.is_schooladmin||(null==e.externalElement.file.submitted_date?n.push({caption:"Als Hausaufgabe markieren",callback:function(e){var n,i=e.externalElement.file;i.submitted_date=(n=new Date,"".concat(Bu(n.getDate()),".").concat(Bu(n.getMonth()+1),".").concat(n.getFullYear(),", ").concat(Bu(n.getHours()),":").concat(Bu(n.getMinutes()))),i.saved=!1,t.main.networkManager.sendUpdates(null,!0),t.renderHomeworkButton(i)}}):n.push({caption:"Hausaufgabenmarkierung entfernen",callback:function(e){var n=e.externalElement.file;n.submitted_date=null,n.saved=!1,t.main.networkManager.sendUpdates(null,!0),t.renderHomeworkButton(n)}})),n},this.fileListPanel.selectCallback=function(e){t.setModuleActive(e)},this.$synchronizeAction=jQuery('<div class="img_open-change jo_button jo_active" style="margin-right: 4px" title="Workspace mit Repository synchronisieren">'),this.$synchronizeAction.on("mousedown",(function(t){e.main.getCurrentWorkspace().synchronizeWithRepository(),t.stopPropagation()})),this.fileListPanel.addAction(this.$synchronizeAction),this.$synchronizeAction.hide()}},{key:"renderHomeworkButton",value:function(e){var t,n,i=null===(n=null===(t=null==e?void 0:e.panelElement)||void 0===t?void 0:t.$htmlFirstLine)||void 0===n?void 0:n.find(".jo_additionalButtonHomework");if(null!=i){i.find(".jo_homeworkButton").remove();var r=null,o="";if(null!=e.submitted_date&&(r="img_homework",o="Wurde als Hausaufgabe abgegeben: "+e.submitted_date,e.text_before_revision&&(r="img_homework-corrected",o="Korrektur liegt vor.")),null!=r){var a=jQuery('<div class="jo_homeworkButton '.concat(r,'" title="').concat(o,'"></div>'));i.prepend(a),r.indexOf("jo_active")>=0&&(a.on("mousedown",(function(e){return e.stopPropagation()})),a.on("click",(function(e){e.stopPropagation()})))}}}},{key:"initWorkspacelistPanel",value:function(){var e=this,t=this;this.workspaceListPanel=new Xu(this.accordion,"WORKSPACES","2","img_add-workspace-dark","Neuer Workspace...","workspace",!0),this.workspaceListPanel.newElementCallback=function(e,n){var i=t.main.user.id;null!=t.main.workspacesOwnerId&&(i=t.main.workspacesOwnerId);var r=new jd(e.name,t.main,i);t.main.workspaceList.push(r),t.main.networkManager.sendCreateWorkspace(r,t.main.workspacesOwnerId,(function(i){null==i?(t.fileListPanel.enableNewButton(!0),n(r),t.setWorkspaceActive(r),r.renderSynchronizeButton(e)):alert("Der Server ist nicht erreichbar!")}))},this.workspaceListPanel.renameCallback=function(e,n){return n=n.substr(0,80),e.name=n,e.saved=!1,t.main.networkManager.sendUpdates(),n},this.workspaceListPanel.deleteCallback=function(e,n){t.main.networkManager.sendDeleteWorkspaceOrFile("workspace",e.id,(function(i){null==i?(t.main.removeWorkspace(e),t.fileListPanel.enableNewButton(t.main.workspaceList.length>0),n()):alert("Der Server ist nicht erreichbar!")}))},this.workspaceListPanel.selectCallback=function(e){t.main.networkManager.sendUpdates((function(){t.setWorkspaceActive(e)}))},this.$homeAction=jQuery('<div class="img_home-dark jo_button jo_active" style="margin-right: 4px" title="Meine eigenen Workspaces anzeigen">'),this.$homeAction.on("mousedown",(function(e){t.main.networkManager.sendUpdates((function(){t.onHomeButtonClicked()})),t.main.bottomDiv.hideHomeworkTab(),e.stopPropagation()})),this.workspaceListPanel.addAction(this.$homeAction),this.$homeAction.hide(),this.workspaceListPanel.contextMenuProvider=function(n){var i=[];return i.push({caption:"Duplizieren",callback:function(t){e.main.networkManager.sendDuplicateWorkspace(t.externalElement,(function(t,n){if(null==t&&null!=n){var i=jd.restoreFromData(n,e.main);e.main.workspaceList.push(i),i.panelElement={name:i.name,externalElement:i,iconClass:null==i.repository_id?"workspace":"repository"},e.workspaceListPanel.addElement(i.panelElement)}null!=t&&alert(t)}))}}),e.main.user.is_teacher&&e.main.teacherExplorer.classPanel.elements.length>0&&i.push({caption:"An Klasse austeilen...",callback:function(e){},subMenu:e.main.teacherExplorer.classPanel.elements.map((function(t){return{caption:t.name,callback:function(n){var i=t.externalElement,r=n.externalElement;e.main.networkManager.sendDistributeWorkspace(r,i,null,(function(t){if(null==t){var n=e.main.networkManager,o=n.updateFrequencyInSeconds*n.forcedUpdateEvery;alert("Der Workspace "+r.name+" wurde an die Klasse "+i.name+" ausgeteilt. Er wird in maximal "+o+" s bei jedem SchÃ¼ler ankommen.")}else alert(t)}))}}}))},{caption:"An einzelne SchÃ¼ler/innen austeilen...",callback:function(t){var n=e.main.teacherExplorer.classPanel.elements.map((function(e){return e.externalElement})),i=t.externalElement;new eh(n,i,e.main)}}),e.main.repositoryOn&&e.main.workspacesOwnerId==e.main.user.id&&(null==n.externalElement.repository_id?i.push({caption:"Repository anlegen...",callback:function(e){var n=e.externalElement;t.main.repositoryCreateManager.show(n)},subMenu:null}):(i.push({caption:"Mit Repository synchronisieren",callback:function(e){e.externalElement.synchronizeWithRepository()}}),i.push({caption:"Vom Repository loslÃ¶sen",color:"#ff8080",callback:function(n){var i=n.externalElement;i.repository_id=null,i.saved=!1,e.main.networkManager.sendUpdates((function(){t.workspaceListPanel.setElementClass(n,"workspace"),i.renderSynchronizeButton(n)}),!0)}}))),i}}},{key:"onHomeButtonClicked",value:function(){this.main.teacherExplorer.restoreOwnWorkspaces(),this.main.networkManager.updateFrequencyInSeconds=this.main.networkManager.ownUpdateFrequencyInSeconds,this.$homeAction.hide(),this.fileListPanel.enableNewButton(this.main.workspaceList.length>0)}},{key:"renderFiles",value:function(e){var t=null==e?"Kein Workspace vorhanden":e.name;if(this.fileListPanel.setCaption(t),this.fileListPanel.clear(),null!=this.main.getCurrentWorkspace()){var n=!0,i=!1,r=void 0;try{for(var o,a=this.main.getCurrentWorkspace().moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.file.panelElement=null}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}if(null!=e){var s=[],l=!0,u=!1,c=void 0;try{for(var d,h=e.moduleStore.getModules(!1)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s.push(p)}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}s.sort((function(e,t){return e.file.name>t.file.name?1:e.file.name<t.file.name?-1:0}));for(var f=0,y=s;f<y.length;f++){var m=y[f];m.file.panelElement={name:m.file.name,externalElement:m},this.fileListPanel.addElement(m.file.panelElement),this.renderHomeworkButton(m.file)}}}},{key:"renderWorkspaces",value:function(e){this.fileListPanel.clear(),this.workspaceListPanel.clear();var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.panelElement={name:a.name,externalElement:a,iconClass:null==a.repository_id?"workspace":"repository"},this.workspaceListPanel.addElement(a.panelElement),a.renderSynchronizeButton(a.panelElement)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.fileListPanel.enableNewButton(e.length>0)}},{key:"renderErrorCount",value:function(e,t){if(null!=t){var n=!0,i=!1,r=void 0;try{for(var o,a=e.moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t.get(s),u=null==l||0==l?"":"("+l+")";this.fileListPanel.setTextAfterFilename(s.file.panelElement,u,"jo_errorcount")}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"showRepositoryButtonIfNeeded",value:function(e){null!=e.repository_id&&e.owner_id==this.main.user.id?(this.$synchronizeAction.show(),this.main.user.settings.helperHistory.repositoryButtonDone||Zi.showHelper("repositoryButton",this.main,this.$synchronizeAction)):this.$synchronizeAction.hide()}},{key:"setWorkspaceActive",value:function(e){if(this.workspaceListPanel.select(e,!1),this.main.interpreter.state==Xi.running&&this.main.interpreter.stop(),this.main.currentWorkspace=e,this.renderFiles(e),null!=e){var t=e.moduleStore.getModules(!1);null!=e.currentlyOpenModule?this.setModuleActive(e.currentlyOpenModule):t.length>0?this.setModuleActive(t[0]):this.setModuleActive(null);var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.file.dirty=!0}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}0!=t.length||this.main.user.settings.helperHistory.newFileHelperDone||Zi.showHelper("newFileHelper",this.main,this.fileListPanel.$captionElement),this.showRepositoryButtonIfNeeded(e)}else this.setModuleActive(null)}},{key:"writeEditorTextToFile",value:function(){var e=this.getCurrentlyEditedModule();null!=e&&(e.file.text=e.getProgramTextFromMonacoModel())}},{key:"setModuleActive",value:function(e){this.main.bottomDiv.homeworkManager.hideRevision(),null!=this.lastOpenModule&&(this.lastOpenModule.getBreakpointPositionsFromEditor(),this.lastOpenModule.file.text=this.lastOpenModule.getProgramTextFromMonacoModel(),this.lastOpenModule.editorState=this.main.getMonacoEditor().saveViewState()),null==e?(this.main.getMonacoEditor().setModel(monaco.editor.createModel("Keine Datei vorhanden.","text")),this.main.getMonacoEditor().updateOptions({readOnly:!0})):(this.main.getMonacoEditor().updateOptions({readOnly:!1}),this.main.getMonacoEditor().setModel(e.model),null!=this.main.getBottomDiv()&&this.main.getBottomDiv().errorManager.showParenthesisWarning(e.bracketError),null!=e.file.text_before_revision?this.main.bottomDiv.homeworkManager.showHomeWorkRevisionButton():this.main.bottomDiv.homeworkManager.hideHomeworkRevisionButton())}},{key:"setActiveAfterExternalModelSet",value:function(e){var t=this;this.fileListPanel.select(e,!1),this.lastOpenModule=e,null!=e.editorState&&(this.main.editor.dontPushNextCursorMove++,this.main.getMonacoEditor().restoreViewState(e.editorState),this.main.editor.dontPushNextCursorMove--),e.renderBreakpointDecorators(),this.setCurrentlyEditedModule(e),this.showProgramPointer(),setTimeout((function(){t.main.getMonacoEditor().getOptions().get(monaco.editor.EditorOption.readOnly)||t.main.getMonacoEditor().focus()}),300)}},{key:"showProgramPointer",value:function(){if(this.programPointerModule==this.getCurrentlyEditedModule()&&null!=this.getCurrentlyEditedModule()){var e=this.programPointerPosition,t={startColumn:e.column,startLineNumber:e.line,endColumn:e.column+e.length,endLineNumber:e.line};this.main.getMonacoEditor().revealRangeInCenterIfOutsideViewport(t),this.programPointerDecoration=this.main.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[{range:t,options:{className:"jo_revealProgramPointer",isWholeLine:!0,overviewRuler:{color:"#6fd61b",position:monaco.editor.OverviewRulerLane.Center},minimap:{color:"#6fd61b",position:monaco.editor.MinimapPosition.Inline}}},{range:t,options:{beforeContentClassName:"jo_revealProgramPointerBefore"}}])}}},{key:"showProgramPointerPosition",value:function(e,t){if(null!=e){var n=this.main.currentWorkspace.moduleStore.findModuleByFile(e);null!=n&&(this.programPointerModule=n,this.programPointerPosition=t,n!=this.getCurrentlyEditedModule()?this.setModuleActive(n):this.showProgramPointer())}}},{key:"hideProgramPointerPosition",value:function(){this.getCurrentlyEditedModule()==this.programPointerModule&&this.main.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[]),this.programPointerModule=null,this.programPointerDecoration=[]}},{key:"getCurrentlyEditedModule",value:function(){var e=this.main.currentWorkspace;return null==e?null:e.currentlyOpenModule}},{key:"setCurrentlyEditedModule",value:function(e){if(null!=e){var t=this.main.currentWorkspace;t.currentlyOpenModule!=e&&(t.currentlyOpenModule=e,t.saved=!1,e.file.dirty=!0)}}},{key:"setExplorerColor",value:function(e){var t;null==e?(e="transparent",t="Meine WORKSPACES"):t="SchÃ¼ler-WORKSPACES",this.fileListPanel.$listElement.parent().css("background-color",e),this.workspaceListPanel.$listElement.parent().css("background-color",e),this.workspaceListPanel.setCaption(t)}},{key:"getNewModule",value:function(e){return new Du(e,this.main)}}])&&th(t.prototype,n),i&&th(t,i),e}();function ih(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var rh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"initSliders",value:function(){var e=this;jQuery("#slider1").on("mousedown",(function(t){var n=jQuery("#leftpanel"),i=jQuery("#editor>.monaco-editor"),r=t.clientX;jQuery(document).on("mousemove.slider1",(function(t){var o=t.clientX-r,a=Number.parseInt(n.css("width").replace("px",""));n.css("width",a+o+"px");var s=Number.parseInt(i.css("width").replace("px",""));i.css("width",s-o+"px"),e.main.getMonacoEditor().layout(),null!=e.main.bottomDiv.homeworkManager.diffEditor&&e.main.bottomDiv.homeworkManager.diffEditor.layout(),r=t.clientX})),jQuery(document).on("mouseup.slider1",(function(){jQuery(document).off("mousemove.slider1"),jQuery(document).off("mouseup.slider1")}))})),jQuery("#slider2").on("mousedown",(function(t){var n=jQuery("#bottomdiv-outer"),i=jQuery("#editor>.monaco-editor"),r=t.clientY;jQuery(document).on("mousemove.slider2",(function(t){var o=t.clientY-r,a=Number.parseInt(n.css("height").replace("px",""));n.css("height",a-o+"px");var s=Number.parseInt(i.css("height").replace("px",""));i.css("height",s+o+"px"),e.main.getMonacoEditor().layout(),null!=e.main.bottomDiv.homeworkManager.diffEditor&&e.main.bottomDiv.homeworkManager.diffEditor.layout(),r=t.clientY})),jQuery(document).on("mouseup.slider2",(function(){jQuery(document).off("mousemove.slider2"),jQuery(document).off("mouseup.slider2")}))})),jQuery("#slider3").on("mousedown",(function(t){var n=jQuery("#rightdiv"),i=jQuery("#editor>.monaco-editor"),r=t.clientX;$c.preventFading=!0,jQuery(document).on("mousemove.slider3",(function(t){var o=t.clientX-r,a=Number.parseInt(n.css("width").replace("px",""));n.css("width",a-o+"px");var s=Number.parseInt(i.css("width").replace("px",""));i.css("width",s+o+"px"),e.main.getMonacoEditor().layout(),null!=e.main.bottomDiv.homeworkManager.diffEditor&&e.main.bottomDiv.homeworkManager.diffEditor.layout(),jQuery(".jo_graphics").trigger("sizeChanged"),a+=o,r=t.clientX,t.stopPropagation()})),jQuery(document).on("mouseup.slider3",(function(){jQuery(document).off("mousemove.slider3"),jQuery(document).off("mouseup.slider3"),$c.preventFading=!1}))}))}}])&&ih(t.prototype,n),i&&ih(t,i),e}();function oh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ah=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.classData=n}var t,n,r;return t=e,(n=[{key:"removePanels",value:function(){this.classPanel.remove(),this.studentPanel.remove()}},{key:"initGUI",value:function(){this.initStudentPanel(),this.initClassPanel(),this.renderClasses(this.classData)}},{key:"initStudentPanel",value:function(){var e=this,t=this;this.studentPanel=new Xu(this.main.projectExplorer.accordion,"SchÃ¼ler/innen","2",null,"","student",!1),this.studentPanel.selectCallback=function(n){t.main.networkManager.sendUpdates((function(){i("getWorkspaces",{ws_userId:n.id,userId:e.main.user.id},(function(i){1==i.success&&(t.main.workspacesOwnerId==t.main.user.id&&(t.ownWorkspaces=t.main.workspaceList.slice(),t.currentOwnWorkspace=t.main.currentWorkspace),t.main.restoreWorkspaces(i.workspaces),t.main.workspacesOwnerId=n.id,t.main.projectExplorer.setExplorerColor("rgba(255, 0, 0, 0.2"),t.main.projectExplorer.$homeAction.show(),Zi.showHelper("homeButtonHelper",e.main),t.main.bottomDiv.showHomeworkTab(),t.main.bottomDiv.homeworkManager.attachToWorkspaces(t.main.workspaceList)),e.main.networkManager.updateFrequencyInSeconds=e.main.networkManager.teacherUpdateFrequencyInSeconds,e.main.networkManager.secondsTillNextUpdate=e.main.networkManager.teacherUpdateFrequencyInSeconds}))}))}}},{key:"restoreOwnWorkspaces",value:function(){var e=this.main;e.getMonacoEditor().updateOptions({readOnly:!0}),e.workspaceList=this.ownWorkspaces,e.currentWorkspace=this.currentOwnWorkspace,e.workspacesOwnerId=e.user.id,e.projectExplorer.setExplorerColor(null),e.projectExplorer.renderWorkspaces(e.workspaceList),null==e.currentWorkspace&&e.workspaceList.length>0&&(e.currentWorkspace=e.workspaceList[0]),null!=e.currentWorkspace&&e.projectExplorer.setWorkspaceActive(e.currentWorkspace),this.studentPanel.select(null,!1)}},{key:"initClassPanel",value:function(){var e=this,t=this;this.classPanel=new Xu(this.main.projectExplorer.accordion,"Klassen","1",null,"","class",!1),this.classPanel.selectCallback=function(n){t.main.networkManager.sendUpdates((function(){var t=n;null!=t&&e.renderStudents(t.students)}))}}},{key:"renderStudents",value:function(e){this.studentPanel.clear(),e.sort((function(e,t){return e.familienname>t.familienname?1:t.familienname>e.familienname?-1:e.rufname>t.rufname?1:t.rufname>e.rufname?-1:0}));var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s={name:a.rufname+" "+a.familienname,externalElement:a};this.studentPanel.addElement(s)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"renderClasses",value:function(e){this.studentPanel.clear(),e.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s={name:a.name,externalElement:a};this.classPanel.addElement(s)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}])&&oh(t.prototype,n),r&&oh(t,r),e}();function sh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var lh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.themes=[],this.initThemes()}var t,n,i;return t=e,(n=[{key:"switchTheme",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.themes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.name==e){this.internalSwitchTheme(a);break}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"internalSwitchTheme",value:function(e){monaco.editor.setTheme(e.monacoTheme);for(var t=document.documentElement,n=0,i=Object.keys(e.cssColors);n<i.length;n++){var r=i[n],o=e.cssColors[r];t.style.setProperty(r,o)}}},{key:"initThemes",value:function(){this.themes.push({name:"dark",monacoTheme:"myCustomThemeDark",cssColors:{"--backgroundDark":"#1e1e1e","--backgroundLight":"#252526","--backgroundHeading":"#37373d","--backgroundSelected":"#2a2d2e","--fontColorNormal":"#c2cccc","--fontColorLight":"#e7e7e7","--slider":"#414141","--loginButtonBackgrond":"#59a15d","--loginButtonFontColor":"#000000","--loginMessageColor":"rgb(122, 48, 48)","--loginButtonHover":"#63a867","--loginButtonActive":"#94ffd1","--scrollbar":"#1e1e1e","--scrollbar-thumb":"#3e3e3e","--scrollbar-thumb-hover":"#5e5e5e","--scrollbar-thumb-active":"#7e7e7e","--submenu-hover":"#094771","--submenu-color":"#ffffff","--menuitemsdivider":"#616162","--file-hover":"hsla(0, 0%, 38%, 0.125)","--file-active":"#094771","--file-active-hover":"rgba(9, 71, 113, 0.827)","--file-errorcount":"red","--inplace-editor":"blue","--contextmenu-background":"#3c3c3c","--contextmenu-color":"rgb(212,212,212)","--contextmenu-hover-background":"#094771","--contextmenu-hover-color":"#ffffff","--error-filename":"#2a709e","--error-line-ative":"#094771","--error-line-hover":"rgba(96, 96, 96, 0.125)","--error-position":"#c0802d","--linecolumn":"#14c714","--reveal-error":"rgba(253, 101, 101, 0.745)","--reveal-method":"#2b2b7d2f","--reveal-errorline-background":"red","--reveal-error-whole-line":"rgba(255, 0, 0, 0.555)","--reveal-programpointer":"rgba(111, 214, 27, 0.337)","--reveal-syntaxelement":"rgb(85,85,85)","--margin-breakpoint":"rgba(255, 0, 0, 0.623)","--speedcontrol-bar":"#9d9d9d","--speedcontrol-grip":"#588555","--speedcontrol-grip-hover":"#89d185","--speedcontrol-display-background":"#383838","--speedcontrol-display-border":"#9d9d9d","--editorTooltip-background":"#252526","--editorTooltip-border":"#454545","--renameInput-color":"#ffffff","--bottomdiv-tabheading-hover":"white","--bottomdiv-tabheading-active":"rgb(97,97,255)","--noErrorMessage":"rgb(37, 211, 37)","--console-top-borderbottom":"#c4c4c4","--console-top-background":"#1e1e1e","--consoleEntry-withBorder":"#303030","--consoleEntryValue":"white","--consoleEntryIdentifier":"rgb(156, 156, 235)","--consoleEntryNoValue":"gray","--consoleEntryCaption":"white","--error-Caption":"rgb(166, 165, 176)","--console-error":"rgb(155, 51, 51)","--deIdentifier":"rgb(156, 156, 235)","--deValue":"white","--helper-background-color":"#383838","--helper-border-color":"#d4d4d4","--arrowBoxButtonOuter-background":"#59a15d","--arrowBoxButtonOuter-border":"#3d3d3d","--arrowBoxButtonOuter-color":"black","--arrowBoxButtonOuter-button-hover":"#63a867","--arrowBox-after":"rgba(136, 183, 213, 0)","--arrowBox-before":"rgba(194, 225, 245, 0)","--defaultOutputColor":"#ffffff","--runInputColor":"#ffffff","--runBackgroundColor":"rgba(255, 255, 255, 0.2)"}}),this.themes.push({name:"light",monacoTheme:"myCustomThemeLight",cssColors:{"--backgroundDark":"white","--backgroundLight":"#f3f3f3","--backgroundHeading":"#dcdcdc","--backgroundSelected":"#e8e8e8","--fontColorNormal":"#756161","--fontColorLight":"#756161","--slider":"#b0b0b0","--loginButtonBackgrond":"#59a15d","--loginButtonFontColor":"#000000","--loginMessageColor":"rgb(122, 48, 48)","--loginButtonHover":"#63a867","--loginButtonActive":"#94ffd1","--scrollbar":"#e3e3e3","--scrollbar-thumb":"#bababa","--scrollbar-thumb-hover":"#8e8e8e","--scrollbar-thumb-active":"#616161","--submenu-hover":"#8080ff","--submenu-color":"#ffffff","--menuitemsdivider":"#cfcfcf","--file-hover":"#e8e8e8","--file-active":"#8080ff","--file-active-hover":"#a0a0ff","--file-errorcount":"red","--inplace-editor":"white","--contextmenu-background":"white","--contextmenu-color":"#756161","--contextmenu-hover-background":"#8080ff","--contextmenu-hover-color":"#a0a0ff","--error-filename":"#ff0000","--error-line-ative":"#ffa0a0","--error-line-hover":"#ffc0c0","--error-position":"#804040","--linecolumn":"#14c714","--reveal-error":"rgba(253, 101, 101, 0.745)","--reveal-method":"#babaec80","--reveal-errorline-background":"red","--reveal-error-whole-line":"rgba(255, 0, 0, 0.555)","--reveal-programpointer":"rgba(111, 214, 27, 0.337)","--reveal-syntaxelement":"#c0c0c0","--margin-breakpoint":"rgba(255, 0, 0, 0.623)","--speedcontrol-bar":"#9d9d9d","--speedcontrol-grip":"#588555","--speedcontrol-grip-hover":"#89d185","--speedcontrol-display-background":"#e0e0e0","--speedcontrol-display-border":"#9d9d9d","--editorTooltip-background":"#e0e0e0","--editorTooltip-border":"#9d9d9d","--renameInput-color":"#000000","--bottomdiv-tabheading-hover":"#424242","--bottomdiv-tabheading-active":"#424242","--noErrorMessage":"rgb(17, 180, 17)","--console-top-borderbottom":"#c4c4c4","--console-top-background":"white","--consoleEntry-withBorder":"#303030","--consoleEntryValue":"#0000a0","--consoleEntryIdentifier":"black","--consoleEntryNoValue":"gray","--consoleEntryCaption":"#756161","--error-Caption":"rgb(166, 165, 176)","--console-error":"rgb(155, 21, 21)","--deIdentifier":"black","--deValue":"#0000a0","--helper-background-color":"#f3f3f3","--helper-border-color":"#606060","--arrowBoxButtonOuter-background":"#59a15d","--arrowBoxButtonOuter-border":"#3d3d3d","--arrowBoxButtonOuter-color":"black","--arrowBoxButtonOuter-button-hover":"#63a867","--arrowBox-after":"rgba(136, 183, 213, 0)","--arrowBox-before":"rgba(194, 225, 245, 0)","--defaultOutputColor":"#303030","--runInputColor":"#000000","--runBackgroundColor":"rgba(0, 0, 0, 0.2)"}})}}])&&sh(t.prototype,n),i&&sh(t,i),e}();function uh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ch=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,r;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this,n=jQuery("#login-spinner>img");jQuery("#login-username").focus(),jQuery("#login-username").on("keydown",(function(e){"Enter"==e.key&&jQuery("#login-password").focus()})),jQuery("#login-password").on("keydown",(function(e){"Enter"==e.key&&jQuery("#login-button").trigger("click")})),jQuery("#login-password").on("keydown",(function(e){"Tab"==e.key&&(e.preventDefault(),jQuery("#login-button").focus(),jQuery("#login-button").addClass("jo_active")),"Enter"==e.key&&jQuery("#login-button").trigger("click")})),jQuery("#login-button").on("keydown",(function(e){"Tab"==e.key?(e.preventDefault(),jQuery("#login-username").focus(),jQuery("#login-button").removeClass("jo_active")):jQuery("#login-button").trigger("click")}));var r=!1;jQuery("#login-button").on("click",(function(){$a.init(),n.show(),r||(r=!0,setTimeout((function(){r=!1}),1e3),i("login",{username:jQuery("#login-username").val(),password:jQuery("#login-password").val()},(function(i){if(i.success){jQuery("#login").hide(),jQuery("#bitteWartenText").html("Bitte warten ..."),jQuery("#bitteWarten").css("display","flex");var r=i.user;null!=r.settings&&null!=r.settings.helperHistory||(r.settings={helperHistory:{consoleHelperDone:!1,newFileHelperDone:!1,newWorkspaceHelperDone:!1,speedControlHelperDone:!1,homeButtonHelperDone:!1,stepButtonHelperDone:!1,repositoryButtonDone:!1},viewModes:null,classDiagram:null}),e.main.waitForGUICallback=function(){var e,o,a,s;t.main.mainMenu.initGUI(r),jQuery("#bitteWarten").hide(),n.hide(),jQuery("#menupanel-username").html(Lu(r.rufname)+" "+Lu(r.familienname)),new Zd(t.main).init(),r.is_teacher&&t.main.initTeacherExplorer(i.classdata),t.main.user=r,t.main.restoreWorkspaces(i.workspaces),t.main.workspacesOwnerId=r.id,t.main.networkManager.initializeTimer(),t.main.projectExplorer.fileListPanel.setFixed(!r.is_teacher),t.main.projectExplorer.workspaceListPanel.setFixed(!r.is_teacher),null===(o=null===(e=t.main.rightDiv)||void 0===e?void 0:e.classDiagram)||void 0===o||o.clear(),null!=r.settings.classDiagram&&(null===(s=null===(a=t.main.rightDiv)||void 0===a?void 0:a.classDiagram)||void 0===s||s.deserialize(r.settings.classDiagram)),t.main.viewModeController.initViewMode(),t.main.bottomDiv.hideHomeworkTab()},0==e.main.startupComplete&&(e.main.waitForGUICallback(),e.main.waitForGUICallback=null)}else jQuery("#login-message").html("Fehler: Benutzername und/oder Passwort ist falsch.")}),(function(e){jQuery("#login-message").html("Login gescheitert: "+e)})))})),jQuery("#buttonLogout").on("click",(function(){jQuery("#bitteWartenText").html("Bitte warten, der letzte Bearbeitungsstand wird noch gespeichert ..."),jQuery("#bitteWarten").css("display","flex"),e.main.workspacesOwnerId!=e.main.user.id&&e.main.projectExplorer.onHomeButtonClicked(),e.main.networkManager.sendUpdates((function(){var t;e.main.rightDiv.classDiagram.clearAfterLogout(),i("logout",{currentWorkspaceId:null===(t=e.main.currentWorkspace)||void 0===t?void 0:t.id},(function(){var t,n;jQuery("#login").show(),jQuery("#bitteWarten").css("display","none"),jQuery("#login-message").empty(),e.main.interpreter.setState(Xi.not_initialized),e.main.getMonacoEditor().setModel(monaco.editor.createModel("","myJava")),e.main.projectExplorer.fileListPanel.clear(),e.main.projectExplorer.workspaceListPanel.clear(),null===(n=null===(t=e.main.bottomDiv)||void 0===t?void 0:t.console)||void 0===n||n.clear(),e.main.interpreter.printManager.clear(),e.main.user.is_teacher&&(e.main.teacherExplorer.removePanels(),e.main.teacherExplorer=null),e.main.currentWorkspace=null,e.main.user=null}))}))}))}}])&&uh(t.prototype,n),r&&uh(t,r),e}();function dh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var hh=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$buttonsContainer=t,this.main=n,this.$buttonMap={},this.highContrast=!1,this.editorHasFullWidth=!1,this.$buttonEditorFullscreen=jQuery('<div title="Editor in voller Breite" class="img_whole-window jo_button jo_active" style="padding: 1px; margin-right: 20px"></div>'),this.$buttonPresentationMode=jQuery('<div title="PrÃ¤sentation (Beamer)" class="img_presentation-mode jo_button jo_active" syle="padding: 1px"></div>'),this.$buttonMonitorMode=jQuery('<div title="Monitor" class="img_monitor-mode jo_button jo_active" style="margin-left: 5px; padding: 1px"></div>'),t.append(this.$buttonEditorFullscreen,this.$buttonPresentationMode,this.$buttonMonitorMode),this.$buttonMap={presentation:this.$buttonPresentationMode,monitor:this.$buttonMonitorMode};var r=this.main.actionManager;r.registerAction("editor.fullwidth",[],(function(){i.toggleEditorFullwidth()}),"Editor auf die volle Breite erweitern",this.$buttonEditorFullscreen),r.registerAction("viewmode.presentation",[],(function(){i.setMode("presentation")}),"PrÃ¤sentationsansicht",this.$buttonPresentationMode),r.registerAction("viewmode.monitor",[],(function(){i.setMode("monitor")}),"Monitoransicht",this.$buttonMonitorMode)}var t,n,i;return t=e,(n=[{key:"toggleEditorFullwidth",value:function(){var e=this;this.editorHasFullWidth?(this.$buttonEditorFullscreen.removeClass("img_whole-window-back"),this.$buttonEditorFullscreen.addClass("img_whole-window"),this.$buttonEditorFullscreen.attr("title","Editor in voller Breite"),jQuery("#rightdiv").show(600),jQuery("#leftpanel").show(600),jQuery("#controls").show()):(this.$buttonEditorFullscreen.removeClass("img_whole-window"),this.$buttonEditorFullscreen.addClass("img_whole-window-back"),this.$buttonEditorFullscreen.attr("title","Editor in normaler Breite"),jQuery("#rightdiv").hide(600),jQuery("#leftpanel").hide(600),jQuery("#controls").hide(),this.main.getInterpreter().stop()),setTimeout((function(){e.main.getMonacoEditor().layout()}),800),this.editorHasFullWidth=!this.editorHasFullWidth}},{key:"setMode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="presentation"==e?"monitor":"presentation";this.$buttonMap[e].addClass("jo_pressed"),this.$buttonMap[n].removeClass("jo_pressed");var i=this.main.user.settings,r=i.viewModes,o=r[e];if(r.viewModeChosen=e,this.main.themeManager.switchTheme(o.theme),this.main.editor.setFontSize(o.fontSize),this.highContrast!=o.highContrast){var a=this.main.getMonacoEditor();a.getAction("editor.action.toggleHighContrast").run(),this.highContrast=!this.highContrast}t&&this.saveSettings()}},{key:"saveFontSize",value:function(e){this.getChosenViewMode().fontSize=e,this.saveSettings()}},{key:"setTheme",value:function(e){var t=this.getChosenViewMode();t.theme=e,this.main.themeManager.switchTheme(t.theme),this.saveSettings()}},{key:"toggleHighContrast",value:function(){var e=this.getChosenViewMode();e.highContrast=!e.highContrast,this.main.getMonacoEditor().getAction("editor.action.toggleHighContrast").run(),this.saveSettings()}},{key:"getChosenViewMode",value:function(){var e=this.main.user.settings.viewModes;return e[e.viewModeChosen]}},{key:"saveSettings",value:function(){this.main.userDataDirty=!0}},{key:"initViewMode",value:function(){var e=this.main.user.settings;null==e.viewModes&&(e.viewModes={monitor:null,presentation:null,viewModeChosen:"monitor"}),null==e.viewModes.monitor&&(e.viewModes.monitor={fontSize:14,highContrast:!1,theme:"dark"},e.viewModes.presentation={fontSize:18,highContrast:!1,theme:"light"},this.saveSettings()),this.setMode(e.viewModes.viewModeChosen,!1)}}])&&dh(t.prototype,n),i&&dh(t,i),e}();function ph(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var fh=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t;var i=this;history.pushState("PreventLeavingSite",""),window.addEventListener("popstate",(function(e){"PreventLeavingSite"==e.state?(history.pushState("PreventLeavingSite",""),i.main.editor.pushHistoryState(!1,i.main.editor.getPositionForHistory())):null==n.oneTimeBackButtonListener&&n.backButtonListener(e),null!=n.oneTimeBackButtonListener&&(n.oneTimeBackButtonListener(),n.oneTimeBackButtonListener=null)}))}var t,n,i;return t=e,(n=[{key:"registerBackButtonListener",value:function(e){this.backButtonListener=e}},{key:"registerOneTimeBackButtonListener",value:function(e){this.oneTimeBackButtonListener=e,history.pushState({},"")}}])&&ph(t.prototype,n),i&&ph(t,i),e}();function yh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var mh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.repositoryOn=!0,this.workspaceList=[],this.windowStateManager=new fh(this),this.startupComplete=2,this.programIsExecutable=!1,this.version=0,this.userDataDirty=!1}var t,n,i;return t=e,(n=[{key:"isEmbedded",value:function(){return!1}},{key:"getInterpreter",value:function(){return this.interpreter}},{key:"getCurrentWorkspace",value:function(){return this.currentWorkspace}},{key:"getDebugger",value:function(){return this.debugger}},{key:"getMonacoEditor",value:function(){return this.editor.editor}},{key:"getRightDiv",value:function(){return this.rightDiv}},{key:"getBottomDiv",value:function(){return this.bottomDiv}},{key:"getCurrentlyEditedModule",value:function(){return this.projectExplorer.getCurrentlyEditedModule()}},{key:"getActionManager",value:function(){return this.actionManager}},{key:"showProgramPointerPosition",value:function(e,t){this.projectExplorer.showProgramPointerPosition(e,t)}},{key:"hideProgramPointerPosition",value:function(){this.projectExplorer.hideProgramPointerPosition()}},{key:"getCompiler",value:function(){return this.compiler}},{key:"setModuleActive",value:function(e){this.projectExplorer.setModuleActive(e)}},{key:"getSemicolonAngel",value:function(){return this.semicolonAngel}},{key:"jumpToDeclaration",value:function(e,t){this.projectExplorer.setModuleActive(e),this.editor.editor.revealLineInCenter(t.position.line),this.editor.editor.setPosition({column:t.position.column,lineNumber:t.position.line})}},{key:"initGUI",value:function(){this.login=new ch(this),this.login.initGUI(),this.actionManager=new rc(null,this),this.actionManager.init(),this.networkManager=new l(this,jQuery("#bottomdiv-outer .jo_updateTimerDiv")),new rh(this).initSliders(),this.mainMenu=new Jd(this),this.projectExplorer=new nh(this,jQuery("#leftpanel>.jo_projectexplorer")),this.projectExplorer.initGUI(),this.bottomDiv=new bc(this,jQuery("#bottomdiv-outer>.jo_bottomdiv-inner"),jQuery("body")),this.rightDiv=new xd(this,jQuery("#rightdiv-inner")),this.rightDiv.initGUI(),this.debugger=new nc(this,jQuery("#leftpanel>.jo_debugger"),jQuery("#leftpanel>.jo_projectexplorer")),this.interpreter=new tr(this,this.debugger,new Rc(jQuery("#controls"),jQuery("#editor")),jQuery("#rightdiv-inner .jo_run")),this.interpreter.initGUI(),this.initTypes(),this.checkStartupComplete(),this.correctPIXITransform(),PIXI.utils.skipHello(),this.themeManager=new lh,this.viewModeController=new hh(jQuery("#view-mode"),this),this.semicolonAngel=new zd(this)}},{key:"correctPIXITransform",value:function(){PIXI.Transform.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}}},{key:"initEditor",value:function(){this.editor=new Ic(this,!0,!1),(new Nd).init(),this.editor.initGUI(jQuery("#editor"));var e=this;jQuery(window).on("resize",(function(t){jQuery("#bottomdiv-outer").css("height","150px"),jQuery("#editor").css("height",window.innerHeight-150-30-2+"px"),e.editor.editor.layout(),jQuery("#editor").css("height","")})),jQuery(window).trigger("resize"),this.checkStartupComplete()}},{key:"initTeacherExplorer",value:function(e){this.teacherExplorer=new ah(this,e),this.teacherExplorer.initGUI()}},{key:"checkStartupComplete",value:function(){this.startupComplete--,0==this.startupComplete&&this.start()}},{key:"initTypes",value:function(){st.init(),lt.init(),ut.init(),ct.init(),dt.init(),pt.init(),ft.init(),vt.init(),gt.init(),bt.init(),wt.init(),kt.init()}},{key:"start",value:function(){null!=this.waitForGUICallback&&this.waitForGUICallback();var e=this;setTimeout((function(){e.getMonacoEditor().layout()}),200),this.compiler=new $d(this),this.startTimer()}},{key:"startTimer",value:function(){null!=this.timerHandle&&clearInterval(this.timerHandle);var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"compileIfDirty",value:function(){var e,t;if(null!=this.currentWorkspace&&this.currentWorkspace.moduleStore.isDirty()&&this.compiler.compilerStatus!=Bd.compiling&&this.interpreter.state!=Xi.running&&this.interpreter.state!=Xi.paused)try{this.compiler.compile(this.currentWorkspace.moduleStore);var n=null===(t=null===(e=this.bottomDiv)||void 0===e?void 0:e.errorManager)||void 0===t?void 0:t.showErrors(this.currentWorkspace);this.projectExplorer.renderErrorCount(this.currentWorkspace,n),this.editor.onDidChangeCursorPosition(null),this.printProgram(),this.projectExplorer&&this.version++;var i=null!=this.interpreter.getStartableModule(this.currentWorkspace.moduleStore);i&&this.interpreter.state==Xi.not_initialized&&(this.copyExecutableModuleStoreToInterpreter(),this.interpreter.setState(Xi.done)),i||this.interpreter.state!=Xi.done&&this.interpreter.state!=Xi.error||this.interpreter.setState(Xi.not_initialized),this.drawClassDiagrams(!this.rightDiv.isClassDiagramEnabled())}catch(e){console.error(e),this.compiler.compilerStatus=Bd.error}}},{key:"printProgram",value:function(){this.bottomDiv.printModuleToBottomDiv(this.currentWorkspace,this.projectExplorer.getCurrentlyEditedModule())}},{key:"drawClassDiagrams",value:function(e){var t=this;clearTimeout(this.debounceDiagramDrawing),this.debounceDiagramDrawing=setTimeout((function(){var n,i;null===(i=null===(n=t.rightDiv)||void 0===n?void 0:n.classDiagram)||void 0===i||i.drawDiagram(t.currentWorkspace,e)}),500)}},{key:"copyExecutableModuleStoreToInterpreter",value:function(){var e=this.currentWorkspace.moduleStore.copy();this.interpreter.moduleStore=e,this.interpreter.moduleStoreVersion=this.version,this.interpreter.state==Xi.not_initialized&&this.programIsExecutable&&this.interpreter.setState(Xi.done)}},{key:"removeWorkspace",value:function(e){this.workspaceList.splice(this.workspaceList.indexOf(e),1)}},{key:"restoreWorkspaces",value:function(e){this.workspaceList=[],this.currentWorkspace=null,this.getMonacoEditor().updateOptions({readOnly:!0});var t=!0,n=!1,i=void 0;try{for(var r,o=e.workspaces[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=jd.restoreFromData(a,this);this.workspaceList.push(s),a.id==this.user.currentWorkspace_id&&(this.currentWorkspace=s)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.projectExplorer.renderWorkspaces(this.workspaceList),null==this.currentWorkspace&&this.workspaceList.length>0&&(this.currentWorkspace=this.workspaceList[0]),null!=this.currentWorkspace&&this.projectExplorer.setWorkspaceActive(this.currentWorkspace),0==this.workspaceList.length&&Zi.showHelper("newWorkspaceHelper",this,this.projectExplorer.workspaceListPanel.$captionElement)}},{key:"createNewWorkspace",value:function(e,t){return new jd(e,this,t)}}])&&yh(t.prototype,n),i&&yh(t,i),e}();function vh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var gh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=t,this.files=[],this.isCurrentRepositoryVersion=!1}var t,n,r;return t=e,(n=[{key:"hasChanges",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.files[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)if("original"!=i.value.state)return!0}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1}},{key:"isWritable",value:function(){return null!=this.copiedFromWorkspace||this.isCurrentRepositoryVersion&&this.manager.repositoryIsWritable}},{key:"copyFromWorkspace",value:function(e){var t=this;return this.files=[],e.moduleStore.getModules(!1).forEach((function(e){var n=e.file;null!=e.model&&(e.file.text=e.getProgramTextFromMonacoModel()),t.files.push({name:n.name,repository_file_version:n.repository_file_version,identical_to_repository_version:n.identical_to_repository_version,idInsideRepository:n.is_copy_of_id,idInsideWorkspace:n.id,workspaceFile:n,text:n.text.replace(/\r\n/g,"\n"),synchroWorkspace:t,state:"original",markedAsMerged:!1,originalText:n.text,monacoModel:null})})),this.name="Workspace: "+e.name,this.copiedFromWorkspace=e,this}},{key:"copyFromRepository",value:function(e,t){var n=this;return this.isCurrentRepositoryVersion=t,this.files=[],e.fileEntries.forEach((function(e){n.files.push({name:e.filename,idInsideRepository:e.id,idInsideWorkspace:null,workspaceFile:null,repository_file_version:e.version,identical_to_repository_version:!0,text:e.text.replace(/\r\n/g,"\n"),synchroWorkspace:n,state:"original",markedAsMerged:!1,monacoModel:null})})),this.name="Repository: "+e.name+" (V "+e.version+")",this}},{key:"copyFromHistoryElement",value:function(e){var t=e.getRepositoryState();return this.copyFromRepository(t,!1),this.name="History-Version "+t.version,this}},{key:"commit",value:function(e,t,n,r,o){var a={},s={},l=[];t.fileEntries.forEach((function(e){return a[e.id]=e})),this.files.forEach((function(e){null!=e.idInsideRepository&&(s[e.idInsideRepository]=e)}));var u={comment:n,name:r.user.rufname+" "+r.user.familienname,username:r.user.username,isIntermediateEntry:!1,timestamp:(new Date).toUTCString(),userId:r.user.id,version:t.version+1,historyFiles:[]},c=!0,d=!1,h=void 0;try{for(var p,f=this.files[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;if("deleted"!=y.state){var m=a[y.idInsideRepository];if(null==m)null==y.idInsideRepository&&(l.push(y.committedFromFile.idInsideWorkspace),y.committedFromFile.idInsideRepository=y.committedFromFile.idInsideWorkspace,y.committedFromFile.repository_file_version=1,y.idInsideRepository=y.committedFromFile.idInsideWorkspace,y.committedFromFile.idInsideRepository=y.committedFromFile.idInsideWorkspace),u.historyFiles.push({id:y.idInsideRepository,type:"create",version:1,content:y.text,filename:y.name});else if(m.text!=y.text){m.version++;var v=this.getPatch(m.text,y.text);null==v?u.historyFiles.push({id:m.id,type:"intermediate",version:m.version,content:y.text,filename:y.name}):u.historyFiles.push({id:m.id,type:"change",version:m.version,content:v,filename:m.filename==y.name?void 0:y.name});var g=y.committedFromFile;null!=g&&(g.repository_file_version=m.version,g.workspaceFile.repository_file_version=m.version,g.workspaceFile.saved=!1)}else m.filename!=y.name&&u.historyFiles.push({id:m.id,type:"intermediate",version:m.version,filename:y.name})}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}var b=!0,w=!1,k=void 0;try{for(var S,P=t.fileEntries[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;null!=s[x.id]&&"deleted"!=s[x.id].state||u.historyFiles.push({id:x.id,type:"delete",version:x.version})}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}var C={files:this.files.filter((function(e){return"deleted"!=e.state})).map((function(e){return{filename:e.name,id:e.idInsideRepository,text:e.text,version:e.repository_file_version}})),repositoryVersionBeforeCommit:t.version,repository_id:t.id,workspace_id:e.id,repositoryHistoryEntry:u,newlyVersionedFileIds:l},T=this;i("commitFiles",C,(function(t){e.moduleStore.getModules(!1).map((function(e){return e.file})).forEach((function(e){l.indexOf(e.id)>=0&&(e.is_copy_of_id=e.id,e.repository_file_version=1,e.identical_to_repository_version=!0,e.saved=!1)})),T.manager.currentUserSynchroWorkspace.files.forEach((function(e){var t=e.workspaceFile;null!=t&&(e.text!=t.text||e.repository_file_version==t.repository_file_version&&e.identical_to_repository_version==t.identical_to_repository_version||(t.identical_to_repository_version=e.identical_to_repository_version,t.repository_file_version=e.repository_file_version,t.saved=!1))})),T.manager.main.networkManager.sendUpdates((function(){o(t.repository,null)}),!0)}),(function(e){o(null,e)}))}},{key:"getPatch",value:function(e,t){var n=new diff_match_patch,i=n.patch_make(e,t),r=JSON.stringify(i),o=JSON.parse(r),a=n.patch_apply(o,e);return null==a||null==a[0]?null:a[0]==t?r:null}},{key:"writeChangesToWorkspace",value:function(){var e=this.copiedFromWorkspace,t={},n={};e.moduleStore.getModules(!1).forEach((function(e){null!=e.file.is_copy_of_id&&(t[e.file.is_copy_of_id]=e)})),this.files.forEach((function(e){null!=e.idInsideWorkspace&&(n[e.idInsideWorkspace]=e)}));var i=this.manager.main,r=!0,o=!1,a=void 0;try{for(var s,l=function(){var t=s.value,r=n[t.file.id];null!=r?(t.file.text=r.monacoModel.getValue(monaco.editor.EndOfLinePreference.LF,!1),r.text=t.file.text,t.file.is_copy_of_id=r.idInsideRepository,t.file.repository_file_version=r.repository_file_version,t.model.setValue(r.text),t.file.identical_to_repository_version=r.identical_to_repository_version,t.file.saved=!1):i.networkManager.sendDeleteWorkspaceOrFile("file",t.file.id,(function(n){null==n?(e.moduleStore.removeModule(t),i.currentWorkspace==e&&i.projectExplorer.getCurrentlyEditedModule()==t&&i.projectExplorer.setModuleActive(null)):alert("Der Server ist nicht erreichbar!")}))},u=e.moduleStore.getModules(!1)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)l()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}var c=!0,d=!1,h=void 0;try{for(var p,f=this.files[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;if(null!=y.idInsideRepository&&null==t[y.idInsideRepository]){var m={name:y.name,dirty:!1,saved:!0,text:y.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,is_copy_of_id:y.idInsideRepository,repository_file_version:y.repository_file_version,identical_to_repository_version:y.identical_to_repository_version},v=new Du(m,i);e.moduleStore.putModule(v),i.networkManager.sendCreateFile(v,e,i.user.id,(function(e){null==e||alert("Der Server ist nicht erreichbar!")}))}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}if(i.networkManager.sendUpdates(null,!0),i.currentWorkspace==e){var g=i.getCurrentlyEditedModule();i.projectExplorer.setWorkspaceActive(e),e.moduleStore.getModules(!1).indexOf(g)>=0&&(i.projectExplorer.setModuleActive(g),i.projectExplorer.fileListPanel.select(g,!1))}}}])&&vh(t.prototype,n),r&&vh(t,r),e}();function bh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var wh=function(){function e(t,n,i,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=t,this.repository=n,this.repositoryHistoryEntry=i,this.historyEntryIndex=r,this.$historyElementDiv=Hu(null,"jo_synchro_historyElement"),this.$historyElementDiv.attr("draggable","true");var a=this;this.$historyElementDiv.on("drag",(function(){e.currentlyDragged=a}));var s=Hu(null,"jo_synchro_historyElementLine1");s.append(jQuery('<div class="jo_synchro_he_version">V '.concat(i.version,"</div>"))),s.append(jQuery('<div class="jo_synchro_he_name">'.concat(i.name,"</div>"))),this.$historyElementDiv.append(s);var l=Hu(null,"jo_synchro_historyElementLine2");l.append(jQuery('<div class="jo_synchro_he_timestamp">'.concat(i.timestamp,"</div>"))),this.$historyElementDiv.append(l);var u=Hu(null,"jo_synchro_historyElementLine3");u.append(jQuery('<div class="jo_synchro_he_comment">'.concat(i.comment,"</div>"))),this.$historyElementDiv.append(u),t.$historyScrollDiv.prepend(this.$historyElementDiv),this.$historyElementDiv.on("click contextmenu",(function(e){e.preventDefault(),Vu([{caption:"Auf der linken Seite darstellen",callback:function(){var e=new gh(o.manager).copyFromHistoryElement(o);o.manager.leftSynchroWorkspace=e,o.manager.setupSynchronizationListElements()}},{caption:"Auf der rechten Seite darstellen",callback:function(){var e=new gh(o.manager).copyFromHistoryElement(o);o.manager.rightSynchroWorkspace=e,o.manager.setupSynchronizationListElements()}}],e.pageX+2,e.pageY+2)}))}var t,n,i;return t=e,(n=[{key:"getRepositoryState",value:function(){for(var e=this.repository.historyEntries,t=this.historyEntryIndex;t>0&&!e[t].isIntermediateEntry;)t--;for(var n=[],i=t;i<=this.historyEntryIndex;i++){var r=e[i],o=!0,a=!1,s=void 0;try{for(var l,u=r.historyFiles[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(r.isIntermediateEntry)this.setIntermediateState(c,n);else switch(c.type){case"create":this.createFile(c,n);break;case"delete":this.deleteFile(c,n);break;case"change":this.changeFile(c,n);break;case"intermediate":this.setIntermediateState(c,n)}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}var d=Object.assign({},this.repository);return d.fileEntries=n,d.version=this.repositoryHistoryEntry.version,d}},{key:"setIntermediateState",value:function(e,t){var n=t.find((function(t){return t.id==e.id}));null!=n&&(n.text=e.content,n.version=e.version)}},{key:"changeFile",value:function(e,t){var n=t.find((function(t){return t.id==e.id}));if(null!=n&&null!=e.content){var i=JSON.parse(e.content),r=n.text,o=(new diff_match_patch).patch_apply(i,r);n.text=o[0],n.version=e.version}}},{key:"deleteFile",value:function(e,t){var n=t.findIndex((function(t){return t.id==e.id}));null!=n&&t.splice(n,1)}},{key:"createFile",value:function(e,t){var n={id:e.id,text:e.content,filename:e.filename,version:e.version};t.push(n)}}])&&bh(t.prototype,n),i&&bh(t,i),e}();function kh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Sh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"deserializeRepository",value:function(e){null!=e.files&&e.files.startsWith("[")?e.fileEntries=JSON.parse(e.files):e.fileEntries=[],e.fileEntries.forEach((function(e){return e.text=e.text.replace(/\r\n/g,"\n")})),e.history.endsWith("]")||(e.history+="]"),e.historyEntries=JSON.parse(e.history)}},{key:"copyRepository",value:function(e,t){var n=Object.assign({},e);if(null!=e.fileEntries){n.fileEntries=[];var i=!0,r=!1,o=void 0;try{for(var a,s=e.fileEntries[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.fileEntries.push(Object.assign({},l))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}if(null!=e.historyEntries&&t){n.historyEntries=[];var u=!0,c=!1,d=void 0;try{for(var h,p=e.historyEntries[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=Object.assign({},f);if(null!=f.historyFiles){y.historyFiles=[];var m=!0,v=!1,g=void 0;try{for(var b,w=f.historyFiles[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var k=b.value;y.historyFiles.push(Object.assign({},k))}}catch(e){v=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(v)throw g}}}n.historyEntries.push(y)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}return n}}],(n=null)&&kh(t.prototype,n),i&&kh(t,i),e}();function Ph(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xh=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manager=t,this.leftSynchroFile=n,this.rightSynchroFile=i,this.leftSynchroWorkspace=r,this.rightSynchroWorkspace=o,this.$buttons=[],this.pending=!1,this.$leftFileDiv=Hu(null,"jo_synchro_workspaceFileDiv jo_synchro_listDiv"),this.$buttonLeftDiv=Hu(null,"jo_synchro_buttonDiv jo_synchro_listDiv jo_synchro_buttonLeftDiv"),this.$buttonRightDiv=Hu(null,"jo_synchro_buttonDiv jo_synchro_listDiv jo_synchro_buttonRightDiv"),this.$rightFileDiv=Hu(null,"jo_synchro_repositoryFileDiv jo_synchro_listDiv"),t.$fileListDivs[0].append(this.$leftFileDiv),t.$fileListDivs[1].append(this.$buttonLeftDiv),t.$fileListDivs[2].append(this.$buttonRightDiv),t.$fileListDivs[3].append(this.$rightFileDiv),null!=n&&"original"!=n.state&&this.$leftFileDiv.addClass("jo_dirty"),null!=i&&"original"!=i.state&&this.$rightFileDiv.addClass("jo_dirty");for(var a=[this.$leftFileDiv,this.$buttonLeftDiv,this.$buttonRightDiv,this.$rightFileDiv],s=this,l=0,u=a;l<u.length;l++){var c=u[l];c.on("mouseenter",(function(){var e=!0,t=!1,n=void 0;try{for(var i,r=a[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addClass("jo_synchro_hoverLine")}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}})),c.on("mouseleave",(function(){var e=!0,t=!1,n=void 0;try{for(var i,r=a[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.removeClass("jo_synchro_hoverLine").removeClass("jo_synchro_hoverActiveLine")}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}})),c.on("mousedown",(function(){var e=!0,t=!1,n=void 0;try{for(var i,r=a[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addClass("jo_synchro_hoverActiveLine")}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}})),c.on("mouseup",(function(){var e=!0,t=!1,n=void 0;try{for(var i,r=a[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.removeClass("jo_synchro_hoverActiveLine")}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}})),c.on("click",(function(){s.select()}))}this.createLeftFileModel(),this.createRightFileModel()}var t,n,i;return t=e,i=[{key:"makeButton",value:function(e,t,n){var i="",r="";switch(e){case"commit":i="commit",r="jo_synchro_commitButton";break;case"commitAll":i="commit all",r="jo_synchro_commitButton";break;case"update":i="update",r="jo_synchro_updateButton";break;case"updateAll":i="update all",r="jo_synchro_updateButton";break;case"create":i="create",r="jo_synchro_createButton";break;case"delete":i="delete",r="jo_synchro_deleteButton"}switch(t){case"left":r+=" jo_synchro_arrowLeft";break;case"right":r+=" jo_synchro_arrowRight"}var o=jQuery('<div class="jo_synchro_button '.concat(r,'">').concat(i,"</div>"));return o.on("click",(function(e){e.stopPropagation(),null!=n&&n()})),o.on("mousedown",(function(e){e.stopPropagation()})),o}}],(n=[{key:"select",value:function(){var e,t=[this.$leftFileDiv,this.$buttonLeftDiv,this.$buttonRightDiv,this.$rightFileDiv];jQuery("#jo_synchro_fileListOuter").find(".jo_synchro_activeLine").removeClass("jo_synchro_activeLine");for(var n=0,i=t;n<i.length;n++)i[n].addClass("jo_synchro_activeLine");null!=this.manager.lastShownSynchronizationElement&&(this.manager.lastShownSynchronizationElement.editorState=this.manager.diffEditor.saveViewState()),this.manager.lastShownSynchronizationElement=this,this.setEditorModel(),null!=this.editorState&&this.manager.diffEditor.restoreViewState(this.editorState),this.manager.diffEditor.updateOptions({originalEditable:null!=(null===(e=this.leftSynchroFile)||void 0===e?void 0:e.originalText)})}},{key:"createRightFileModel",value:function(){null!=this.rightSynchroFile&&(this.rightSynchroFile.monacoModel=monaco.editor.createModel(this.rightSynchroFile.text,"myJava"))}},{key:"setEditorModel",value:function(){this.manager.lastShownSynchronizationElement==this&&this.manager.diffEditor.setModel({original:null==this.leftSynchroFile?this.getEmptyMonacoModel():this.leftSynchroFile.monacoModel,modified:null==this.rightSynchroFile?this.getEmptyMonacoModel():this.rightSynchroFile.monacoModel})}},{key:"getEmptyMonacoModel",value:function(){return monaco.editor.createModel("","myJava")}},{key:"createLeftFileModel",value:function(){var e=this;null!=this.leftSynchroFile&&(this.leftSynchroFile.monacoModel=monaco.editor.createModel(this.leftSynchroFile.text,"myJava"),this.leftSynchroFile.monacoModel.onDidChangeContent((function(t){e.pending||(e.pending=!0,setTimeout((function(){var t,n;if(null!=e.leftSynchroFile&&"deleted"!=(null===(t=e.leftSynchroFile)||void 0===t?void 0:t.state)){var i=e.leftSynchroFile.monacoModel.getValue(monaco.editor.EndOfLinePreference.LF,!1);null!=(null===(n=e.leftSynchroFile)||void 0===n?void 0:n.originalText)&&i==e.leftSynchroFile.originalText?(e.$leftFileDiv.removeClass("jo_dirty"),e.leftSynchroFile.state="original"):(e.$leftFileDiv.addClass("jo_dirty"),e.leftSynchroFile.state="changed",e.leftSynchroFile.identical_to_repository_version=!1),e.manager.onContentChanged("left"),e.leftSynchroFile.text=i,e.compareFilesAndAdaptGUI()}e.pending=!1}),700))})))}},{key:"onFileChanged",value:function(e){switch("left"==e?this.createLeftFileModel():this.createRightFileModel(),this.setEditorModel(),this.compareFilesAndAdaptGUI(),e){case"left":null!=this.leftSynchroFile&&"original"!=this.leftSynchroFile.state?this.$leftFileDiv.addClass("jo_dirty"):this.$leftFileDiv.removeClass("jo_dirty");break;case"right":null!=this.rightSynchroFile&&"original"!=this.rightSynchroFile.state?this.$rightFileDiv.addClass("jo_dirty"):this.$rightFileDiv.removeClass("jo_dirty")}this.manager.onContentChanged(e)}},{key:"compareFilesAndAdaptGUI",value:function(){var t,n,i,r=this;this.emptyGUI();var o=this,a="---",s="",l=!1;null!=this.leftSynchroFile&&(a=this.leftSynchroFile.name,null==this.leftSynchroFile.repository_file_version?s="(ohne Version)":(s="(V "+this.leftSynchroFile.repository_file_version,this.leftSynchroFile.identical_to_repository_version||(null===(t=this.leftSynchroFile)||void 0===t?void 0:t.text)==(null===(n=this.rightSynchroFile)||void 0===n?void 0:n.text)||(s+='<span class="jo_synchro_withChanges"> mit Ãnderungen</span>'),null!=this.rightSynchroFile&&this.leftSynchroFile.synchroWorkspace.isWritable()&&this.rightSynchroFile.repository_file_version>this.leftSynchroFile.repository_file_version&&(l=!this.leftSynchroFile.markedAsMerged),s+=")"),"deleted"==this.leftSynchroFile.state&&(a+=" - GELÃSCHT",s=""));var u=null==this.rightSynchroFile?"---":this.rightSynchroFile.name,c=null==this.rightSynchroFile?"":"(V "+this.rightSynchroFile.repository_file_version+")";"deleted"==(null===(i=this.rightSynchroFile)||void 0===i?void 0:i.state)&&(u+=" - GELÃSCHT",c="");var d=Hu("","jo_synchro_5px_spacer"),h=Hu("","jo_synchro_5px_spacer");if(this.$buttonRightDiv.append(h),null==this.leftSynchroFile)this.leftSynchroWorkspace.isWritable()&&"deleted"!=o.rightSynchroFile.state&&this.$buttonLeftDiv.append(e.makeButton("create","left",(function(){o.leftSynchroFile={name:o.rightSynchroFile.name,idInsideRepository:o.rightSynchroFile.idInsideRepository,repository_file_version:o.rightSynchroFile.repository_file_version,identical_to_repository_version:!0,state:"new",markedAsMerged:!1,text:r.rightSynchroFile.text,synchroWorkspace:o.leftSynchroWorkspace,idInsideWorkspace:null,workspaceFile:null,originalText:null,monacoModel:null},o.leftSynchroWorkspace.files.push(o.leftSynchroFile),o.onFileChanged("left")}))),o.rightSynchroWorkspace.isWritable()&&"deleted"!=o.rightSynchroFile.state&&this.$buttonRightDiv.append(e.makeButton("delete","right",(function(){o.rightSynchroFile.state="deleted",o.onFileChanged("right")})));else if(null==this.rightSynchroFile)this.rightSynchroWorkspace.isWritable()&&"deleted"!=o.leftSynchroFile.state&&this.$buttonRightDiv.append(e.makeButton("create","right",(function(){o.rightSynchroFile={name:o.leftSynchroFile.name,committedFromFile:o.leftSynchroWorkspace.isWritable()?o.leftSynchroFile:null,idInsideRepository:o.leftSynchroFile.idInsideRepository,repository_file_version:null==o.leftSynchroFile.repository_file_version?1:o.leftSynchroFile.repository_file_version,identical_to_repository_version:o.leftSynchroFile.identical_to_repository_version,state:"new",markedAsMerged:!1,text:r.leftSynchroFile.text,synchroWorkspace:o.rightSynchroWorkspace,idInsideWorkspace:null,workspaceFile:null,originalText:null,monacoModel:null},o.rightSynchroWorkspace.files.push(o.rightSynchroFile),o.leftSynchroFile.repository_file_version=o.rightSynchroFile.repository_file_version,o.leftSynchroFile.identical_to_repository_version=!0,o.onFileChanged("right")}))),o.leftSynchroWorkspace.isWritable()&&"deleted"!=o.leftSynchroFile.state&&this.$buttonLeftDiv.append(e.makeButton("delete","left",(function(){o.leftSynchroFile.state="deleted",o.onFileChanged("left")})));else{var p=!0;this.leftSynchroFile.repository_file_version==this.rightSynchroFile.repository_file_version?this.leftSynchroFile.text!=this.rightSynchroFile.text&&(p=!1):p=!1,p?(this.$buttonLeftDiv.append(jQuery("<div>synchron - </div>")),this.$buttonRightDiv.append(jQuery("<div> - synchron</div>"))):(this.leftSynchroWorkspace.isWritable()&&this.$buttonLeftDiv.append(e.makeButton("update","left",(function(){o.leftSynchroFile.text=o.rightSynchroFile.text,o.leftSynchroFile.repository_file_version=o.rightSynchroFile.repository_file_version,o.leftSynchroFile.identical_to_repository_version=!0,o.leftSynchroFile.state="changed",o.onFileChanged("left")}))),this.rightSynchroWorkspace.isWritable()&&!l&&this.$buttonRightDiv.append(e.makeButton("commit","right",(function(){o.rightSynchroFile.text=o.leftSynchroFile.text,o.rightSynchroFile.repository_file_version++,o.leftSynchroWorkspace.isWritable()&&(o.rightSynchroFile.committedFromFile=o.leftSynchroFile),o.leftSynchroWorkspace.isWritable()&&(o.leftSynchroFile.repository_file_version=o.rightSynchroFile.repository_file_version,r.leftSynchroFile.identical_to_repository_version=!0),o.rightSynchroFile.state="changed",o.onFileChanged("right")}))))}this.$buttonLeftDiv.append(d),this.$leftFileDiv.append(jQuery('<div class="jo_synchro_filename">'.concat(a,'<span class="jo_synchro_fileVersion">').concat(s,"</span></div>"))),this.$rightFileDiv.append(jQuery('<div class="jo_synchro_filename">'.concat(u,'<span class="jo_synchro_fileVersion">').concat(c,"</span></div>"))),l&&(this.$markAsMergedButtonDiv=jQuery('<div class="jo_synchro_button jo_synchro_markAsMergedButton">Als "merged" markieren</div>'),this.$leftFileDiv.append(this.$markAsMergedButtonDiv),this.$markAsMergedButtonDiv.on("click",(function(e){e.stopPropagation(),r.leftSynchroFile.markedAsMerged=!0,r.compareFilesAndAdaptGUI()}))),null!=this.leftSynchroFile&&this.leftSynchroFile.markedAsMerged&&this.showMergedDiv(),this.manager.updateCenterButtons()}},{key:"showMergedDiv",value:function(){var e=jQuery('<div class="jo_synchro_mergedDiv">merged</div><div class="img_errorfree"></div>');this.$leftFileDiv.append(e)}},{key:"emptyGUI",value:function(){this.$leftFileDiv.empty(),this.$rightFileDiv.empty(),this.$buttonLeftDiv.empty(),this.$buttonRightDiv.empty()}}])&&Ph(t.prototype,n),i&&Ph(t,i),e}();function Ch(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Th=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$fileListHeaderDivs=[],this.$fileListDivs=[],this.guiReady=!1,this.synchronizationListElements=[],this.historyElements=[]}var t,n,r;return t=e,(n=[{key:"synchronizeWithWorkspace",value:function(e){var t=this;this.gainRepositoryLock(e.repository_id,(function(n){n?(t.repositoryIsWritable=!0,t.attachToWorkspaceAndRepository(e),t.show(),t.timer=setInterval((function(){t.gainRepositoryLock(t.currentRepository.id,(function(e){e||(alert("Der Server ist temporÃ¤r nicht erreichbar."),window.history.back())}))}),1e4)):(t.attachToWorkspaceAndRepository(e),t.repositoryIsWritable=!1,t.show())}))}},{key:"gainRepositoryLock",value:function(e,t){i("gainRepositoryLock",{repository_id:e},(function(e){t(e.success)}),(function(e){alert(e),t(!1)}))}},{key:"attachToWorkspaceAndRepository",value:function(e){this.currentUserSynchroWorkspace=new gh(this).copyFromWorkspace(e),this.leftSynchroWorkspace=this.currentUserSynchroWorkspace;var t=this;i("getRepository",{repository_id:e.repository_id,workspace_id:e.id},(function(e){t.attachToRepository(e.repository)}),(function(e){alert(e),window.history.back()}))}},{key:"attachToRepository",value:function(e){this.currentRepository=e,Sh.deserializeRepository(this.currentRepository),this.currentRepositorySynchroWorkspace=new gh(this).copyFromRepository(this.currentRepository,!0),this.rightSynchroWorkspace=this.currentRepositorySynchroWorkspace,this.setupSynchronizationListElements(),this.setupHistoryElements()}},{key:"setupHistoryElements",value:function(){var e=this;this.$historyScrollDiv.empty(),this.historyElements=[],this.lastShownHistoryElement=null,this.currentRepository.historyEntries.forEach((function(t,n){e.historyElements.push(new wh(e,e.currentRepository,t,n))}))}},{key:"setupSynchronizationListElements",value:function(){var e=this,t=null,n=null;null!=this.lastShownSynchronizationElement&&(t=this.lastShownSynchronizationElement.leftSynchroFile,n=this.lastShownSynchronizationElement.rightSynchroFile),this.$fileListDivs.forEach((function(e){return e.empty()})),this.synchronizationListElements.forEach((function(e){return e.emptyGUI()})),this.synchronizationListElements=[],this.lastShownSynchronizationElement=null;var i=[],r={};if(this.leftSynchroWorkspace.files.forEach((function(e){var t={id:e.idInsideRepository,name:e.name,leftSynchroFile:e,rightSynchroFile:null};i.push(t),null!=e.idInsideRepository&&(r[e.idInsideRepository]=t)})),this.rightSynchroWorkspace.files.forEach((function(e){var t=null;null!=e.idInsideRepository&&(t=r[e.idInsideRepository]),null==t?(t={id:e.idInsideRepository,name:e.name,leftSynchroFile:null,rightSynchroFile:e},i.push(t)):t.rightSynchroFile=e})),i.sort((function(e,t){return e.name.localeCompare(t.name)})),i.forEach((function(t){var n=new xh(e,t.leftSynchroFile,t.rightSynchroFile,e.leftSynchroWorkspace,e.rightSynchroWorkspace);e.synchronizationListElements.push(n),n.compareFilesAndAdaptGUI()})),this.diffEditor.setModel({original:monaco.editor.createModel("WÃ¤hlen Sie oben eine Datei aus!","myJava"),modified:monaco.editor.createModel("WÃ¤hlen Sie oben eine Datei aus!","myJava")}),this.diffEditor.updateOptions({originalEditable:!1}),this.leftSynchroWorkspace==this.currentUserSynchroWorkspace?(this.setHeader("left","Dein Workspace:"),this.$backToWorkspaceButton.hide()):(this.setHeader("left",this.leftSynchroWorkspace.name+":"),this.$backToWorkspaceButton.show(),this.$writeWorkspaceChangesButton.hide()),this.rightSynchroWorkspace==this.currentRepositorySynchroWorkspace){var o=this.repositoryIsWritable?", mit Schreibzugriff":", ohne Schreibzugriff";this.setHeader("right","Repository (aktuelle Version"+o+"):"),this.$backToCurrentRepositoryVersionButton.hide()}else this.setHeader("right",this.rightSynchroWorkspace.name+":"),this.$backToCurrentRepositoryVersionButton.show(),this.$writeRepositoryChangesButton.hide();jQuery("#jo_synchro_main_heading_text").text('Synchronisieren mit Repository "'.concat(this.currentRepository.name,'"'));var a=!1;if(null!=t||null!=n){var s=!0,l=!1,u=void 0;try{for(var c,d=this.synchronizationListElements[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;if(null!=h.leftSynchroFile&&h.leftSynchroFile==t||null!=h.rightSynchroFile&&h.rightSynchroFile==n){h.select(),a=!0;break}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}!a&&this.synchronizationListElements.length>0&&this.synchronizationListElements[0].select()}},{key:"show",value:function(){this.guiReady||this.initGUI(),jQuery("#synchronize-div").css("visibility","visible"),jQuery("#main").css("visibility","hidden"),this.$writeWorkspaceChangesButton.hide(),this.$writeRepositoryChangesButton.hide();var e=this;this.main.windowStateManager.registerOneTimeBackButtonListener((function(){e.hide()}))}},{key:"hide",value:function(){jQuery("#synchronize-div").css("visibility","hidden"),jQuery("#main").css("visibility","visible"),clearInterval(this.timer),i("leaseRepositoryLock",{repository_id:this.currentRepository.id},(function(e){}),(function(e){}))}},{key:"initGUI",value:function(){var e=this;this.guiReady=!0;var t=jQuery("#synchronize-div"),n=this;t.append(this.$mainHeadingDiv=jQuery('<div id="jo_synchro_main_heading"><span id="jo_synchro_main_heading_text">Java-Online: Workspace mit Repository synchronisieren</span></div>'),this.$belowMainHeadingDiv=Hu("jo_synchro_below_main_heading"));var i=Hu("jo_synchro_buttonsTopRight");this.$mainHeadingDiv.append(i),i.append(this.$exitButton=jQuery('<div id="jo_synchro_exitButton" class="jo_synchro_button">ZurÃ¼ck zum Programmieren</div>')),this.$exitButton.on("click",(function(){window.history.back()})),this.$leftDiv=Hu("jo_synchro_leftDiv"),this.$historyOuterDiv=Hu("jo_synchro_historyOuterDiv"),this.$historyOuterDiv.append(jQuery('<div id="jo_synchro_historyHeader"><div class="jo_synchro_tabHeading">History:</div></div>)')),this.$belowMainHeadingDiv.append(this.$leftDiv,this.$historyOuterDiv),new Od(this.$historyOuterDiv,!0,!1,(function(){e.diffEditor.layout()})).$sliderDiv.css("left","-3px"),this.$historyOuterDiv.find(".joe_slider").css("position","absolute"),this.$historyScrollDiv=Hu("historyScrollDiv","jo_srollable"),this.$historyOuterDiv.append(this.$historyScrollDiv),this.$leftDiv.append(this.$leftUpperDiv=Hu("jo_synchro_leftUpper"),this.$editorDiv=Hu("jo_synchro_editor")),this.$leftUpperDiv.append(this.$fileListHeaderOuterDiv=Hu("jo_synchro_fileListHeaderOuter"),this.$fileListOuterDiv=Hu("jo_synchro_fileListOuter","jo_scrollable"),this.$fileListFooterDiv=Hu("jo_synchro_fileListFooter")),this.$fileListHeaderContainerRight=Hu(null,"jo_synchro_fileListHeaderContainerRight");var r=Hu(null,"jo_synchro_fileListHeader");this.$fileListHeaderContainerRight.append(r);var o=Hu(null,"jo_synchro_fileListHeaderCenter");o.append(this.$updateAllButton=xh.makeButton("updateAll","left",(function(){n.updateAll()}))),o.append(this.$commitAllButton=xh.makeButton("commitAll","right",(function(){n.commitAll()}))),this.$fileListHeaderDivs.push(Hu(null,"jo_synchro_fileListHeader","",{flex:"2 0"}),o,this.$fileListHeaderContainerRight,Hu(null,"jo_synchro_scrollbarPlaceholder")),this.$fileListDivs.push(Hu(null,"jo_synchro_fileList"),Hu(null,"jo_synchro_fileListButtonsLeft"),Hu(null,"jo_synchro_fileListButtonsRight"),Hu(null,"jo_synchro_fileList")),this.$fileListHeaderOuterDiv.append(this.$fileListHeaderDivs),this.$fileListOuterDiv.append(this.$fileListDivs),this.$fileListHeaderDivs[0].append("<div class='jo_synchro_tabHeading'>Dein Workspace:</div>"),r.append("<div class='jo_synchro_tabHeading'>Repository (aktuelle Version):</div>"),this.$fileListHeaderDivs[0].append(this.$backToWorkspaceButton=jQuery('<div class="jo_synchro_button jo_synchro_backToButton">Zeige eigenen Workspace</div>')),this.$backToWorkspaceButton.on("click",(function(){n.backToWorkspace()})),this.$backToWorkspaceButton.hide(),r.append(this.$backToCurrentRepositoryVersionButton=jQuery('<div class="jo_synchro_button jo_synchro_backToButton">Zeige aktuelle Repository-Version</div>')),this.$backToCurrentRepositoryVersionButton.on("click",(function(){n.backToCurrentRepositoryVersion()})),this.$backToWorkspaceButton.hide(),this.$fileListHeaderDivs[0].append(this.$writeWorkspaceChangesButton=jQuery('<div id="jo_synchro_writeChangesButton" class="jo_synchro_button">Ãnderungen am Workspace (rot!) speichern</div>')),this.$writeWorkspaceChangesButton.on("click",(function(){n.writeWorkspaceChanges()})),this.$writeWorkspaceChangesButton.hide(),r.append(this.$writeRepositoryChangesButton=jQuery('<div id="jo_synchro_writeChangesButton" class="jo_synchro_button">Ãnderungen am Repository (rot!) speichern</div>')),this.$writeRepositoryChangesButton.on("click",(function(){n.writeRepositoryChanges()})),this.$writeRepositoryChangesButton.hide(),new Od(this.$editorDiv,!0,!0,(function(){e.diffEditor.layout()})).setColor("var(--slider)"),this.makeDroppable("left",this.$fileListDivs[0]),this.makeDroppable("right",this.$fileListDivs[3]),this.initEditor()}},{key:"backToWorkspace",value:function(){this.leftSynchroWorkspace=this.currentUserSynchroWorkspace,this.setupSynchronizationListElements(),this.onContentChanged("left")}},{key:"backToCurrentRepositoryVersion",value:function(){this.rightSynchroWorkspace=this.currentRepositorySynchroWorkspace,this.setupSynchronizationListElements(),this.onContentChanged("right")}},{key:"makeDroppable",value:function(e,t){var n=this;t.on("dragover",(function(e){t.addClass("jo_synchro_dragZone"),e.preventDefault()})),t.on("dragleave",(function(){t.removeClass("jo_synchro_dragZone")})),t.on("drop",(function(i){var r=new gh(n).copyFromHistoryElement(wh.currentlyDragged);switch(e){case"left":n.leftSynchroWorkspace=r;break;case"right":n.rightSynchroWorkspace=r}n.setupSynchronizationListElements(),t.removeClass("jo_synchro_dragZone")}))}},{key:"setHeader",value:function(e,t){var n="left"==e?0:2;this.$fileListHeaderDivs[n].find(".jo_synchro_tabHeading").text(t)}},{key:"writeRepositoryChanges",value:function(){var e=this,t=this;this.$writeRepositoryChangesButton.hide();var n=Hu("","jo_synchro_commitDialogDiv");n.hide(),this.$fileListHeaderContainerRight.append(n),n.append(Hu("","jo_synchro_commitDialogCaption","Bitte beschreibe kurz die vorgenommenen Ãnderungen am Repository:"));var i=jQuery('<textarea class="jo_synchro_commitDialogTextarea"></textarea>');n.append(i);var r=Hu("","jo_synchro_commitDialogButtonDiv");n.append(r);var o=Hu("","jo_synchro_button","Abbrechen",{"background-color":"var(--updateButtonBackground)",color:"var(--updateButtonColor)"});r.append(o),o.on("click",(function(){n.remove(),t.$writeRepositoryChangesButton.show()}));var a=Hu("","jo_synchro_button","OK",{"background-color":"var(--createButtonBackground)",color:"var(--createButtonColor)"});r.append(a),n.show(600),a.on("click",(function(){var t=i.val();n.remove(),e.currentRepositorySynchroWorkspace.commit(e.currentUserSynchroWorkspace.copiedFromWorkspace,e.currentRepository,t,e.main,(function(t,n){null!=n?(alert(n),e.attachToWorkspaceAndRepository(e.currentRepositorySynchroWorkspace.copiedFromWorkspace)):(e.attachToRepository(t),e.$writeRepositoryChangesButton.hide())}))})),i.focus()}},{key:"writeWorkspaceChanges",value:function(){this.currentUserSynchroWorkspace.writeChangesToWorkspace(),this.currentUserSynchroWorkspace=new gh(this).copyFromWorkspace(this.currentUserSynchroWorkspace.copiedFromWorkspace),this.leftSynchroWorkspace=this.currentUserSynchroWorkspace,this.setupSynchronizationListElements(),this.$writeWorkspaceChangesButton.hide()}},{key:"initEditor",value:function(){this.diffEditor=monaco.editor.createDiffEditor(document.getElementById("jo_synchro_editor"),{originalEditable:!0,readOnly:!0,automaticLayout:!0})}},{key:"onContentChanged",value:function(e){var t="left"==e?this.$writeWorkspaceChangesButton:this.$writeRepositoryChangesButton;("left"==e?this.currentUserSynchroWorkspace:this.currentRepositorySynchroWorkspace).hasChanges()?t.show():t.hide()}},{key:"updateAll",value:function(){this.$fileListDivs[1].find(".jo_synchro_updateButton").click()}},{key:"commitAll",value:function(){this.$fileListDivs[2].find(".jo_synchro_commitButton").click()}},{key:"updateCenterButtons",value:function(){this.$fileListDivs[1].find(".jo_synchro_updateButton").length>0?this.$updateAllButton.css("visibility","inherit"):this.$updateAllButton.css("visibility","hidden"),this.$fileListDivs[2].find(".jo_synchro_commitButton").length>0?this.$commitAllButton.css("visibility","inherit"):this.$commitAllButton.css("visibility","hidden")}}])&&Ch(t.prototype,n),r&&Ch(t,r),e}();function Mh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var jh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.guiReady=!1,this.publishedToItems=[]}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){this.guiReady=!0;var e=this,t=jQuery("#createRepo-div");t.append(this.$mainHeading=Hu("","createUpdateRepo-mainHeading")),t.append(this.$settingsDiv=Hu("","createUpdateRepo-settingsDiv")),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">Name des Repositorys:</div>')),this.$settingsDiv.append(this.$repoName=jQuery('<input type="text" class="createUpdateRepo-inputcolumn"></input>')),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">Beschreibung:</div>')),this.$settingsDiv.append(this.$repoDescription=jQuery('<textarea class="createUpdateRepo-inputcolumn" style="min-height: 4em"></textarea>')),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">VerÃ¶ffentlicht fÃ¼r:</div>')),this.$settingsDiv.append(this.$repoPublishedTo=jQuery('<select class="createUpdateRepo-inputcolumn"></select>'));var n=Hu("createRepo-buttonDiv");n.append(this.$createButton=Hu("","jo_synchro_button","Repository erstellen",{"background-color":"var(--createButtonBackground)",color:"var(--createButtonColor)"})),this.$createButton.on("click",(function(){e.createButtonClicked()})),n.append(this.$cancelButton=Hu("","jo_synchro_button","Abbrechen",{"background-color":"var(--cancelButtonBackground)",color:"var(--cancelButtonColor)"})),this.$cancelButton.on("click",(function(){e.cancelButtonClicked()})),t.append(n)}},{key:"show",value:function(e){this.workspace=e,this.guiReady||this.initGUI();var t=this.main.user,n=!(t.is_admin||t.is_schooladmin||t.is_teacher);this.publishedToItems=[{value:"0",object:0,caption:"Keine VerÃ¶ffentlichung (privates Repository)"},{value:"1",object:1,caption:n?"VerÃ¶ffentlicht fÃ¼r alle SchÃ¼ler/innen der Klasse":"VerÃ¶ffentlicht fÃ¼r alle SchÃ¼ler/innen der unterrichteten Klassen"},{value:"2",object:2,caption:"VerÃ¶ffentlicht fÃ¼r alle SchÃ¼ler/innen der Schule"}],Qu(this.$repoPublishedTo,this.publishedToItems,"0"),jQuery("#createRepo-div").css("visibility","visible"),jQuery("#main").css("visibility","hidden"),this.initCreateMode(e);var i=this;this.main.windowStateManager.registerOneTimeBackButtonListener((function(){i.hide()}))}},{key:"initCreateMode",value:function(e){var t=this.main.user;t.rufname,t.familienname,t.username,t.id,this.$mainHeading.text('Repository anlegen und mit Workspace "'.concat(e.name,'" verknÃ¼pfen:')),this.$createButton.show(),this.$repoName.val(e.name)}},{key:"hide",value:function(){jQuery("#createRepo-div").css("visibility","hidden"),jQuery("#main").css("visibility","visible")}},{key:"createButtonClicked",value:function(){var e=this,t=Ku(this.$repoPublishedTo),n=this.$repoName.val(),i=this.$repoDescription.val();this.main.networkManager.sendCreateRepository(this.workspace,t,n,i,(function(t,n){if(null==t){var i=e.main.projectExplorer,r=i.workspaceListPanel.findElement(e.workspace);i.workspaceListPanel.setElementClass(r,"repository"),e.workspace.renderSynchronizeButton(r),i.showRepositoryButtonIfNeeded(e.workspace),window.history.back()}else alert(t)}))}},{key:"cancelButtonClicked",value:function(){window.history.back()}}])&&Mh(t.prototype,n),i&&Mh(t,i),e}();function Eh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Oh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.guiReady=!1,this.publishedToItems=[],this.repositoryOwnerItems=[],this.users=[]}var t,n,r;return t=e,(n=[{key:"initGUI",value:function(){this.guiReady=!0;var e=this,t=jQuery("#updateRepo-div");t.append(this.$mainHeading=Hu("updateRepo-mainHeading","createUpdateRepo-mainHeading","")),this.$mainHeading.append(Hu("","","Repositories verwalten")),this.$mainHeading.append(this.$exitButton=Hu("","jo_synchro_button","ZurÃ¼ck zum Programmieren",{"background-color":"var(--speedcontrol-grip)",color:"var(--fontColorLight)","font-size":"10pt"})),this.$exitButton.on("click",(function(){e.exitButtonClicked()}));var n=Hu("updateRepo-divBelow");t.append(n);var i=Hu("updateRepo-divLeft");n.append(i),i.append(Hu("","updateRepo-minorHeading","Repositories:")),this.$repoListDiv=Hu("updateRepo-repoListDiv"),i.append(this.$repoListDiv);var r=Hu("updateRepo-divRight");n.append(r),this.$settingsDiv=Hu("","createUpdateRepo-settingsDiv"),r.append(this.$settingsDiv),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">Name des Repositorys:</div>')),this.$settingsDiv.append(this.$repoName=jQuery('<input type="text" class="createUpdateRepo-inputcolumn"></input>')),this.$repoName.on("input",(function(){e.enableSaveButton()})),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">Beschreibung:</div>')),this.$settingsDiv.append(this.$repoDescription=jQuery('<textarea class="createUpdateRepo-inputcolumn" style="min-height: 4em"></textarea>')),this.$repoDescription.on("input",(function(){e.enableSaveButton()})),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">VerÃ¶ffentlicht fÃ¼r:</div>')),this.$settingsDiv.append(this.$repoPublishedTo=jQuery('<select class="createUpdateRepo-inputcolumn"></select>')),this.$repoPublishedTo.on("change",(function(){e.enableSaveButton()})),this.$settingsDiv.append(jQuery('<div class="createUpdateRepo-settingsLabel">EigentÃ¼mer:</div>')),this.$settingsDiv.append(this.$repoOwner=jQuery('<select class="createUpdateRepo-inputcolumn"></select>')),this.$repoOwner.on("change",(function(){e.enableSaveButton()})),r.append(this.$userlistDiv=Hu("updateRepo-userlistDiv")),this.$userlistDiv.append(Hu(null,"updateRepo-userlistheading","Benutzer, die das Repository nutzen",{"grid-column":1})),this.$userlistDiv.append(Hu(null,"updateRepo-userlistheading","Schreibberechtigung",{"grid-column":2}));var o=Hu("updateRepo-buttonDiv");o.append(this.$saveButton=Hu("","jo_synchro_button","Ãnderungen speichern",{"background-color":"var(--updateButtonBackground)",color:"var(--updateButtonColor)"})),this.$saveButton.on("click",(function(){e.saveButtonClicked()})),this.$saveButton.hide(),r.append(o)}},{key:"enableSaveButton",value:function(){this.$saveButton.show()}},{key:"show",value:function(e){this.guiReady||this.initGUI(),jQuery("#updateRepo-div").css("visibility","visible"),jQuery("#main").css("visibility","hidden");var t=this.main.user,n=!(t.is_teacher||t.is_admin||t.is_schooladmin);this.publishedToItems=[{value:0,object:0,caption:"Keine VerÃ¶ffentlichung (privates Repository)"},{value:1,object:1,caption:n?"VerÃ¶ffentlicht fÃ¼r alle SchÃ¼ler/innen der Klasse":"VerÃ¶ffentlicht fÃ¼r alle SchÃ¼ler/innen der unterrichteten Klassen"},{value:2,object:2,caption:"VerÃ¶ffentlicht fÃ¼r alle SchÃ¼ler/innen der Schule"}],Qu(this.$repoPublishedTo,this.publishedToItems,0),this.$saveButton.show(),this.showRepositoryList();var i=this;this.main.windowStateManager.registerOneTimeBackButtonListener((function(){i.hide()}))}},{key:"deleteRepository",value:function(e){var t=this;i("deleteRepository",{repository_id:e.id},(function(){t.showRepositoryList()}))}},{key:"showRepositoryList",value:function(){var e=this;this.emptyRepositoryInfo(),this.$repoListDiv.empty();var t=this;i("getRepositoryList",{onlyOwnRepositories:!0},(function(n){var i,r;n.repositories.forEach((function(n){var o=Hu("","updateRepo-repoListItem"),a=Hu("","",n.name),s=jQuery('<div class="img_delete jo_button jo_active" title="Repository lÃ¶schen..."></div>');o.append(a,s),e.$repoListDiv.append(o),o.on("click",(function(e){t.selectRepository(o,n)})),o.data("repoInfo",n),null==r&&(r=n,i=o),s.on("click",(function(e){e.preventDefault(),Vu([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: lÃ¶schen!",color:"#ff6060",callback:function(){t.deleteRepository(n)}}],e.pageX+2,e.pageY+2),e.stopPropagation()}))})),null!=i&&e.selectRepository(i,r)}))}},{key:"selectRepository",value:function(e,t){if(this.emptyRepositoryInfo(),this.$saveButton.is(":visible")){var n=this.$repoListDiv.find(".active").first().data("repoInfo");n&&alert('Deine Ãnderungen am Repository "'.concat(n.name,'" wurden nicht gespeichert.'))}this.$saveButton.hide(),this.$repoListDiv.find(".updateRepo-repoListItem").removeClass("active"),e.addClass("active"),this.$repoName.val(t.name),this.$repoDescription.val(t.description),this.$repoPublishedTo.val(t.published_to),this.$repoOwner.empty(),this.$userlistDiv.children().not(".updateRepo-userlistheading").remove();var r={repository_id:t.id},o=this;i("getRepositoryUserList",r,(function(e){e.repositoryUserList.forEach((function(e){var t=Hu("","updateRepo-userDiv","".concat(e.firstName," ").concat(e.lastName," (").concat(e.username,")"),{"grid-column":1}),n=Hu("","canWriteDiv","",{"grid-column":2}),i=jQuery('<input type="checkbox">');n.append(i),i.attr("checked",e.canWrite),i.data("user",e),i.on("change",(function(){o.enableSaveButton()})),o.$userlistDiv.append(t,n)})),o.$repoOwner.empty(),Qu(o.$repoOwner,e.repositoryUserList.map((function(e){return{caption:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.username,")"),object:e,value:e.user_id+""}})),t.owner_id+"")}))}},{key:"emptyRepositoryInfo",value:function(){this.$repoOwner.empty(),this.$repoName.val(""),this.$repoDescription.val(""),this.$userlistDiv.find(".updateRepo-userDiv").remove(),this.$userlistDiv.find(".canWriteDiv").remove()}},{key:"hide",value:function(){jQuery("#updateRepo-div").css("visibility","hidden"),jQuery("#main").css("visibility","visible")}},{key:"saveButtonClicked",value:function(){var e=this,t=this.$repoListDiv.find(".active").first().data("repoInfo"),n=this.$repoName.val(),r=Ku(this.$repoOwner),o=Ku(this.$repoPublishedTo),a={owner_id:r.user_id,description:this.$repoDescription.val(),published_to:o,repository_id:t.id,name:n},s=[];e.$userlistDiv.find("input").each((function(e,t){var n=jQuery(t).data("user");s.push({has_write_access:jQuery(t).is(":checked"),user_id:n.user_id})}));var l={repository_id:t.id,writeAccessList:s};t.owner_id==r.user_id||confirm("Soll die EigentÃ¼merschaft Ã¼ber das Repository "+t.name+" wirklich an "+r.firstName+" "+r.lastName+" Ã¼bertragen werden?")?i("updateRepositoryUserWriteAccess",l,(function(s){i("updateRepository",a,(function(i){t.name=n,t.owner_id=r.user_id,t.owner_name=r.firstName+" "+r.lastName,t.owner_username=r.username,t.published_to=o,t.description=a.description,alert("Die Ãnderungen wurden erfolgreich gespeichert."),e.$saveButton.hide(),e.showRepositoryList()}),(function(t){alert("Fehler: "+t),e.exitButtonClicked()}))}),(function(t){alert("Fehler: "+t),e.exitButtonClicked()})):alert("Der Speichervorgang wurde nicht durchgefÃ¼hrt.")}},{key:"exitButtonClicked",value:function(){window.history.back()}}])&&Eh(t.prototype,n),r&&Eh(t,r),e}();function Dh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.guiReady=!1,this.filterbuttonOptions=["alle","private","fÃ¼r die Klasse freigegebene","fÃ¼r die Schule freigegebene"],this.repositories=[]}var t,n,r;return t=e,(n=[{key:"initGUI",value:function(){var e=this;this.guiReady=!0;var t=this,n=jQuery("#checkoutRepo-div");n.append(this.$mainHeading=Hu("checkoutRepo-mainHeading","createUpdateRepo-mainHeading","")),this.$mainHeading.append(Hu("","","Checkout Repository - Workspace mit Repository verbinden")),this.$mainHeading.append(this.$exitButton=Hu("","jo_synchro_button","ZurÃ¼ck zum Programmieren",{"background-color":"var(--speedcontrol-grip)",color:"var(--fontColorLight)","font-size":"10pt"})),this.$exitButton.on("click",(function(){t.exitButtonClicked()}));var i=Hu("checkoutRepo-divBelow");n.append(i);var r=Hu("","checkoutRepo-chooseDiv");i.append(r),r.append(Hu("","checkoutRepo-minorHeading","Diesen Worspace mit dem Repository verbinden:")),this.$workspaceDropdown=jQuery("<select></select>"),r.append(this.$workspaceDropdown);var o=Hu("","checkoutRepo-chooseDiv");i.append(o),o.append(Hu("","checkoutRepo-minorHeading","Diese Repositories anzeigen:")),this.$filterButtonDiv=jQuery("<fieldset></fieldset>"),o.append(this.$filterButtonDiv),this.filterbuttonOptions.forEach((function(n,i){var r=jQuery('<input type="radio" id="b'.concat(i,'" name="publishedFilter" value="').concat(i,'" ').concat(0==i?"checked":"",">"));r.data("value",i),r.on("change",(function(e){t.showRepositories()})),e.$filterButtonDiv.append(r),e.$filterButtonDiv.append(jQuery('<label for="b'.concat(i,'">').concat(n,"</label>")))}));var a=Hu("","checkoutRepo-chooseDiv");i.append(a),a.append(Hu("","checkoutRepo-minorHeading","Filter/Suche:")),this.$filterInput=jQuery('<input type="text"></input>'),a.append(this.$filterInput),this.$filterInput.on("input",(function(e){t.showRepositories()})),i.append(Hu("","updateRepo-minorHeading","Repositories:",{"margin-bottom":"10px","margin-top":"20px"})),this.$repoListDiv=Hu("#checkoutRepo-repoListDiv","jo-scrollable"),i.append(this.$repoListDiv);var s=Hu("updateRepo-buttonDiv");s.append(this.$checkoutButton=Hu("","jo_synchro_button","Checkout",{"background-color":"var(--updateButtonBackground)",color:"var(--updateButtonColor)"})),this.$checkoutButton.on("click",(function(){t.checkoutButtonClicked()})),i.append(s)}},{key:"show",value:function(e){var t=this;this.guiReady||this.initGUI(),jQuery("#checkoutRepo-div").css("visibility","visible"),jQuery("#main").css("visibility","hidden"),this.main.user,this.$repoListDiv.empty();var n=this;i("getRepositoryList",{onlyOwnRepositories:!1},(function(e){t.repositories=e.repositories,t.showRepositories()})),this.$workspaceDropdown.empty(),Qu(this.$workspaceDropdown,[{caption:"Neuen Workspace erstellen",object:null,value:-1}].concat(this.main.workspaceList.filter((function(e){return null==e.repository_id})).map((function(e){return{caption:e.name,object:e,value:e.id}}))),-1),this.main.windowStateManager.registerOneTimeBackButtonListener((function(){n.hide()}))}},{key:"showRepositories",value:function(){var e=this,t=this;this.$repoListDiv.find(".checkoutRepo-repoListItem").remove();var n=this.$filterButtonDiv.find("input:checked").data("value")-1,i=n<0?this.repositories:this.repositories.filter((function(e){return e.published_to==n})),r=this.$filterInput.val();""!=(r=r.toLocaleLowerCase())&&(i=i.filter((function(e){return[e.owner_username,e.owner_name,e.name,e.description].join(" ").toLocaleLowerCase().indexOf(r)>=0}))),i.forEach((function(n){var i=Hu("","checkoutRepo-repoListItem"),r=Hu("","checkoutRepo-repoListItemLeft");i.append(r),r.append(Hu("","checkoutRepo-repoListName",n.name)),r.append(Hu("","checkoutRepo-repoListOwner",n.owner_name+" ("+n.owner_username+")"));var o=Hu("","checkoutRepo-repoListItemRight",n.description);i.append(o),e.$repoListDiv.append(i),i.data("repoInfo",n),i.on("click",(function(){t.selectRepository(i,n)}))})),this.selectFirstRepository()}},{key:"selectRepository",value:function(e,t){this.$repoListDiv.find(".checkoutRepo-repoListItem").removeClass("active"),null!=e&&e.addClass("active")}},{key:"selectFirstRepository",value:function(){this.$repoListDiv.find(".checkoutRepo-repoListItem").removeClass("active"),this.$repoListDiv.find(".checkoutRepo-repoListItem").first().addClass("active")}},{key:"hide",value:function(){jQuery("#checkoutRepo-div").css("visibility","hidden"),jQuery("#main").css("visibility","visible")}},{key:"checkoutButtonClicked",value:function(){var e=this.$repoListDiv.find(".active").first().data("repoInfo"),t=Ku(this.$workspaceDropdown),n={repository_id:e.id,createNewWorkspace:null==t,workspace_id:null==t?null:t.id},r=this;i("attachWorkspaceToRepository",n,(function(n){null==t&&null!=n.new_workspace?(r.main.networkManager.createNewWorkspaceFromWorkspaceData(n.new_workspace),alert("Der neue Workspace "+n.new_workspace.name+" wurde erfolgreich angelegt.")):(t.repository_id=e.id,r.main.projectExplorer.workspaceListPanel.setElementClass(t.panelElement,"repository"),alert("Der Workspace ".concat(t.name," wurde erfolgreich mit dem Repository ").concat(e.name," verknÃ¼pft."))),window.history.back()}))}},{key:"exitButtonClicked",value:function(){this.hide()}}])&&Dh(t.prototype,n),r&&Dh(t,r),e}();jQuery((function(){var e=new mh;window.require.config({paths:{vs:"lib/monaco-editor/dev/vs"}}),window.require.config({"vs/nls":{availableLanguages:{"*":"de"}},ignoreDuplicateModules:["vs/editor/editor.main"]}),window.require(["vs/editor/editor.main"],(function(){e.initEditor(),e.getMonacoEditor().updateOptions({readOnly:!0}),e.bottomDiv.initGUI(),e.repositoryOn&&(e.synchronizationManager=new Th(e),e.synchronizationManager.initGUI(),e.repositoryCreateManager=new jh(e),e.repositoryCreateManager.initGUI(),e.repositoryUpdateManager=new Oh(e),e.repositoryUpdateManager.initGUI(),e.repositoryCheckoutManager=new _h(e),e.repositoryCheckoutManager.initGUI())})),PIXI.Loader.shared.add("assets/graphics/spritesheet.json").load((function(){})),e.initGUI()}))}]);
//# sourceMappingURL=javaOnline.js.map